(window.webpackJsonp=window.webpackJsonp||[]).push([["Chat"],{"./node_modules/query-string/index.js":function(t,n,e){"use strict";var r=e("./node_modules/strict-uri-encode/index.js"),i=e("./node_modules/object-assign/index.js");function o(t,n){return n.encode?n.strict?r(t):encodeURIComponent(t):t}n.extract=function(t){return t.split("?")[1]||""},n.parse=function(t,n){var e=function(t){var n;switch(t.arrayFormat){case"index":return function(t,e,r){n=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),n?(void 0===r[t]&&(r[t]={}),r[t][n[1]]=e):r[t]=e};case"bracket":return function(t,e,r){n=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),n?void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=[e]:r[t]=e};default:return function(t,n,e){void 0!==e[t]?e[t]=[].concat(e[t],n):e[t]=n}}}(n=i({arrayFormat:"none"},n)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),i=n.shift(),o=n.length>0?n.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),e(decodeURIComponent(i),o,r)}),Object.keys(r).sort().reduce(function(t,n){var e=r[n];return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)?t[n]=function t(n){return Array.isArray(n)?n.sort():"object"==typeof n?t(Object.keys(n)).sort(function(t,n){return Number(t)-Number(n)}).map(function(t){return n[t]}):n}(e):t[n]=e,t},Object.create(null))):r},n.stringify=function(t,n){var e=function(t){switch(t.arrayFormat){case"index":return function(n,e,r){return null===e?[o(n,t),"[",r,"]"].join(""):[o(n,t),"[",o(r,t),"]=",o(e,t)].join("")};case"bracket":return function(n,e){return null===e?o(n,t):[o(n,t),"[]=",o(e,t)].join("")};default:return function(n,e){return null===e?o(n,t):[o(n,t),"=",o(e,t)].join("")}}}(n=i({encode:!0,strict:!0,arrayFormat:"none"},n));return t?Object.keys(t).sort().map(function(r){var i=t[r];if(void 0===i)return"";if(null===i)return o(r,n);if(Array.isArray(i)){var c=[];return i.slice().forEach(function(t){void 0!==t&&c.push(e(r,t,c.length))}),c.join("&")}return o(r,n)+"="+o(i,n)}).filter(function(t){return t.length>0}).join("&"):""}},"./node_modules/strict-uri-encode/index.js":function(t,n,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},"./src/chat/actions/container.ts":function(t,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"c",function(){return c}),e.d(n,"b",function(){return a});var r=e("./src/chat/constants/container.ts"),i=e("./src/lib/makeActionCreator/index.ts");var o="CONTAINER__SIZE_CHANGED",c=Object(i.a)(o),a=function(){return t=regeneratorRuntime.mark(function t(n,e,i){var o;i.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e().platform.currentPage){t.next=3;break}throw new Error("Could not open pop-out: current page not defined");case 3:window.open(o.url,"_blank","width=1024, height=768"),n(c(r.a.MINIMIZED));case 5:case"end":return t.stop()}},t,void 0)}),n=function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function r(i,o){try{var c=n[i](o),a=c.value}catch(t){return void e(t)}if(!c.done)return Promise.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)});t(a)}("next")})},function(t,e,r){return n.apply(this,arguments)};var t,n}},"./src/chat/actions/theme.ts":function(t,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"c",function(){return d}),e.d(n,"b",function(){return f});var r=e("./src/lib/makeActionCreator/index.ts"),i=e("./src/chat/constants/theme.ts");function o(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function r(i,o){try{var c=n[i](o),a=c.value}catch(t){return void e(t)}if(!c.done)return Promise.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)});t(a)}("next")})}}var c="THEME_CHANGED",a=i.b.REDDIT,s=i.b.NIGHT,u=Object(r.a)(c),d=function(){return t=o(regeneratorRuntime.mark(function t(n,e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e().user.prefs.globalTheme,n(u({themeKey:r===a?s:a}));case 3:case"end":return t.stop()}},t,void 0)})),function(n,e){return t.apply(this,arguments)};var t},f=function(t){return n=o(regeneratorRuntime.mark(function n(e,r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e(u({themeKey:t?s:a}));case 2:case"end":return n.stop()}},n,void 0)})),function(t,e){return n.apply(this,arguments)};var n}},"./src/chat/constants/channels.ts":function(t,n,e){"use strict";var r,i;e.d(n,"b",function(){return r}),e.d(n,"a",function(){return i}),e.d(n,"g",function(){return c}),e.d(n,"f",function(){return o}),e.d(n,"d",function(){return s}),e.d(n,"e",function(){return u}),e.d(n,"c",function(){return a}),function(t){t.JOINED="JOINED",t.INVITED="INVITED",t.PARTIAL="PARTIAL",t.UNSORTED="NONE"}(r||(r={})),function(t){t.BLOCK="block",t.CREATE="create",t.DECLINE_REQUEST="decline",t.INVITE_MEMBERS="invite",t.INVITE_MEMBERS_CONFIRMATION="invite_confirmation",t.DENY="deny",t.LEAVE="leave",t.LOCK_CHANNEL_CONFIRMATION="lock_confirmation",t.VIEW_JOIN="join",t.VIEW_MEMBERS="members",t.VIEW_NSFW_CONFIRMATION="nsfw",t.VIEW_PRIVATE="private",t.VIEW_INVITE="invited"}(i||(i={}));var o,c=[i.DENY,i.VIEW_JOIN,i.VIEW_PRIVATE];!function(t){t.NonSuper="nonsuper",t.Super="super"}(o||(o={}));var a,s=30,u=99;!function(t){t.All="all",t.UnreadMessages="unread_message_count_only",t.Off="off"}(a||(a={}))},"./src/chat/constants/container.ts":function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return i});var r={EMBED:"embed",FULL:"full",HIDDEN:"hidden",MINIMIZED:"minimized"},i={embed:{width:560,height:380},full:{width:void 0,height:void 0},hidden:{width:0,height:0},minimized:{width:126,height:40}}},"./src/chat/constants/theme.ts":function(t,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return i});var r={REDDIT:"REDDIT",NIGHT:"NIGHT"},i=r.REDDIT},"./src/chat/helpers/urls/index.ts":function(t,n,e){"use strict";e.d(n,"i",function(){return c}),e.d(n,"c",function(){return s}),e.d(n,"b",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"f",function(){return f}),e.d(n,"h",function(){return h}),e.d(n,"j",function(){return l}),e.d(n,"g",function(){return p}),e.d(n,"k",function(){return m}),e.d(n,"a",function(){return g}),e.d(n,"e",function(){return v});var r=e("./src/config.ts"),i=e("./node_modules/query-string/index.js"),o=e("./src/chat/constants/channels.ts"),c="/chat/",a=function(t){return t?function(t){return"r/"+String(t).toLowerCase()+"/channel"}(t):"channel"},s=function(t,n){return"/chat/"+a(n)+"/"+t},u=function(t,n,e){return"/chat/"+a(e)+"/"+t+"/"+n},d=function(t){return"/chat/user_id/"+t},f=function(t){return r.a.shortUrl+"/channel/"+t},h=function(t,n,e,r){return{pathname:u(t,e,r)+"/message/"+n,state:{isOverlay:!0}}},l=function(t,n,e,r,o){return u(t,e,r)+"/user/"+n+(o?"?"+Object(i.stringify)(o):"")},p=function(t){return new RegExp("reddit.com").test(t)?t.replace(/^.+reddit.com(\/r\/.+?\/).*$/g,"$1"):""},m=function(t){return r.a.redditUrl+"/user/"+t},g=function(t){return r.a.redditUrl+"/r/"+t+"/about/banned"},v=function(t,n){var e=t.channelId,r=t.channelState,i=o.b.INVITED,a=o.b.PARTIAL,d=o.b.JOINED,f=o.a.VIEW_JOIN,h=o.a.VIEW_INVITE;switch(r){case i:return u(e,h,n);case a:return u(e,f,n);case d:return s(e,n);default:return c}}},"./src/chat/index.tsx":function(t,n,e){"use strict";e.r(n);var r=e("./node_modules/history/index.js"),i=e("./node_modules/js-cookie/src/js.cookie.js"),o=e.n(i),c=(e("./src/polyfill.ts"),e("./node_modules/redux-thunk/lib/index.js")),a=e.n(c),s=e("./src/lib/constants/index.ts"),u=e("./src/lib/initializeClient/index.tsx"),d=e("./src/lib/matchRoute/index.ts"),f=e("./src/reduxMiddleware/apiContext.ts"),h=e("./src/chat/actions/apiRequestHeaders.ts"),l=e("./src/chat/actions/platform.ts"),p=e("./src/chat/actions/promo.ts"),m=e("./src/chat/actions/session.ts"),g=e("./src/chat/actions/user.ts"),v=e("./src/chat/components/Root/index.tsx"),b=e("./src/chat/customMiddleware/containerSize.ts"),x=e("./src/chat/customMiddleware/heartbeat.ts"),F=e("./src/chat/customMiddleware/iframeDispatcher.ts"),I=e("./src/chat/customMiddleware/loggedOutPreferencesSync.ts"),C=e("./src/chat/customMiddleware/sendbirdToken.ts"),D=e("./src/chat/customMiddleware/title.ts"),A=e("./src/chat/customMiddleware/tokenRefresher.ts"),w=e("./src/chat/customMiddleware/tracking.ts"),E=e("./src/chat/customMiddleware/unreadMessageCount.ts"),y=e("./src/chat/pageLoaders/async.ts"),T=e("./src/chat/reducers/index.ts"),O=e("./src/chat/routes/index.ts"),j=e("./src/chat/selectors/app.ts"),R=Object(f.a)({actionDispatchers:{reddaidReceived:g.r,loidReceived:g.q,sessionTrackerReceived:g.v},cookies:o.a,receivedActions:{loidReceived:g.e,reddaidReceived:g.f,sessionTrackerReceived:g.g,userAuthenticated:m.a,userLoggedOut:m.b,userReauthenticated:m.c,headersReceived:h.a},statsAppName:s.n.Chat}),N=Date.now();Object(u.a)({pageLoader:y.a,reducers:T.a,routes:O.a,apiContext:R.apiContext,appFactory:v.a,history:Object(j.d)()?Object(r.createMemoryHistory)({initialEntries:[window.location.pathname],initialIndex:0}):Object(r.createBrowserHistory)(),adsDisabled:!0,customMiddleware:[a.a.withExtraArgument({routes:O.a,apiContext:R.apiContext}),R.middleware,A.a,C.a,F.a,x.a,I.a,Object(w.a)(N),b.a,E.a,D.a],staticPages:{error:function(){throw new Error("Not Implemented: Error Static Page")},loading:function(){return null}},preRender:function(t){var n=t.browserHistory,e=t.routes,i=t.store;n.listen(function(t,n){var o=Object(d.a)(Object(r.createPath)(t),e);i.dispatch(Object(l.d)(t,n,o))}),i.dispatch(Object(p.f)())},raven:{appName:s.n.Chat},ssr:!0,target:document.getElementById("chat-container"),timingsSampleRate:1})},"./src/chat/reducers/subscribe.ts":function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return i});var r=function(t,n){return n},i=function(t,n){return function(){return n(t.getState().actionListener)}}},"./src/reddit/constants/headers.ts":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r="reddit-user_id"},"./src/reddit/helpers/styles/mixins/fonts.tsx":function(t,n,e){"use strict";e.r(n),e.d(n,"BODY_FONT_FAMILY",function(){return r}),e.d(n,"CODE_FONT_FAMILY",function(){return i}),e.d(n,"titleFontH1",function(){return o}),e.d(n,"titleFontH2",function(){return c}),e.d(n,"titleFontH3",function(){return a}),e.d(n,"titleFontH4",function(){return s}),e.d(n,"titleFontH5",function(){return u}),e.d(n,"titleFontH6",function(){return d}),e.d(n,"metadataFont",function(){return f}),e.d(n,"flairFont",function(){return h}),e.d(n,"labelsFont",function(){return l}),e.d(n,"actionFont",function(){return p}),e.d(n,"smallButtonFont",function(){return m}),e.d(n,"largeButtonFont",function(){return g}),e.d(n,"tabFont",function(){return v}),e.d(n,"bodyFontH1",function(){return b}),e.d(n,"bodyFontH2",function(){return x}),e.d(n,"bodyFontH3",function(){return F}),e.d(n,"bodyFontH4",function(){return I}),e.d(n,"bodyFontH5",function(){return C}),e.d(n,"bodyFontH6",function(){return D}),e.d(n,"bodyFont",function(){return A}),e.d(n,"bodyFontSmall",function(){return w}),e.d(n,"bodyFontMono",function(){return E});var r="'Noto Sans', sans-serif",i="'Noto Mono', Menlo, Consolas, 'Courier New', monospace",o="\n  font-size: 22px;\n  font-weight: 500;\n  line-height: 26px;\n",c="\n  font-size: 20px;\n  font-weight: 500;\n  line-height: 24px;\n",a="\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 22px;\n",s="\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 20px;\n",u="\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 18px;\n",d="\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 16px;\n",f="\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n",h="\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 16px;\n",l="\n  font-size: 10px;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  line-height: 12px;\n  text-transform: uppercase;\n",p="\n  font-size: 12px;\n  font-weight: 700;\n  line-height: 16px;\n",m="\n  font-size: 12px;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  line-height: 24px;\n  text-transform: uppercase;\n",g="\n  font-size: 14px;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  line-height: 32px;\n  text-transform: uppercase;\n",v="\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 32px;\n",b="\n  font-family: "+r+";\n  font-size: 22px;\n  font-weight: 400;\n  line-height: 26px;\n",x="\n  font-family: "+r+";\n  font-size: 20px;\n  font-weight: 400;\n  line-height: 24px;\n",F="\n  font-family: "+r+";\n  font-size: 18px;\n  font-weight: 400;\n  line-height: 22px;\n",I="\n  font-family: "+r+";\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 20px;\n",C="\n  font-family: "+r+";\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 18px;\n",D="\n  font-family: "+r+";\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n",A="\n  font-family: "+r+";\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 21px;\n",w="\n  font-family: "+r+";\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 18px;\n",E="\n  font-family: "+i+";\n  font-size: 13px;\n  font-weight: 400;\n  line-height: 20px;\n"},"./src/reddit/models/NewStructuredStyles/index.ts":function(t,n,e){"use strict";e.d(n,"c",function(){return f}),e.d(n,"a",function(){return m}),e.d(n,"b",function(){return g});var r=e("./node_modules/polished/dist/polished.es.js"),i=e("./src/reddit/models/Theme/NewColorSystem/index.ts"),o={borderRadius:"24",customSize:"32",padding:"6",size:"24"},c={highlight:"#E9F5FD",metaText:"#787C7E",placeholder:"#D3D6DA",postIcon:"#878A8C",postLine:"#D3D6DA",report:"#FFF7E5"},a={body:"#FFFFFF",actionIcon:"#878A8C",navIcon:"#1A1A1B",field:"#F6F7F8",flair:"#EDEFF1",inactive:"#EDEFF1",line:"#EDEFF1",lightText:"#FFFFFF",postFlairText:"#1A1A1B"},s={active:"#24A0ED",banner:{backgroundColor:"#24A0ED",backgroundImage:void 0,backgroundImagePosition:"cover",communityNameFormat:"slashtag",iconColor:"#24A0ED",iconImage:void 0,iconDimensions:o,lineHeight:"38",height:64,positionedImage:void 0,positionedImageHeight:48,positionedImageAlignment:"cover",secondaryBannerPositionedImage:void 0,showCommunityIcon:!0},bodyText:"#1A1A1B",button:"#0079D3",canvas:"#DAE0E6",linkText:"#0079D3",menu:"#FFFFFF",menuActiveText:"#0079D3",menuInactiveText:"#0079D3",metaText:"#787C7E",navBar:{activeLink:c.highlight,activeSubmenuCaret:"#24A0ED",activeSubmenuLink:"#24A0ED",backgroundColor:"#24A0ED",backgroundImage:void 0,hoverLink:c.highlight,inactiveLink:a.inactive,inactiveSubmenuCaret:Object(r.f)(.6,"#24A0ED"),inactiveSubmenuLink:Object(r.f)(.6,"#24A0ED"),submenuBackgroundColor:Object(r.f)(.93,"#24A0ED"),useOverlay:!1},post:"#FFFFFF",postFlairText:"#1A1A1B",titleText:"#1A1A1B",voteText:{base:"#878A8C",downvote:"#7193FF",upvote:"#FF4500"},voteIcons:{upvoteActive:void 0,upvoteInactive:void 0,downvoteActive:void 0,downvoteInactive:void 0},widgetColors:{sidebarWidgetBackgroundColor:"#FFFFFF",sidebarWidgetHeaderColor:"#FFFFFF",lineColor:Object(i.d)("#1A1A1B")}},u={actionIcon:"#818384",body:"#1A1A1B",bodyText:"#D7DADC",button:"#D7DADC",canvas:"#030303",field:"#272729",highlight:"#17232D",inactive:"#343536",lightText:"#FFFFFF",line:"#343536",linkText:"#4FBCFF",menu:"#030303",menuActiveText:"#D7DADC",menuInactiveText:"#D7DADC",metaText:"#818384",navIcon:"#D7DADC",placeholder:"#3A3A3C",post:"#1A1A1B",postFlairText:"#FFFFFF",postIcon:"#818384",postLine:"#343536",report:"#1C1402",titleText:"#D7DADC",voteText:{base:"#818384",downvote:"#7193FF",upvote:"#FF4500"},voteIcons:{upvoteActive:void 0,upvoteInactive:void 0,downvoteActive:void 0,downvoteInactive:void 0},widgetColors:{sidebarWidgetBackgroundColor:"#1A1A1B",sidebarWidgetHeaderColor:"#1A1A1B",lineColor:"#343536"}},d={active:"#0079D3",banner:{backgroundColor:"#24A0ED",backgroundImage:void 0,backgroundImagePosition:"cover",communityNameFormat:"slashtag",iconColor:"#24A0ED",iconImage:void 0,iconDimensions:o,lineHeight:"38",height:64,positionedImage:void 0,positionedImageHeight:48,positionedImageAlignment:"cover",secondaryBannerPositionedImage:void 0,showCommunityIcon:!0},flair:"#343536",navBar:{activeLink:c.highlight,activeSubmenuCaret:"#D7DADC",activeSubmenuLink:"#D7DADC",backgroundColor:"#030303",backgroundImage:void 0,hoverLink:"#D7DADC",inactiveLink:"#D7DADC",inactiveSubmenuCaret:"#D7DADC",inactiveSubmenuLink:"#D7DADC",submenuBackgroundColor:"#1A1A1B",useOverlay:!1}},f=function(t,n,e){return e?h(t):l(t,n)},h=function(t){return Object.assign({},g,{banner:t.banner||d.banner,navBar:t.navBar||d.navBar})},l=function(t,n){var e=void 0;return t.post?((e=Object.assign({},a,n,t,{bodyText:p(t.post,!1,.89),metaText:p(t.post,!1,.51),placeholder:p(t.post,!1,.16),postIcon:p(t.post,!1,.46),postLine:p(t.post,!1,.2),report:Object(r.c)(.1,"#FFB000",t.post)})).voteText.base=p(t.post,!1,.46),t.active?e.highlight=Object(r.c)(.1,t.active,t.post):e.highlight=p(t.post,!1,.1)):(e=Object.assign({},t,a,{active:s.active})).voteText.base=s.voteText.base,e},p=function(t,n,e){return Object(r.c)(e,function(t){return t?"#FFFFFF":"#000000"}(n),t)},m=Object.assign({},s,c,a),g=Object.assign({},d,u)},"./src/reddit/models/Theme/NewColorSystem/index.ts":function(t,n,e){"use strict";e.d(n,"f",function(){return o}),e.d(n,"d",function(){return c}),e.d(n,"e",function(){return a}),e.d(n,"c",function(){return s}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return d});var r=e("./node_modules/polished/dist/polished.es.js"),i=e("./src/reddit/models/NewStructuredStyles/index.ts"),o={borderRadius:"32",customSize:"52",padding:"10",size:"36"};function c(t){return Object(r.j)(.93,t)}function a(t,n,e){return Object(i.c)(t,n,e)}function s(t){return t.redditStyle||t["data-redditstyle"]?t.theme.newRedditTheme:t.theme.newCommunityTheme}function u(t){return t.theme.newRedditTheme}function d(t){return Object(r.e)(t,.2)}}},[["./src/chat/index.tsx","runtime","vendors~Chat~CommentsPage~ModerationPages~PostCreation~RedesignChat~StructuredStyles~Subreddit~UiDas~b19153b9","vendors~Chat~Gifts~ProductionClient~Reddit","vendors~Chat~ProductionClient~Reddit","vendors~Chat~RedesignChat","Chat~Gifts~ProductionClient~Reddit","Chat~ProductionClient~Reddit","Chat~Reddit~RedesignChat","Chat~RedesignChat"]]]);
//# sourceMappingURL=Chat.65a65b9023d5a8c9e129.js.map