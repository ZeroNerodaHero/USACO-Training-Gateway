(window.webpackJsonp=window.webpackJsonp||[]).push([["Chat~RedesignChat"],{"./src/chat/actions/apiRequestHeaders.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./src/lib/makeActionCreator/index.ts"),a="API_REQUEST_HEADERS__set";Object(r.a)(a)},"./src/chat/actions/channel.ts":function(e,t,n){"use strict";n.d(t,"f",function(){return K}),n.d(t,"d",function(){return G}),n.d(t,"e",function(){return V}),n.d(t,"p",function(){return z}),n.d(t,"o",function(){return J}),n.d(t,"q",function(){return Q}),n.d(t,"g",function(){return q}),n.d(t,"c",function(){return W}),n.d(t,"w",function(){return Z}),n.d(t,"x",function(){return Y}),n.d(t,"y",function(){return X}),n.d(t,"u",function(){return $}),n.d(t,"j",function(){return ee}),n.d(t,"k",function(){return te}),n.d(t,"h",function(){return ne}),n.d(t,"i",function(){return re}),n.d(t,"a",function(){return ae}),n.d(t,"b",function(){return ce}),n.d(t,"t",function(){return oe}),n.d(t,"r",function(){return ie}),n.d(t,"m",function(){return se}),n.d(t,"v",function(){return ue}),n.d(t,"n",function(){return de}),n.d(t,"l",function(){return le}),n.d(t,"s",function(){return fe}),n.d(t,"M",function(){return he}),n.d(t,"L",function(){return pe}),n.d(t,"z",function(){return ve}),n.d(t,"D",function(){return ye}),n.d(t,"T",function(){return xe}),n.d(t,"S",function(){return ke}),n.d(t,"R",function(){return Ae}),n.d(t,"O",function(){return De}),n.d(t,"K",function(){return Me}),n.d(t,"C",function(){return Be}),n.d(t,"B",function(){return Fe}),n.d(t,"I",function(){return Ke}),n.d(t,"P",function(){return Je}),n.d(t,"F",function(){return et}),n.d(t,"G",function(){return nt}),n.d(t,"H",function(){return rt}),n.d(t,"E",function(){return ct}),n.d(t,"A",function(){return ot}),n.d(t,"N",function(){return it}),n.d(t,"J",function(){return st}),n.d(t,"Q",function(){return lt});var r=n("./node_modules/lodash/isEqual.js"),a=n.n(r),c=n("./node_modules/lodash/first.js"),o=n.n(c),i=n("./node_modules/lodash/debounce.js"),s=n.n(i),u=n("./node_modules/react-router-redux/es/index.js"),d=n("./src/lib/makeActionCreator/index.ts"),l=n("./src/chat/actions/channel/moderator.ts"),f=n("./src/chat/actions/channel/subreddit.ts"),h=n("./src/chat/actions/members.ts"),b=n("./src/chat/actions/message/index.ts"),p=n("./src/chat/actions/message/unreadCount.ts"),m=n("./src/chat/actions/tracking.ts"),v=n("./src/chat/actions/user.ts"),g=n("./src/chat/actions/sidebar.ts"),y=n("./src/chat/constants/batchSizes.ts"),O=n("./src/chat/constants/channels.ts"),j=n("./src/chat/constants/sendbird.ts"),x=n("./src/chat/endpoints/sendbird/index.ts"),C=n("./src/chat/helpers/errors.ts"),w=n("./src/chat/helpers/urls/index.ts"),E=n("./src/chat/models/Channel/index.ts"),I=n("./src/chat/models/Channel/moderator.ts"),k=n("./src/chat/models/Channel/platform.ts"),_=n("./src/chat/models/Channel/utils.ts"),S=n("./src/chat/models/Message/index.ts"),A=n("./src/chat/models/Subreddit/index.ts"),N=n("./src/chat/selectors/channels.ts"),R=n("./src/chat/selectors/channels/next.tsx"),T=n("./src/chat/selectors/experiments.ts"),D=n("./src/chat/selectors/platform.ts"),M=n("./src/chat/selectors/promos.ts"),P=n("./src/chat/selectors/sidebar.ts"),L=n("./src/chat/selectors/subreddit.ts"),U=n("./src/chat/singleton/SendbirdSDK.ts"),H=void 0;function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var K="CHANNEL__ADD_SUCCESS",G="CHANNEL__ADD_FAIL",V="CHANNEL__CREATE_CHANNEL_START",z="CHANNEL__SELECT_BEGIN",J="CHANNEL__RESET_UNREAD_COUNT",Q="CHANNEL__SELECT_END",q="CHANNEL__EXPAND_INVITE_LIST",W="CHANNEL__COLLAPSE_INVITE_LIST",Z="CHANNEL__UPDATE_MODEL",Y="CHANNEL__INVITED_UPDATE",X="CHANNEL__JOINED_UPDATE",$="CHANNEL__SET_UPDATED_CHANNEL_ON_TOP",ee="CHANNEL__FETCHING_JOINED_CHANNELS",te="CHANNEL__FETCHING_JOINED_CHANNELS_FAILED",ne="CHANNEL__FETCHING_INVITED_CHANNELS",re="CHANNEL__FETCHING_INVITED_CHANNELS_FAILED",ae="CHANNEL__ADD_EXISTING_INVITED_CHANNELS",ce="CHANNEL__ADD_EXISTING_JOINED_CHANNELS",oe="CHANNEL__SET_INVITED_CHANNEL_TO_JOINED",ie="CHANNEL__SET_EXISTING_CHANNELS_END",se="CHANNEL__REMOVE_CHANNEL",ue="CHANNEL__UNSORT_CHANNEL",de="CHANNEL__RESET_CHANNEL_MESSAGE_LIST",le="CHANNEL__FETCH_FIRST_MESSAGE",fe="CHANNEL__SET_FIRST_MESSAGE_ID",he=Object(d.a)(se),be=Object(d.a)(ue),pe=function(e,t){return n=F(regeneratorRuntime.mark(function n(r,a){var c,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c=a(),o=Object(N.M)(c,e),r(o?be({channelId:e,subredditName:t}):he({channelId:e,subredditName:t}));case 3:case"end":return n.stop()}},n,H)})),function(e,t){return n.apply(this,arguments)};var n},me=Object(d.a)(oe),ve=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c,o,i,s,d,l,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=a.channels.selected,o=a.contacts.models,i=e||c.channelId){t.next=5;break}throw new C.a("accepted channelId",e);case 5:if(s=Object(N.k)(a),d=s&&s.firstMessageId,l=!!(s&&d&&s.hasMoreMessages),f=Object(N.b)(a,o),h=Object(M.a)(a),!f||!h){t.next=13;break}return n(Object(u.b)(Object(w.b)(i,O.a.VIEW_NSFW_CONFIRMATION))),t.abrupt("return");case 13:return t.next=15,U.b.acceptChannelInvite().then(function(){return l&&n(Object(b.p)(d))}).then(function(){return n(me({channelId:i}))}).then(function(){return n(Object(u.b)(Object(w.c)(i)))});case 15:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},ge=function(e,t){return n=F(regeneratorRuntime.mark(function n(r,a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r(pe(e,t));case 1:case"end":return n.stop()}},n,H)})),function(e,t){return n.apply(this,arguments)};var n},ye=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=Object(N.C)(a,"channelState"),o=Object(N.C)(a,"channelId"),i=a.channels.models[o],o){t.next=6;break}throw new C.a("declinedChannelId",o);case 6:if(c){t.next=8;break}throw new C.a("declinedChannelType",c);case 8:U.b.declineChannelInvite().then(function(){return n(ge(o,e))}).then(function(){return n(Ge(i.channelState))});case 9:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},Oe=Object(d.a)(Y),je=Object(d.a)(X),xe=Object(d.a)(Z),Ce=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r().user.account.id,c=e.members.filter(function(e){return e.id!==a}).map(function(e){return e.id}),n(Object(v.w)(c));case 3:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},we=function(e){if(e.type===E.a.Subreddit){var t=e.customData.subreddit;return t&&t.name}},Ee=function(e){return t=F(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.type!==E.a.Subreddit){t.next=7;break}return r=Object(A.c)([e]),t.next=4,n(Object(f.o)(r));case 4:n(Object(f.w)({channel:e})),t.next=10;break;case 7:return t.next=9,n(Oe({channel:e}));case 9:n(Ce(e));case 10:case"end":return t.stop()}},t,H)})),function(e){return t.apply(this,arguments)};var t},Ie=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=e.channelId,o=we(e),!(i=Object(N.y)(a))||i.channelId!==e.channelId){t.next=10;break}return t.next=7,n(he({channelId:c,subredditName:o}));case 7:return t.next=9,n(xe({channel:e}));case 9:n(Ge(i.channelState));case 10:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},ke=function(e,t){return n=F(regeneratorRuntime.mark(function n(r,c){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=23;break}if(o=c(),i=Object(N.h)(o,e.channelId),(e.channelState===O.b.INVITED||i)&&!t){n.next=5;break}return n.abrupt("return");case 5:if(e=_e(o,e),!a()(e,i)){n.next=8;break}return n.abrupt("return");case 8:n.t0=e.channelState,n.next=n.t0===O.b.INVITED?11:n.t0===O.b.UNSORTED?14:n.t0===O.b.JOINED?17:20;break;case 11:return n.next=13,r(Ee(e));case 13:return n.abrupt("break",22);case 14:return n.next=16,r(Ie(e));case 16:return n.abrupt("break",22);case 17:return n.next=19,r(je({channel:e}));case 19:return n.abrupt("break",22);case 20:return Object(C.b)("Error updating channel. ChannelState not found."),n.abrupt("break",22);case 22:r(Object(p.b)());case 23:case"end":return n.stop()}},n,H)})),function(e,t){return n.apply(this,arguments)};var n},_e=function(e,t){var n=Object(D.d)(e),r=Object(N.h)(e,t.channelId),a=n===t.channelId,c=t.type===E.a.Subreddit;return a&&(t.unreadMessageCount=0),!a&&c&&(t.unreadMessageCount=t.unreadMessageCount?1:0),r&&c&&(t.lastMessage=r.lastMessage,t.isMessageListLoaded=r.isMessageListLoaded,t.hasMoreMessages=r.hasMoreMessages,r.moderators&&(t.moderators=r.moderators)),t},Se=Object(d.a)($),Ae=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.channelId,e.type!==E.a.Subreddit&&n(Se({channelId:a}));case 2:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},Ne=Object(d.a)(J),Re=Object(d.a)(z),Te=Object(d.a)(Q),De=function(){return e=F(regeneratorRuntime.mark(function e(t,n){var r,a,c,o,i,s,d,f,p,m,v,y,x,C,E,k,_,S,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=Object(D.d)(r),c=Object(D.c)(r),o=O.a.DENY,i=O.a.VIEW_JOIN,r.platform.currentPage){e.next=6;break}return e.abrupt("return");case 6:if(s=r.sidebarTabs.activeIndex,a&&t(Object(g.e)({channelId:a,tabIndex:s})),d=a&&Object(N.h)(r,a),f=d&&Object(L.b)(r,d.channelId),p=f&&f.name||void 0,d||c!==o){e.next=13;break}return e.abrupt("return");case 13:if(m=!(!d||d.channelState!==O.b.UNSORTED),!(v=!(!a||!Object(N.N)(r,a)))&&!m){e.next=19;break}if(!d||c){e.next=19;break}return t(Object(u.b)(Object(w.b)(d.channelId,i,p))),e.abrupt("return");case 19:if(y=!(!d||d.channelState!==O.b.JOINED),!d||!y){e.next=24;break}if(!c||!O.g.includes(c)){e.next=24;break}return t(Object(u.b)(Object(w.c)(d.channelId,p))),e.abrupt("return");case 24:if(!d||!a){e.next=46;break}return t(Re({channelId:a})),x=v||m,e.next=29,U.b.enterChannel(d,!1,x);case 29:if(!(C=e.sent)||C.error){e.next=42;break}return E=C.data,k=E.messageListData,_=E.moderators,e.next=34,t(Object(b.m)(k));case 34:return e.next=36,t(Object(l.b)(Object(I.a)(_)));case 36:return e.next=38,t(Te());case 38:t(Me(a)),t(Object(h.f)()),e.next=44;break;case 42:t(Object(b.y)()),t(Te());case 44:e.next=56;break;case 46:if(S=r.sendbird.sdk.connectionStatus===j.b.Open,d||!a||!S){e.next=54;break}return e.next=50,U.b.addChannelModelByChannelId(a);case 50:if(!(A=e.sent)||c){e.next=54;break}return t(Object(u.b)(Object(w.b)(A.channelId,i,p))),e.abrupt("return");case 54:t(Je()),t(Object(b.y)());case 56:case"end":return e.stop()}},e,H)})),function(t,n){return e.apply(this,arguments)};var e},Me=(Object(d.a)("MESSAGE__MARK_AS_READ"),s()(function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!(c=e||Object(D.d)(a))){t.next=8;break}return t.next=5,n(Ne(c));case 5:return t.next=7,U.b.markChannelAsRead();case 7:n(Object(p.b)());case 8:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},300,{leading:!1,trailing:!0})),Pe=Object(d.a)(V),Le=Object(d.a)(K),Ue=Object(d.a)(G),He=function(e,t,n){var r=e.map(function(e){return{user_id:e,nickname:t[e].name}});if(n){var a=n.id,c=n.name;-1===r.findIndex(function(e){return e.user_id===a})&&r.unshift({user_id:a,nickname:c})}return r},Be=function(e,t,n){return r=F(regeneratorRuntime.mark(function r(a,c,o){var i,s,d,l,f,h,b,p,v,g,y,j,C,E=o.apiContext;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=c(),s=i.user,d=s.account,l=s.session,f=i.contacts.models,h=i.channels,b=h.joined,p=h.invited,!d||!l){r.next=31;break}if(a(Pe()),!((v=He(e,f,d)).length<2)){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,Object(x.c)(E(),l,v,t);case 9:if(!(g=r.sent).ok){r.next=29;break}if(y=g.body,j=Object(k.a)(y,O.b.JOINED),C=j.channelId,!p.sortedKeys.includes(C)){r.next=19;break}a(ve(C)),a(Object(m.h)(e,C)),r.next=27;break;case 19:if(!b.sortedKeys.includes(C)){r.next=23;break}n&&(a(Object(u.b)(Object(w.c)(C))),a(Object(m.h)(e,C))),r.next=27;break;case 23:return r.next=25,a(Le(B({},C,j)));case 25:a(Object(m.h)(e,C)),n&&a(Object(u.b)(Object(w.c)(C)));case 27:r.next=31;break;case 29:a(Ue()),a(Object(m.x)(e));case 31:case"end":return r.stop()}},r,H)})),function(e,t,n){return r.apply(this,arguments)};var r},Fe=function(e,t){return n=F(regeneratorRuntime.mark(function n(r,a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.length>1&&(e=[o()(e)]),n.next=3,r(Object(v.w)(e));case 3:r(Be(e,t,!0));case 4:case"end":return n.stop()}},n,H)})),function(e,t){return n.apply(this,arguments)};var n},Ke=function(e){return t=F(regeneratorRuntime.mark(function t(n,r,a){var c,o,i,s,d,l,f,h=a.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),o=c.user,i=o.account,s=o.session,d=c.contacts.models,l=Object(N.C)(c,"channelSendbirdUrl"),!i||!s){t.next=9;break}return f=He(e,d),t.next=7,Object(x.i)(h(),s,f,l);case 7:t.sent.body?(n(Object(m.b)()),n(Object(u.a)())):Object(C.b)("Error inviting user to existing channel");case 9:case"end":return t.stop()}},t,H)})),function(e,n,r){return t.apply(this,arguments)};var t},Ge=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c,o,i,s,u,d,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=Object(P.b)(a),o=e===O.b.INVITED,i=Object(R.d)(a),s=Object(R.f)(a),u=Object(R.g)(a),d=Object(R.c)(a),l=Object(R.e)(a),!(c&&o&&Object(T.b)(a))){t.next=11;break}return i.channelId?n(ze(i)):n(ze(s)),t.abrupt("return");case 11:if(!c||o||!Object(T.b)(a)){t.next=14;break}return s.channelId?n(ze(s)):n(ze(u)),t.abrupt("return");case 14:if(c||!o){t.next=17;break}return d.channelId?n(ze(d)):n(ze(l)),t.abrupt("return");case 17:if(c||o){t.next=20;break}return l.channelId?n(ze(l)):n(Ve()),t.abrupt("return");case 20:n(Ve());case 21:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},Ve=function(){return e=F(regeneratorRuntime.mark(function e(t,n){var r,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=n()).channels.firstLoaded&&(a=!!r.platform.currentPage,c=Object(R.b)(r,a),t(ze(c)));case 2:case"end":return e.stop()}},e,H)})),function(t,n){return e.apply(this,arguments)};var e},ze=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.channelId){t.next=3;break}return e.channelAction?n(Object(u.c)(Object(w.b)(e.channelId,e.channelAction,e.subredditName))):n(Object(u.c)(Object(w.c)(e.channelId,e.subredditName))),t.abrupt("return");case 3:n(Object(u.c)(w.i));case 4:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},Je=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!(c=a.platform.currentPage)||!c.urlParams.userIds){t.next=4;break}return o=c.urlParams.userIds.split(","),t.abrupt("return",n(Fe(o,name)));case 4:if(!e){t.next=6;break}return t.abrupt("return",n(Ge(e)));case 6:return t.abrupt("return",n(Ve()));case 7:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},Qe=Object(d.a)(ne),qe=Object(d.a)(re),We=Object(d.a)(ee),Ze=Object(d.a)(te),Ye=Object(d.a)(ae),Xe=Object(d.a)(ce),$e=Object(d.a)(ie),et=function(){return e=F(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t(at()),t(Object(f.r)()),t(Object(f.q)()),t(Object(f.p)()),t(nt()),t(rt())]);case 2:return r=n().channels.models,e.next=5,t(tt(r));case 5:t($e()),t(De());case 7:case"end":return e.stop()}},e,H)})),function(t,n){return e.apply(this,arguments)};var e},tt=function(e){return t=F(regeneratorRuntime.mark(function t(n){var r,a,c,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(_.c)(e,[E.a.Direct,E.a.Group,E.a.Subreddit])){t.next=3;break}return t.abrupt("return");case 3:for(c in a={},r)(o=r[c]).channelState!==O.b.PARTIAL&&(a[o.channelId]=o);a&&function(){var e=[];for(var t in a)a[t].members.map(function(t){return e.push(t.id)});n(Object(v.w)(e))}();case 6:case"end":return t.stop()}},t,H)})),function(e){return t.apply(this,arguments)};var t},nt=function(){return e=F(regeneratorRuntime.mark(function e(t,n){var r,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Qe()),e.next=3,U.b.getExistingChannels(O.b.INVITED,O.f.NonSuper).catch(function(){t(qe()),Object(C.b)("Error fetching invited channels")});case 3:(r=e.sent)&&(a=r.hasMoreChannels,c=Object(E.c)(r.channels,O.b.INVITED),t(tt(c)),t(Ye({channels:c,hasMoreChannels:a})));case 5:case"end":return e.stop()}},e,H)})),function(t,n){return e.apply(this,arguments)};var e},rt=function e(){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(We()),t.next=3,U.b.getExistingChannels(O.b.JOINED,O.f.NonSuper).catch(function(){n(Ze()),Object(C.b)("Error fetching joined channels")});case 3:(a=t.sent)&&(c=a.hasMoreChannels,o=Object(E.c)(a.channels,O.b.JOINED),n(Xe({channels:o,hasMoreChannels:c})),i=Object(N.s)(r()),c&&i<y.a.InitChannels&&n(e()));case 5:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t},at=function(){return e=F(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),!(a=Object(D.d)(r))){e.next=5;break}return e.next=5,U.b.addChannelModelByChannelId(a);case 5:case"end":return e.stop()}},e,H)})),function(t,n){return e.apply(this,arguments)};var e},ct=Object(d.a)(q),ot=Object(d.a)(W),it=(Object(d.a)("CHANNEL__MESSAGES_LOADED"),Object(d.a)(de)),st=function(e,t){return n=F(regeneratorRuntime.mark(function n(r,a){var c,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c=a(),o=Object(N.C)(c,"channelState"),U.b.leaveChannel().then(function(){return r(pe(e,t))}).then(function(){return r(Ge(o))}).catch(function(e){return Object(C.b)("Error leaving channels: "+e.message)});case 3:case"end":return n.stop()}},n,H)})),function(e,t){return n.apply(this,arguments)};var n},ut=Object(d.a)(le),dt=Object(d.a)(fe),lt=function(e){return t=F(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),c=Object(N.k)(a),n(ut({channelId:e})),U.b.getFirstMessage().then(function(e){var t=e[0];if(t){if(c&&c.hasMoreMessages){var r=Object(S.b)(t);n(Object(b.s)(B({},t.messageId,r)))}return t.messageId}}).then(function(t){return t&&n(dt({channelId:e,firstMessageId:t}))}).catch(function(e){return Object(C.b)("Error setting of first message: "+e.message)});case 4:case"end":return t.stop()}},t,H)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/channel/dropdown.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return O}),n.d(t,"g",function(){return j}),n.d(t,"j",function(){return x}),n.d(t,"i",function(){return C}),n.d(t,"a",function(){return w}),n.d(t,"h",function(){return I}),n.d(t,"e",function(){return k}),n.d(t,"f",function(){return _});var r=n("./node_modules/react-router-redux/es/index.js"),a=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/chat/actions/tooltip.ts"),o=n("./src/chat/actions/tracking.ts"),i=n("./src/chat/constants/channels.ts"),s=n("./src/chat/helpers/errors.ts"),u=n("./src/chat/helpers/urls/index.ts"),d=n("./src/chat/selectors/channels.ts"),l=n("./src/chat/selectors/subreddit.ts"),f=n("./src/chat/singleton/SendbirdSDK.ts");function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var b=i.a.INVITE_MEMBERS,p=i.a.LEAVE,m=i.a.LOCK_CHANNEL_CONFIRMATION,v=i.a.VIEW_MEMBERS,g=function(){return e=h(regeneratorRuntime.mark(function e(t,n){var a,c,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),c=Object(d.y)(a),o=c.channelId,i=Object(l.b)(a),s=i&&i.name,t(Object(r.b)(Object(u.b)(o,b,s)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},y=function(){return e=h(regeneratorRuntime.mark(function e(t,n){var a,c,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),c=Object(d.y)(a),o=c.channelId,i=Object(l.b)(a),s=i&&i.name,t(Object(r.b)(Object(u.b)(o,p,s)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},O=function(){return e=h(regeneratorRuntime.mark(function e(t,n){var a,c,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),c=Object(d.y)(a),o=c.channelId,i=Object(l.b)(a),s=i&&i.name,t(Object(r.b)(Object(u.b)(o,m,s)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},j=function(e){return t=h(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(c.a)({tooltipId:e})),n(Object(o.A)());case 2:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},x=function(e){return t=h(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e&&(n(Object(o.m)()),n(Object(o.p)()).then(function(){window.open(Object(u.k)(e))}));case 1:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},C=function(){return e=h(regeneratorRuntime.mark(function e(t,n){var a,c,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),c=Object(d.y)(a),o=c.channelId,i=Object(l.b)(a),s=i&&i.name,t(Object(r.b)(Object(u.b)(o,v,s)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},w="CHANNEL__UPDATE_CHANNEL_NAME",E=Object(a.a)(w),I=function(e){return t=h(regeneratorRuntime.mark(function t(n,r){var a,c,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=Object(d.y)(r()))){t.next=7;break}return c=Object.assign({},a,{name:e}),o=Object.assign({},a),n(E(c)),t.next=7,f.b.updateChannel(c).catch(function(e){Object(s.b)(e),n(E(o))});case 7:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},k=function(){return e=h(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.b.setMyCountPreference(i.c.Off);case 1:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},_=function(){return e=h(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.b.setMyCountPreference(i.c.All);case 1:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e}},"./src/chat/actions/channel/moderator.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l});var r=n("./node_modules/react-router-redux/es/index.js"),a=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/chat/singleton/SendbirdSDK.ts");function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var i="MODERATOR__ADD_MODERATOR",s=Object(a.a)(i),u=function(e){return t=o(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),(c=a.channels.selected.channelId)&&n(s({channelId:c,moderators:e}));case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},d=Object(a.a)("MODERATOR__KICK_USER"),l=function(e,t){return n=o(regeneratorRuntime.mark(function n(a,o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.b.kickUserFromChannel(e,t,"Temporary ban from room").then(function(){a(d({userId:e})),a(Object(r.a)())});case 2:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n}},"./src/chat/actions/channel/subreddit.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return C}),n.d(t,"o",function(){return w}),n.d(t,"l",function(){return E}),n.d(t,"g",function(){return I}),n.d(t,"r",function(){return A}),n.d(t,"k",function(){return N}),n.d(t,"j",function(){return R}),n.d(t,"f",function(){return T}),n.d(t,"q",function(){return L}),n.d(t,"i",function(){return U}),n.d(t,"h",function(){return H}),n.d(t,"e",function(){return B}),n.d(t,"p",function(){return V}),n.d(t,"m",function(){return z}),n.d(t,"w",function(){return J}),n.d(t,"b",function(){return Q}),n.d(t,"t",function(){return W}),n.d(t,"n",function(){return Z}),n.d(t,"u",function(){return X}),n.d(t,"c",function(){return $}),n.d(t,"a",function(){return te}),n.d(t,"s",function(){return ae}),n.d(t,"v",function(){return ce});var r=n("./node_modules/react-router-redux/es/index.js"),a=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/chat/actions/channel.ts"),o=n("./src/chat/actions/channel/moderator.ts"),i=n("./src/chat/actions/message/index.ts"),s=n("./src/chat/actions/user.ts"),u=n("./src/chat/constants/channels.ts"),d=n("./src/chat/endpoints/sendbird/index.ts"),l=n("./src/chat/helpers/errors.ts"),f=n("./src/chat/helpers/urls/index.ts"),h=n("./src/chat/models/Channel/index.ts"),b=n("./src/chat/models/Channel/moderator.ts"),p=n("./src/chat/models/Channel/subreddit.ts"),m=n("./src/chat/models/Subreddit/index.ts"),v=n("./src/chat/selectors/channels.ts"),g=n("./src/chat/selectors/subreddit.ts"),y=n("./src/chat/selectors/user.ts"),O=n("./src/chat/singleton/SendbirdSDK.ts"),j=n("./src/chat/tracking/events/chatPreview.ts");function x(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var C="SUBREDDIT__ADD_SUBREDDIT_COLLECTION",w=Object(a.a)(C),E="SUBREDDIT_CHANNELS__FETCH_RECOMMENDED",I="SUBREDDIT_CHANNELS__ADD_RECOMMENDED_COLLECTION",k=Object(a.a)("SUBREDDIT_CHANNELS__FETCH_RECOMMENDED_FAILED"),_=Object(a.a)(E),S=Object(a.a)(I),A=function(){return e=x(regeneratorRuntime.mark(function e(t,n,r){var a,c,o,i,s,u,l,f,h,b=r.apiContext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),c=a.user,o=c.account,i=c.session,s=a.channels.subreddit.recommended.fetchingChannels,o&&i&&!s){e.next=3;break}return e.abrupt("return");case 3:return t(_()),e.next=6,Object(d.e)(b(),i);case 6:if(u=e.sent,!(l=u.ok&&u.body)||!l.length){e.next=17;break}return f=Object(m.a)(l),e.next=12,t(w(f));case 12:return h=Object(p.a)(l),t(S(h)),e.abrupt("return");case 17:t(k(u.error));case 18:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},N="SUBREDDIT_CHANNELS__FETCH_JOINED_FAILED",R="SUBREDDIT_CHANNELS__FETCH_JOINED",T="SUBREDDIT_CHANNELS__ADD_JOINED_COLLECTION",D=Object(a.a)(N),M=Object(a.a)(R),P=Object(a.a)(T),L=function e(){return t=x(regeneratorRuntime.mark(function t(n,r){var a,c,o,i,s,d,l,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=u.b.JOINED,Object(y.f)(a)){t.next=4;break}return t.abrupt("return");case 4:return n(M()),t.next=7,O.b.getExistingChannels(c,u.f.Super);case 7:if(!(o=t.sent)){t.next=21;break}return i=o.channels,s=Object(m.c)(i),t.next=13,n(w(s));case 13:return d=r(),l=Object(p.c)(i,c),f=Object(v.u)(d,l),t.next=18,n(P(Object.assign({},l,{sortedKeys:f})));case 18:o.hasMoreChannels&&n(e()),t.next=22;break;case 21:n(D());case 22:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},U="SUBREDDIT_CHANNELS__FETCH_INVITED_FAILED",H="SUBREDDIT_CHANNELS__FETCH_INVITED",B="SUBREDDIT_CHANNELS__ADD_INVITED_COLLECTION",F=Object(a.a)(U),K=Object(a.a)(H),G=Object(a.a)(B),V=function(){return e=x(regeneratorRuntime.mark(function e(t,n){var r,a,c,o,i,s,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=r.user,c=a.account,o=a.session,i=r.channels.subreddit.invited.fetchingChannels,c&&o&&!i){e.next=3;break}return e.abrupt("return");case 3:return t(K()),e.next=6,O.b.getExistingChannels(u.b.INVITED,u.f.Super).catch(function(){t(F())});case 6:if(!(s=e.sent)){e.next=13;break}return d=Object(m.c)(s.channels),l=Object(p.c)(s.channels,u.b.INVITED),e.next=12,t(w(d));case 12:t(G(l));case 13:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},z="SUBREDDIT_CHANNELS__UPDATE_INVITED",J=Object(a.a)(z),Q="SET__INVITED_SUBREDDIT_CHANNEL_TO_JOINED",q=Object(a.a)(Q),W=function(e,t){return n=x(regeneratorRuntime.mark(function n(a,c){var s,d,p,m,g,y,x,C,w;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=c(),d=s.channels,p=e||d.selected.channelId){n.next=5;break}throw new l.a("joinedChannelId",p);case 5:if(!(m=Object(v.h)(s,p))||m.type!==h.a.Subreddit){n.next=15;break}return Object(j.a)(s),g=Object(v.u)(s,void 0,[m]),n.next=11,O.b.enterChannel(m,!0);case 11:y=n.sent,x=y.data,C=x.messageListData,w=x.moderators,C&&w?(a(Object(i.m)(C)),a(Object(o.b)(Object(b.a)(w))),a(q({channelId:p,sortedKeys:g})),a(Y(p)),a(Object(r.b)(Object(f.c)(p,t)))):x===O.a.KICKED||x===O.a.BANNED?a(re(x,t)):a(Object(r.b)(Object(f.b)(p,u.a.VIEW_PRIVATE,t)));case 15:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},Z=function(e,t){return n=x(regeneratorRuntime.mark(function n(a,c,o){var i,s,h,b,p,m,g=o.apiContext;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=c(),s=i.channels,h=e||s.selected.channelId,b=Object(y.c)(i),h){n.next=6;break}throw new l.a("requestChannelId",h);case 6:if(p=Object(v.h)(i,h),m=Object(v.u)(i,void 0,[p]),!p||!b){n.next=13;break}return n.next=11,Object(d.a)(g(),b,p.channelSendbirdUrl);case 11:n.sent.error?a(Object(r.b)(Object(f.b)(h,u.a.VIEW_PRIVATE,t))):(a(q({channelId:h,sortedKeys:m})),a(Y(h)),a(Object(r.b)(Object(f.c)(h,t))));case 13:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},Y=function(e){return t=x(regeneratorRuntime.mark(function t(n,r){var a,c,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),(c=Object(v.h)(a,e))&&(o=[],c.members.map(function(e){return o.push(e.id)}),n(Object(s.w)(o)));case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},X=function(e,t){return n=x(regeneratorRuntime.mark(function n(r,a,c){var o,i,s,u,l=c.apiContext;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a(),i=o.user,s=i.account,u=i.session,!s||!u){n.next=4;break}return n.abrupt("return",new Promise(function(){var n=x(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.j)(l(),u,e,t).then(function(e){r(e)}).catch(function(e){r(e)});case 2:case"end":return n.stop()}},n,void 0)}));return function(e){return n.apply(this,arguments)}}()));case 4:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},$="SUBREDDIT_CHANNEL__SET_KICKED_CHANNEL",ee=Object(a.a)($),te="SUBREDDIT_CHANNEL__SET_BANNED_CHANNEL",ne=Object(a.a)(te),re=function(e,t){return n=x(regeneratorRuntime.mark(function n(a,c){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=c(),i=Object(v.k)(o),(s=i&&i.channelId)&&(e===O.a.KICKED?a(ee({channelId:s})):e===O.a.BANNED&&a(ne({channelId:s})),a(Object(r.b)(Object(f.b)(s,u.a.DENY,t))));case 4:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},ae=function(e,t){return n=x(regeneratorRuntime.mark(function n(a,o){var i,s,d,l,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=o(),s=e.channelId,d=Object(v.z)(i),l=Object(g.b)(i,s),h=Object(y.a)(i),l&&t===h&&(a(Object(c.L)(s,l.name)),s===d&&a(Object(r.b)(Object(f.b)(s,u.a.DENY,l.name))));case 7:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},ce=function(e){return t=x(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(!t.sent){t.next=6;break}O.b.lockChannel(),t.next=7;break;case 6:O.b.unlockChannel();case 7:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/members.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"f",function(){return j});var r=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/chat/endpoints/users/index.ts"),c=n("./src/chat/helpers/errors.ts"),o=n("./src/chat/models/User/index.ts"),i=n("./src/chat/selectors/channels.ts"),s=n("./src/chat/singleton/SendbirdSDK.ts");function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var d="MEMBERS__FETCHING_MEMBERS",l=Object(r.a)(d),f=Object(r.a)("MEMBERS__FETCHING_MEMBERS_FAILED"),h=function(e){return t=u(regeneratorRuntime.mark(function t(n,r){var a,o,u,d,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!(o=Object(i.z)(a))){t.next=15;break}if(n(l({channelId:o})),!e){t.next=10;break}return t.next=7,s.b.getChannelMembersStartsWith(e).catch(function(e){return Object(c.b)("Error getting channel members: "+e.message)});case 7:t.t0=t.sent,t.next=13;break;case 10:return t.next=12,s.b.getSubredditChannelMembers().catch(function(e){return Object(c.b)("Error getting subreddit channel members: "+e.message)});case 12:t.t0=t.sent;case 13:(u=t.t0)?(d=u.hasMoreMembers,h=u.members.map(function(e){return e.userId}),n(g(o,h,d))):n(f());case 15:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},b="MEMBERS__FETCHING_MEMBERS_COMPLETED",p=Object(r.a)(b),m="MEMBERS__ADD_CHANNEL_MEMBERS",v=Object(r.a)(m),g=function(e,t,n){return r=u(regeneratorRuntime.mark(function r(c,i,s){var u,d,l=s.apiContext;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(a.d)(l(),t);case 2:(u=r.sent).ok&&(d=Object(o.a)(u.body),c(v({channelId:e,members:d}))),c(p({channelId:e,hasMoreMembers:n}));case 5:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},y="MEMBERS__REMOVE_CHANNEL_MEMBERS",O=Object(r.a)(y),j=function(){return e=u(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(O());case 1:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e}},"./src/chat/actions/message/inboxScroller.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return h});var r=n("./node_modules/lodash/sortBy.js"),a=n.n(r),c=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/chat/constants/batchSizes.ts"),i=n("./src/chat/selectors/channels.ts"),s=n("./src/chat/singleton/SendbirdSDK.ts");var u=function(e){return a()(e,"createAt").splice(0,e.length-o.a.Messages).map(function(e){return e.messageId})},d=function(e){return t=regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=Object(i.z)(r()),c=u(e),a&&(n(f({messageIdList:c})),n(b({channelId:a})),s.c.resetChannelMessageListQuery());case 3:case"end":return t.stop()}},t,void 0)}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,c){try{var o=e[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e,t){return n.apply(this,arguments)};var t,n},l="MESSAGE__REMOVE_MESSAGES_FROM_CURRENT_CHANNEL",f=Object(c.a)(l),h="CHANNEL__RESET_HAS_MORE_MESSAGES",b=Object(c.a)(h)},"./src/chat/actions/message/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/sortBy.js"),a=n.n(r),c=n("./node_modules/lodash/flatten.js"),o=n.n(c),i=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/linkMatchers/index.ts"),u=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/chat/actions/channel.ts"),l=n("./src/chat/actions/tracking.ts"),f=n("./src/chat/constants/messages.ts"),h=n("./node_modules/lodash/isEmpty.js"),b=n.n(h),p=n("./src/config.ts"),m=n("./src/lib/constants/index.ts"),v=n("./src/lib/makeRequest/index.ts");var g,y,O=p.a.embedlyApiKey,j=function(e){return e.filter(function(e){return!b()(e)}).map(function(e){return{name:e.provider_name,title:e.title,description:e.description,faviconUrl:e.favicon_url,imageUrl:(t=e.images,t&&t.length>0&&t[0]?t[0].url:void 0),url:e.url};var t})},x=(g=regeneratorRuntime.mark(function e(t){var n=t.chars,r=t.scheme,a=t.url;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.a)({endpoint:"https://api.embed.ly/1/extract",method:m.Ca.GET,data:{key:O,url:a,scheme:r,chars:n}}).then(function(e){return e.ok&&Array.isArray(e.body)?e.body:[e.body]}).then(j));case 1:case"end":return e.stop()}},e,void 0)}),y=function(){var e=g.apply(this,arguments);return new Promise(function(t,n){return function r(a,c){try{var o=e[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e){return y.apply(this,arguments)}),C=n("./src/chat/endpoints/users/index.ts"),w=n("./src/chat/helpers/linkParser/index.ts"),E=n("./src/chat/models/Message/index.ts"),I=n("./src/chat/models/Message/adapter.ts"),k=n("./src/chat/models/Message/report.ts"),_=n("./src/chat/selectors/app.ts"),S=n("./src/chat/selectors/channels.ts"),A=n("./src/chat/selectors/contacts.ts"),N=n("./src/chat/selectors/messages.ts"),R=n("./src/chat/singleton/SendbirdSDK.ts");n.d(t,"v",function(){return U}),n.d(t,"w",function(){return H}),n.d(t,"a",function(){return B}),n.d(t,"c",function(){return V}),n.d(t,"n",function(){return J}),n.d(t,"x",function(){return Q}),n.d(t,"l",function(){return q}),n.d(t,"j",function(){return Z}),n.d(t,"u",function(){return Y}),n.d(t,"h",function(){return $}),n.d(t,"s",function(){return ee}),n.d(t,"r",function(){return te}),n.d(t,"b",function(){return ne}),n.d(t,"m",function(){return ae}),n.d(t,"k",function(){return ce}),n.d(t,"y",function(){return oe}),n.d(t,"d",function(){return ie}),n.d(t,"p",function(){return se}),n.d(t,"o",function(){return ue}),n.d(t,"i",function(){return de}),n.d(t,"t",function(){return fe}),n.d(t,"g",function(){return he}),n.d(t,"e",function(){return be}),n.d(t,"f",function(){return pe}),n.d(t,"q",function(){return ye});function T(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var P,L,U=function(e,t){return n=M(regeneratorRuntime.mark(function n(r,a,c){var o,s=c.apiContext;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(o=Object(k.b)(e,t))&&Object(C.b)(s(),o).then(function(){return r(Object(i.a)())});case 2:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},H=function(e,t,n){return r=M(regeneratorRuntime.mark(function r(c,o,s){var u,d,l,f,h,b,p,m,v=s.apiContext;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:u=20,d=a()(n,["createdAt"]),l=d.findIndex(function(t){return t.messageId===e.messageId}),f=Math.max(l-u,0),h=l+u,b=d.slice(f,h),p=Object(k.a)(b,t),(m=p.length&&Object(k.c)(p,e))&&Object(C.b)(v(),m,p).then(function(){return c(Object(i.a)())});case 9:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},B="MESSAGE__ADD_ONE",F=Object(u.a)(B),K=function(e,t){return n=M(regeneratorRuntime.mark(function n(r,a){var c,o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=a(),o=Object(I.b)(t),n.next=4,G(e,c,r);case 4:i=n.sent,R.b.addMessage(e,t,i).then(function(e){var t=Object(S.C)(c,"channelId"),n=D({},e.messageId,e);t&&(r(F({message:n,channelId:t,clientMessageId:o})),r(Object(l.v)(e.messageId)))}).catch(function(){o&&(r(Object(l.z)(o)),r(W({clientMessageId:o,toggle:!0})))});case 6:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},G=(P=M(regeneratorRuntime.mark(function e(t,n,r){var a,c,i,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Object(s.b)(t)).length){e.next=3;break}return e.abrupt("return",[]);case 3:if(c=[],i=a.map(function(e){var t=Object(A.g)(n,e);return t||c.push(e),t&&t.id}).filter(function(e){return e}),e.t1=c.length,!e.t1){e.next=12;break}return e.t2=o.a,e.next=10,Promise.all(c.slice(0,3).map(function(e){return R.b.searchMemberByName(e,!0)}));case 10:e.t3=e.sent,e.t1=(0,e.t2)(e.t3);case 12:if(e.t0=e.t1,e.t0){e.next=15;break}e.t0=[];case 15:return u=e.t0,d=u.map(function(e){return e&&e.id}).filter(function(e){return e}),e.abrupt("return",[].concat(T(i),T(d)));case 18:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return P.apply(this,arguments)}),V="MESSAGE__ADD_PENDING_ONE",z=Object(u.a)(V),J=function(e,t){return n=M(regeneratorRuntime.mark(function n(r,a){var c,o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=a(),o=Object(w.b)(e),!(o&&1===e.split(" ").length)){n.next=6;break}return X(r,c,e),n.abrupt("return");case 6:(i=Object(E.a)(c,e,t))&&(s=t===f.b.TEXT?e:"",r(z(i)),r(K(s,i.data)));case 8:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},Q=function(e){return t=M(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),(c=Object(N.h)(a,e))&&(n(W({clientMessageId:e,toggle:!1})),n(K(c.messageData.value,c.data)));case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},q="MESSAGE__TOGGLE_PENDING_MESSAGE_ERROR",W=Object(u.a)(q),Z="MESSAGE__REMOVE_PENDING_ONE",Y=Object(u.a)(Z),X=(L=M(regeneratorRuntime.mark(function e(t,n,r){var a,c,o,i,u,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.c.match(r).map(function(e){return e.url}).join(""),c=f.b.EMBED,o={url:r},!(i=Object(E.a)(n,JSON.stringify(o),c))){e.next=10;break}return t(z(i)),e.next=8,x({url:a,scheme:"https",chars:140});case 8:(u=e.sent)&&(o=Object.assign({},o,{embed:u[0]}),d=JSON.stringify(o),l=JSON.stringify(Object(I.a)(d,c,i.clientMessageId)),t(K(o.url,l)));case 10:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return L.apply(this,arguments)}),$="MESSAGE__RECEIVE_ADD_ONE",ee=Object(u.a)($),te=function(e){return t=M(regeneratorRuntime.mark(function t(n,r,a){var c,o;a.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),o=Object(S.z)(c)===e.channelId,Object(_.c)(c)&&o&&n(Object(d.K)(e.channelId)),n(ee(D({},e.messageId,e)));case 5:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},ne="MESSAGE__ADD_LIST",re=Object(u.a)(ne),ae=function(e){return t=M(regeneratorRuntime.mark(function t(n,r,a){var c;a.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=Object(S.C)(r(),"channelId"),n(re(Object.assign({channelId:c},e)));case 2:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},ce="MESSAGE__SET_MESSAGE_LIST_IS_LOADED",oe=Object(u.a)(ce),ie="MESSAGE__DELETE_ONE",se=Object(u.a)(ie),ue=function(e){return t=M(regeneratorRuntime.mark(function t(n,r){var a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),(c=Object(N.d)(a,e))&&R.b.deleteMessage(c).then(function(){return n(se(c.messageId))}).then(function(){return n(Object(i.a)())});case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},de="MESSAGE__RECEIVE_DELETE_ONE",le=Object(u.a)(de),fe=function(e){return t=M(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n(le(e));case 1:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},he="MESSAGE__GET_PREVIOUS_MESSAGES_START",be="MESSAGE__GET_PREVIOUS_MESSAGES_END",pe="MESSAGE__GET_PREVIOUS_MESSAGES_ERROR",me=Object(u.a)(he),ve=Object(u.a)(be),ge=Object(u.a)(pe),ye=function(e){return t=M(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(S.C)(r(),"channelId"),n(me(a)),n(Object(l.B)()),!a){t.next=6;break}return t.next=6,R.b.getPreviousMessages(f.c.USER,e).then(function(e){return n(ve(Object.assign({channelId:a},e)))}).catch(function(){return n(ge(a))});case 6:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/message/unreadCount.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return g});var r=n("./node_modules/lodash/isEqual.js"),a=n.n(r),c=n("./node_modules/lodash/debounce.js"),o=n.n(c),i=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/chat/endpoints/sendbird/index.ts"),d=n("./src/chat/helpers/errors.ts"),l=n("./src/chat/selectors/user.ts");function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var h,b="MESSAGE__SET_UNREAD_COUNT",p=Object(s.a)(b),m=function(e){return{basicChannelCount:e&&Number(e.unread_count)||0,subredditChannelCount:e&&Number(e.subreddit_unread_count)?1:0}},v=(h=f(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Object(l.c)(t))){e.next=6;break}return e.next=4,Object(u.h)(n(),r).catch(function(e){return Object(d.b)("Error getting proxy unread count: "+e)});case 4:return a=e.sent,e.abrupt("return",m(a&&a.body));case 6:case"end":return e.stop()}},e,void 0)})),function(e,t){return h.apply(this,arguments)}),g=o()(function(e,t){return n=f(regeneratorRuntime.mark(function n(r,c,o){var i,s,u,d=o.apiContext;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=c(),s={basicChannelCount:e||0,subredditChannelCount:t||0},"number"==typeof e||"number"==typeof t){n.next=8;break}return n.next=6,v(i,d);case 6:u=n.sent,s=u||s;case 8:a()(i.messages.unread,s)||r(p(s));case 9:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},i.ib,{leading:!0})},"./src/chat/actions/page.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return h});var r=n("./src/chat/actions/channel.ts"),a=n("./src/chat/actions/sidebar.ts"),c=n("./src/chat/actions/tracking.ts"),o=n("./src/chat/actions/user.ts"),i=n("./src/chat/selectors/platform.ts");function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}function u(e){var t=this;return function(n){return r=s(regeneratorRuntime.mark(function r(c,s,u){var d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d=Object(i.f)(s()),c(Object(a.d)(d)),t.next=4,Object(o.l)()(c,s,u);case 4:return t.next=6,Object(o.p)()(c,s,u);case 6:return t.next=8,e(n)(c,s,u);case 8:case"end":return t.stop()}},r,t)})),function(e,t,n){return r.apply(this,arguments)};var r}}var d=u(function(e){return t=s(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}),l=u(function(e){return t=s(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}),f=u(function(e){return t=s(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}),h=u(function(e){return t=s(regeneratorRuntime.mark(function e(t,n,a){var o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n(),i=o.platform.currentPage,!(s=i&&i.urlParams.userIds.split(","))){e.next=7;break}return t(Object(c.i)(s)),t(Object(r.B)(s,name)),e.abrupt("return");case 7:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t})},"./src/chat/actions/platform.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h});n("./src/config.ts");var r=n("./src/lib/areUrlsEqual/index.ts"),a=(n("./src/lib/constants/index.ts"),n("./src/lib/logs/timing.js")),c=n("./src/lib/makeActionCreator/index.ts"),o=(n("./src/chat/strings/index.ts"),n("./src/chat/actions/channel.ts")),i=n("./src/chat/actions/sendbird/index.ts");function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var u="PLATFORM__HISTORY_LOCATION_SET",d="PLATFORM__INITIAL_REFERRER_SET",l="PLATFORM__PAGE_META_SET",f=function(e,t,n){return c=s(regeneratorRuntime.mark(function c(s,u,d){var l,f,b,p,m,v;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(l=Date.now(),f=u(),b=f.platform.currentPage,n){c.next=5;break}return c.abrupt("return");case 5:if(s(h({action:t,location:e,routeMatch:n})),!b||!Object(r.a)(b.url,e)){c.next=8;break}return c.abrupt("return");case 8:if(!n){c.next=14;break}return p=n.match,c.next=12,n.route.action(p)(s,u,d);case 12:(m=n.route.meta)&&(v=Date.now()-l,Object(a.b)({duration:v,meta:m}));case 14:n.match.params.subredditName&&s(Object(i.l)()),n.match.params.channelId&&s(Object(o.O)());case 17:case"end":return c.stop()}},c,void 0)})),function(e,t,n){return c.apply(this,arguments)};var c},h=Object(c.a)(u);Object(c.a)(d),Object(c.a)(l),Object(c.a)("PLATFORM__MODAL_TOGGLED")},"./src/chat/actions/sendbird/config.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return l});var r=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/chat/endpoints/sendbird/index.ts");var c="SENDBIRD_CONFIG__PROXY",o=Object(r.a)(c),i="SENDBIRD_CONFIG__GLOBAL_SETTINGS",s=Object(r.a)(i),u="SENDBIRD_CONFIG__USER_EXPERIMENTS",d=Object(r.a)(u),l=function(){return e=regeneratorRuntime.mark(function e(t,n,r){var c,i=r.apiContext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.d)(i());case 2:if(!(c=e.sent).ok){e.next=6;break}return e.next=6,Promise.all([t(o({host:c.body.proxy_host})),t(s({maxMessageLength:parseInt(c.body.max_message_length,10)})),t(d({userSubredditChatEnabled:c.body.user_subreddit_chat_enabled}))]);case 6:case"end":return e.stop()}},e,void 0)}),t=function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})},function(e,n,r){return t.apply(this,arguments)};var e,t}},"./src/chat/actions/sendbird/index.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"j",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"m",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"i",function(){return O}),n.d(t,"g",function(){return j}),n.d(t,"n",function(){return w}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return I}),n.d(t,"k",function(){return S}),n.d(t,"f",function(){return A}),n.d(t,"l",function(){return R});var r=n("./src/lib/cache/index.ts"),a=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/chat/actions/tracking.ts"),i=n("./src/chat/endpoints/accounts/index.ts"),s=n("./src/chat/endpoints/sendbird/index.ts"),u=n("./src/chat/models/Contact/index.ts"),d=n("./src/chat/selectors/contacts.ts"),l=n("./src/chat/selectors/experiments.ts");function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var h="SENDBIRD__DEACTIVATE_SENDBIRD_SESSION",b="SENDBIRD__ACTIVATE_SENDBIRD_SESSION",p=Object(c.a)(h),m=(Object(c.a)(b),"SENDBIRD__SET_SENDBIRD_SESSION"),v=Object(c.a)(m),g=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e=f(regeneratorRuntime.mark(function e(n,c,o){var i,u,d,l,f,h,b,m,g,y,O,j=o.apiContext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c(),u=i.user,d=u.account,!(l=u.session)||!d){e.next=17;break}if(f=void 0,h=Object(r.c)(a.o.CHAT,"session",d.id),!(b=Object(r.b)(h))||!b.token){e.next=10;break}f=b,e.next=14;break;case 10:return e.next=12,Object(s.g)(j(),l);case 12:(m=e.sent).ok&&(g=m.body,y=g.valid_until,O=g.sb_access_token,f={expires:y,token:O},Object(r.d)(h,f,new Date(y)));case 14:if(!f){e.next=17;break}return n(v(Object.assign({},f,{active:t}))),e.abrupt("return");case 17:n(p());case 18:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)}},y="SENDBIRD__ADD_MEMBERS_TO_KNOWN_CONTACTS",O=Object(c.a)(y),j="SENDBIRD__SET_REDDIT_CONTACT_LIST",x=6*a.H,C=Object(c.a)(j),w=function(){return e=f(regeneratorRuntime.mark(function e(t,n,c){var o,i,d,l,f,h,b,p,m,v=c.apiContext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n(),i=o.contacts.models,d=Object(r.c)(a.o.CHAT,"contacts",o.user.account.id),!(l=Object(r.b)(d))||l.version!==u.a){e.next=7;break}return t(C(l.data)),e.abrupt("return");case 7:if(f=n().user.session){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(s.f)(v(),f,25);case 12:h=e.sent,b=Object(u.c)(h.body),p=b.map(function(e){return i[e.id]?i[e.id]:e}),m={version:u.a,data:p},Object(r.d)(d,m,x),t(C(p));case 18:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},E="SENDBIRD__IDENTIFY_CONTACT_BEGIN",I="SENDBIRD__IDENTIFY_CONTACT_END",k=Object(c.a)(E),_=Object(c.a)(I),S=function(e){return t=f(regeneratorRuntime.mark(function t(n,r,a){var c=a.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(d.c)(r(),e.username)||(n(k({username:e.username})),Object(i.b)(c(),e.username).then(function(t){if(t.ok){var r=Object(u.d)(t.body.data);if(r)return n(_({username:e.username,contact:r,valid:!0}))}else n(Object(o.y)(e.username));n(_({username:e.username,valid:!1}))}));case 2:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},A="SENDBIRD__OPT_IN",N=Object(c.a)(A),R=function(){return e=f(regeneratorRuntime.mark(function e(t,n,r){var a=r.apiContext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(l.b)(n())){e.next=2;break}return e.abrupt("return");case 2:t(N({userSubredditChatEnabled:!0})),Object(s.k)(a());case 4:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e}},"./src/chat/actions/sendbird/sdk.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return j}),n.d(t,"f",function(){return C}),n.d(t,"h",function(){return w}),n.d(t,"g",function(){return E});var r=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/chat/actions/channel.ts"),c=n("./src/chat/actions/message/index.ts"),o=n("./src/chat/actions/message/unreadCount.ts"),i=n("./src/chat/actions/sendbird/index.ts"),s=n("./src/chat/actions/toast.ts"),u=n("./src/chat/constants/sendbird.ts"),d=n("./src/chat/constants/toast.ts"),l=n("./src/chat/selectors/sendbird.ts"),f=n("./src/chat/selectors/user.ts"),h=n("./src/chat/singleton/SendbirdSDK.ts");function b(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var p="SENDBIRD_SDK__CONNECT_FAIL",m="SENDBIRD_SDK__CONNECT_SUCCESS",v="SENDBIRD_SDK__DISCONNECT",g="SENDBIRD_SDK__UPDATE_CONNECTION_STATUS",y=Object(r.a)(p),O=Object(r.a)(m),j=function(e){return t=b(regeneratorRuntime.mark(function t(n,r){var i,b,p,m,v,g,j,x,C;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=r(),b=Object(l.d)(i),p=Object(l.c)(i),m=Object(l.a)(i),v=Object(f.d)(i),g={connectionStatus:u.b.Closed},j=3,v&&m&&p&&(x=v.id,C=v.name,b&&n(Object(s.e)({toast:d.a.ConnectionPending})),h.b.connect(m,e||p.token,x,C,n).then(function(e){e.error?(n(y(e.error)),n(w(Object.assign({},g))),n(Object(s.e)({toast:d.a.ConnectionClosed}))):(n(O()),b&&(n(Object(c.q)(!0)),n(Object(s.e)({toast:d.a.ConnectionOpen})),n(Object(s.c)(j))),n(Object(o.b)()),n(Object(a.F)()))}));case 8:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},x=Object(r.a)(v),C=function(){return e=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h.b.disconnect().then(function(){t(x()),t(Object(i.j)())});case 1:case"end":return e.stop()}},e,void 0)})),function(t){return e.apply(this,arguments)};var e},w=Object(r.a)(g),E=function(){return h.b.reconnect()}},"./src/chat/actions/session.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),o=function(e,t){return Object(c.b)(e,{data:t,endpoint:"/refreshproxy",method:a.Ca.POST})};n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l});var i="SESSION__USER_AUTHENTICATED",s="SESSION__USER_LOGGED_OUT",u="SESSION__USER_REAUTHENTICATED",d=(Object(r.a)(i),Object(r.a)(u)),l=(Object(r.a)(s),function(){return e=regeneratorRuntime.mark(function e(t,n,r){var a,c,i=r.apiContext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n().user.session)){e.next=6;break}return e.next=4,o(i(),a);case 4:(c=e.sent).ok&&t(d(c.body));case 6:case"end":return e.stop()}},e,void 0)}),t=function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})},function(e,n,r){return t.apply(this,arguments)};var e,t})},"./src/chat/actions/sidebar.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"d",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return v});var r=n("./node_modules/react-router-redux/es/index.js"),a=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/chat/constants/sidebar.ts"),o=n("./src/chat/helpers/urls/index.ts"),i=n("./src/chat/selectors/channels.ts"),s=n("./src/chat/selectors/channels/next.tsx"),u=n("./src/chat/selectors/subreddit.ts");function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var l="SIDEBAR__SET_SIDEBAR_ACTIVE_INDEX",f=Object(a.a)(l),h=function(e){return t=d(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),e!==a.sidebarTabs.activeIndex&&n(f({activeIndex:e}));case 2:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},b="SIDEBAR__SET_LAST_CHANNEL_ID_PER_TAB",p=Object(a.a)(b),m=function(e,t){switch(t){case c.a.SubredditChannels:return Object(s.a)(e,c.a.SubredditChannels);case c.a.DirectChannels:return Object(s.a)(e,c.a.DirectChannels)}},v=function(e){return t=d(regeneratorRuntime.mark(function t(n,a){var c,s,d,l,f,b,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a(),s=c.sidebarTabs.lastChannelIdPerTab,d=s[e]||m(c,e),n(h(e)),!d){t.next=12;break}if(!(l=Object(i.h)(c,d))){t.next=12;break}return f=Object(u.b)(c,d),b=f&&f.name,p=Object(o.e)(l,b),n(Object(r.b)(p)),t.abrupt("return");case 12:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/toast.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return u});var r=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/constants/index.ts");var c="TOAST__RESET_TOAST",o=Object(r.a)(c),i="TOAST__UPDATE_TOAST",s=Object(r.a)(i),u=function(e){return t=regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(function(){return n(o())},e*a.ib);case 1:case"end":return t.stop()}},t,void 0)}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,c){try{var o=e[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e,t){return n.apply(this,arguments)};var t,n}},"./src/chat/actions/tooltip.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./src/lib/makeActionCreator/index.ts"),a=Object(r.a)("TOOLTIP__DROPDOWN_TOGGLED")},"./src/chat/actions/tracking.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/first.js"),a=n.n(r),c=n("./src/telemetry/models/Event.ts"),o=n("./src/chat/constants/channels.ts"),i=n("./src/chat/selectors/channels.ts"),s=n("./src/chat/selectors/contacts.ts"),u=n("./src/chat/selectors/platform.ts"),d=n("./src/chat/selectors/sidebar.ts"),l=n("./src/chat/tracking/fields/chat.ts"),f=n("./src/chat/tracking/fields/common.ts"),h=n("./src/chat/tracking/fields/subreddit.ts"),b=n("./src/chat/tracking/sendEvent.ts"),p=function(e){Object(b.a)(Object.assign({noun:"snoomoji",source:c.b.ChatKeyboard,action:c.a.View,chat:Object.assign({},Object(l.y)(e),Object(l.o)(e),Object(l.g)(e)),subreddit:Object.assign({},Object(h.a)(e),Object(h.b)(e))},Object(f.a)(e)))},m=function(e,t){return Object(b.a)(Object.assign({noun:"chat_member_block",source:c.b.ChatSettings,action:c.a.Submit,chat:Object.assign({},Object(l.y)(e),Object(l.o)(e),Object(l.g)(e),Object(l.b)(t)),subreddit:Object.assign({},Object(h.a)(e),Object(h.b)(e))},Object(f.a)(e)))},v=function(e){Object(b.a)(Object.assign({noun:"view_member",source:c.b.ChatSettings,action:c.a.Click,chat:Object.assign({},Object(l.y)(e),Object(l.o)(e),Object(l.t)(e),Object(l.g)(e))},Object(f.a)(e)))},g=n("./src/chat/tracking/events/chatView.ts"),y=n("./src/chat/tracking/events/contactsList.ts"),O=n("./src/chat/tracking/events/invitationInbox.ts"),j=n("./src/chat/tracking/events/messagesInbox.ts"),x=n("./src/chat/selectors/telemetry.ts"),C=function(e,t,n){Object(b.a)(Object.assign({noun:"user",source:n,action:c.a.Kick,chat:Object.assign({},Object(l.y)(e),Object(l.o)(e),Object(l.g)(e),Object(l.r)(e),Object(l.m)(e),Object(l.v)(e)),subreddit:Object.assign({},Object(h.a)(e),Object(h.b)(e))},Object(f.a)(e),{actionInfo:Object.assign({settingValue:t},Object(x.a)(e))}))},w=function(e,t){Object(b.a)(Object.assign({noun:"ban_user",source:t,action:c.a.Click,chat:Object.assign({},Object(l.y)(e),Object(l.o)(e),Object(l.g)(e),Object(l.r)(e),Object(l.m)(e),Object(l.v)(e)),subreddit:Object.assign({},Object(h.a)(e),Object(h.b)(e))},Object(f.a)(e)))},E=function(e,t){Object(b.a)(Object.assign({noun:"create_chat",source:c.b.UserProfile,action:c.a.Click,chat:Object.assign({},Object(l.C)(e,t),Object(l.A)(e,t),Object(l.B)(e,t)),user:Object.assign({},function(e){return{id:e.user.account.id}}(e))},Object(f.a)(e)))};n.d(t,"g",function(){return _}),n.d(t,"v",function(){return S}),n.d(t,"z",function(){return A}),n.d(t,"w",function(){return N}),n.d(t,"B",function(){return R}),n.d(t,"A",function(){return T}),n.d(t,"t",function(){return D}),n.d(t,"p",function(){return M}),n.d(t,"n",function(){return P}),n.d(t,"u",function(){return L}),n.d(t,"f",function(){return U}),n.d(t,"y",function(){return H}),n.d(t,"x",function(){return B}),n.d(t,"h",function(){return F}),n.d(t,"d",function(){return K}),n.d(t,"b",function(){return G}),n.d(t,"k",function(){return V}),n.d(t,"l",function(){return z}),n.d(t,"m",function(){return J}),n.d(t,"j",function(){return Q}),n.d(t,"e",function(){return q}),n.d(t,"i",function(){return W}),n.d(t,"c",function(){return Z}),n.d(t,"o",function(){return Y}),n.d(t,"D",function(){return X}),n.d(t,"r",function(){return $}),n.d(t,"C",function(){return ee}),n.d(t,"q",function(){return te}),n.d(t,"s",function(){return re}),n.d(t,"a",function(){return ae});var I=void 0;function k(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var _=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(j.b)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},S=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(g.a)(r(),e);case 1:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},A=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(g.d)(r(),e);case 1:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},N=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(g.b)(r(),e);case 1:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},R=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(g.e)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},T=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n(),Object(b.a)(Object.assign({noun:"chat_settings",source:c.b.ChatSettings,action:c.a.View,chat:Object.assign({},Object(l.y)(t),Object(l.o)(t),Object(l.g)(t)),subreddit:Object.assign({},Object(h.a)(t),Object(h.b)(t))},Object(f.a)(t)));case 1:case"end":return e.stop()}var t},e,I)})),function(t,n){return e.apply(this,arguments)};var e},D=function(){return e=k(regeneratorRuntime.mark(function e(t,n){var r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=Object(i.w)(n()))&&r.length&&(c=a()(r).id,m(n(),c));case 2:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},M=function(){return e=k(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),Object(u.c)(r)!==o.a.VIEW_INVITE&&v(r);case 2:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},P=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n(),Object(b.a)(Object.assign({noun:"leave_group",source:c.b.ChatSettings,action:c.a.Click,chat:Object.assign({},Object(l.y)(t),Object(l.o)(t),Object(l.g)(t),Object(l.w)(t)),subreddit:Object.assign({},Object(h.a)(t),Object(h.b)(t))},Object(f.a)(t)));case 1:case"end":return e.stop()}var t},e,I)})),function(t,n){return e.apply(this,arguments)};var e},L=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=r(),a=e,Object(b.a)(Object.assign({noun:"chat_member_report",source:c.b.ChatSettings,action:c.a.Submit,chat:Object.assign({},Object(l.y)(n),Object(l.o)(n),Object(l.g)(n),Object(l.u)(a)),subreddit:Object.assign({},Object(h.a)(n),Object(h.b)(n))},Object(f.a)(n)));case 1:case"end":return t.stop()}var n,a},t,I)})),function(e,n){return t.apply(this,arguments)};var t},U=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(y.c)(r(),e);case 1:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},H=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(s.c)(r(),e)&&Object(y.f)(r());case 2:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},B=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){var a,c,o,i,u,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),c=e&&e.filter(function(e){return e!==a.user.account.id}),o=c&&c[0],i=a.contacts.models[o],u=i&&i.name,(d=Object(s.a)(r(),u))&&Object(y.e)(r(),d);case 7:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},F=function(e,t){return n=k(regeneratorRuntime.mark(function e(n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.d)(r(),t);case 1:case"end":return e.stop()}},e,I)})),function(e,t){return n.apply(this,arguments)};var n},K=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.b)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},G=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.a)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},V=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.c)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},z=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.d)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},J=function(){return e=k(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),Object(u.c)(r)===o.a.VIEW_INVITE&&Object(O.e)(r);case 2:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},Q=function(){return e=k(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),Object(O.b)(r),Object(d.b)(r)&&Object(O.f)(n());case 3:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},q=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.a)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},W=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:E(r(),e);case 1:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},Z=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(j.a)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},Y=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(j.c)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},X=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(j.g)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},$=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(j.d)(n());case 1:case"end":return e.stop()}},e,I)})),function(t,n){return e.apply(this,arguments)};var e},ee=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=r()).tooltipId!==e&&p(a);case 2:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},te=function(){return e=k(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n(),Object(b.a)(Object.assign({noun:"other_message",source:c.b.ChatView,action:c.a.ModDelete,chat:Object.assign({},Object(l.y)(t),Object(l.o)(t),Object(l.g)(t),Object(l.r)(t),Object(l.m)(t),Object(l.v)(t)),subreddit:Object.assign({},Object(h.a)(t),Object(h.b)(t))},Object(f.a)(t)));case 1:case"end":return e.stop()}var t},e,I)})),function(t,n){return e.apply(this,arguments)};var e},ne=function(e){switch(e){case c.b.ChatSettings:return c.b.ChatSettings;default:return c.b.ChatView}},re=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){var a,c,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),c=Object(u.b)(a),o=c&&c.source,i=ne(o),C(r(),e,i);case 5:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t},ae=function(e){return t=k(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:w(r(),e);case 1:case"end":return t.stop()}},t,I)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/typingIndicator.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return u});var r=n("./node_modules/lodash/isEqual.js"),a=n.n(r),c=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/chat/selectors/channels.ts");var i="TYPING_INDICATOR__UPDATE",s=Object(c.a)(i),u=function(e){var t,n,r=e.channelId,c=e.usernames;return t=regeneratorRuntime.mark(function e(t,n){var i,u,d,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(o.C)(n(),"channelId"),u=n().typingIndicator.usernames,d=r===i,l=c.length>3&&u.length>3,f=!a()(c,u),d&&f&&!l&&t(s({usernames:c}));case 7:case"end":return e.stop()}},e,void 0)}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,c){try{var o=e[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e,t){return n.apply(this,arguments)}}},"./src/chat/actions/user.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/omit.js"),a=n.n(r),c=n("./node_modules/lodash/chunk.js"),o=n.n(c),i=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/chat/actions/channel.ts"),d=n("./src/chat/actions/theme.ts"),l=n("./src/chat/actions/tracking.ts"),f=n("./src/chat/constants/channels.ts"),h=n("./src/chat/endpoints/accounts/index.ts"),b=n("./src/chat/endpoints/sendbird/index.ts"),p=n("./src/chat/endpoints/users/index.ts"),m=n("./src/chat/helpers/errors.ts"),v=n("./src/chat/models/Channel/index.ts"),g=n("./src/chat/models/Contact/index.ts"),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return"boolean"==typeof r&&(t[n]=r),"object"===(void 0===r?"undefined":y(r))&&(t[n]=j(r)),t},{})},j=function(e){return{experimentId:e.experiment_id,owner:e.owner,variant:e.variant}},x=n("./src/chat/models/User/index.ts"),C=n("./src/chat/selectors/channels.ts"),w=n("./src/chat/selectors/user.ts"),E=n("./src/chat/singleton/SendbirdSDK.ts");n.d(t,"a",function(){return k}),n.d(t,"f",function(){return _}),n.d(t,"e",function(){return S}),n.d(t,"g",function(){return A}),n.d(t,"d",function(){return N}),n.d(t,"q",function(){return R}),n.d(t,"r",function(){return P}),n.d(t,"v",function(){return L}),n.d(t,"l",function(){return H}),n.d(t,"i",function(){return B}),n.d(t,"w",function(){return V}),n.d(t,"h",function(){return z}),n.d(t,"m",function(){return Q}),n.d(t,"k",function(){return q}),n.d(t,"t",function(){return W}),n.d(t,"j",function(){return Z}),n.d(t,"s",function(){return Y}),n.d(t,"c",function(){return X}),n.d(t,"o",function(){return te}),n.d(t,"u",function(){return ne}),n.d(t,"b",function(){return re}),n.d(t,"p",function(){return oe}),n.d(t,"n",function(){return se});function I(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var k="USER__ACCOUNT_FETCH_COMPLETED",_="USER__REDDAID_RECEIVED",S="USER__LOID_RECEIVED",A="USER__SESSION_TRACKER_RECEIVED",N="FETCH_EXPERIMENTS_COMPLETED",R=Object(s.a)(S),T=Object(s.a)("USER__ACCOUNT_FETCH_PENDING"),D=Object(s.a)(k),M=Object(s.a)("USER__ACCOUNT_FETCH_FAILED"),P=Object(s.a)(_),L=Object(s.a)(A),U=Object(s.a)(N),H=function(){return e=I(regeneratorRuntime.mark(function e(t,n,r){var a,c,o,i,s,u,l,f=r.apiContext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=n()).user.session&&!a.user.account){e.next=3;break}return e.abrupt("return");case 3:return t(T()),e.next=6,Object(h.c)(f());case 6:(c=e.sent).ok?(o=c.body,i=c.body.features,s=Object(x.b)(o),u=O(i),l=!!s.prefNightmode,t(D(s)),t(U(u)),t(Object(d.b)(l))):t(M(c.error));case 8:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},B="USER__USERS_FETCH_COMPLETED",F=Object(s.a)("USER__USERS_FETCH_PENDING"),K=Object(s.a)(B),G=Object(s.a)("USER__USERS_FETCH_FAILED"),V=function(e){return t=I(regeneratorRuntime.mark(function t(n,r,a){var c,i,s,u,d,l,f,h,b,m,v,g,y=a.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=100,i=r().contacts.models,s=e.filter(function(e){return!i[e]}),u=o()(s,c),s.length){t.next=6;break}return t.abrupt("return");case 6:return n(F(e)),t.next=9,Promise.all(u.map(function(e){return Object(p.d)(y(),e)})).catch(function(){return[]});case 9:for(d=t.sent,l=!0,f=!1,h=void 0,t.prev=13,b=d[Symbol.iterator]();!(l=(m=b.next()).done);l=!0)(v=m.value).ok?(g=Object(x.a)(v.body),n(K(g))):n(G());t.next=21;break;case 17:t.prev=17,t.t0=t.catch(13),f=!0,h=t.t0;case 21:t.prev=21,t.prev=22,!l&&b.return&&b.return();case 24:if(t.prev=24,!f){t.next=27;break}throw h;case 27:return t.finish(24);case 28:return t.finish(21);case 29:case"end":return t.stop()}},t,void 0,[[13,17,21,29],[22,,24,28]])})),function(e,n,r){return t.apply(this,arguments)};var t},z="USERS__USERS_ADD_SELECTED",J=Object(s.a)(z),Q=function(e){return t=I(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n(J(e)),n(Object(l.f)(e));case 2:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},q="USERS__USERS_REMOVE_SELECTED",W=Object(s.a)(q),Z="USERS__USERS_REMOVE_ALL_SELECTED",Y=Object(s.a)(Z),X="USERS__BLOCK_USER_COMPLETED",$=Object(s.a)(X),ee=Object(s.a)("USERS__BLOCK_USER_FAILED"),te=function(e){return t=I(regeneratorRuntime.mark(function t(n,r,a){var c,o,s,d,l,b,p,g,y,O=a.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),o=c.contacts.models[e],s=o&&o.name,d=Object(C.y)(c),l=Object(C.i)(c)||f.b.JOINED,b=d&&d.type===v.a.Direct,p=Object(C.k)(c)){t.next=9;break}throw new m.a("currentChannel",p);case 9:if(g=p.channelId){t.next=12;break}throw new m.a("blockedChannelId",g);case 12:return t.next=14,Object(h.a)(O(),e);case 14:(y=t.sent)&&y.ok&&b?E.b.hideChannel().then(function(){return n($({userId:e,username:s}))}).then(function(){return n(Object(u.L)(g))}).then(function(){return n(Object(u.P)(l))}):y&&y.ok&&!b?(n($({userId:e,username:s})),n(Object(i.a)())):y&&n(ee(y.error));case 16:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},ne=function(e){return t=I(regeneratorRuntime.mark(function t(n,r,a){var c,o,s,u=a.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=e.user,o=e.reason,s={reason:o,userNickname:c.name},Object(p.a)(u(),s).then(function(){return n(Object(i.a)())});case 3:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},re="BLOCKED_USER_LIST_FETCH_COMPLETED",ae=Object(s.a)("BLOCKED_USER_LIST_FETCH_FAILED"),ce=Object(s.a)(re),oe=function(){return e=I(regeneratorRuntime.mark(function e(t,n,r){var c,o,i,s,u,d,l=r.apiContext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n(),(o=c.contacts).fetchedBlockedUsers){e.next=6;break}return e.next=4,Object(p.c)(l());case 4:(i=e.sent).ok&&i.body&&i.body.data?(s=i.body.data.children,u=o.models,d={},s.forEach(function(e){u[e.id]?d[e.id]=Object.assign({},u[e.id],{isBlocked:!0}):d[e.id]=Object.assign({},g.b,a()(e,"date"),{isBlocked:!0})}),t(ce({blockedContacts:d}))):t(ae(i.error));case 6:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},ie=function(e){return{chat_ban:e.chatBan,delete_all_messages:e.deleteAllMessages,subreddit_id:e.subredditId,user_id:e.userId}},se=function(e){return t=I(regeneratorRuntime.mark(function t(n,r,a){var c,o,s,u=a.apiContext;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),!(o=Object(w.c)(c))){t.next=9;break}return s=ie(e),t.next=6,Object(b.b)(u(),o,s);case 6:t.sent.ok||Object(m.b)("Error with ban user and delete all messages"),n(Object(i.a)());case 9:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}},"./src/chat/components/CloseIcon/index.tsx":function(e,t,n){"use strict";n("./node_modules/react/index.js");var r,a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/lib/index.js"),o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),s=n("./src/chat/actions/container.ts"),u=n("./src/chat/actions/tracking.ts"),d=n("./src/chat/constants/container.ts"),l=n("./src/chat/controls/Button/index.tsx"),f=n("./src/chat/helpers/dom.ts"),h=n("./src/chat/helpers/styles/mixins/index.tsx"),b=n("./src/chat/icons/svgs/NavClose/index.tsx"),p=n("./src/chat/strings/index.ts"),m=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),v=i()(l.d).withConfig({componentId:"s10llmio-0"})(["","right: 1em;top: 1em;position: absolute;z-index: 3;"],h.e),g=Object(a.connect)(function(){return Object(c.createStructuredSelector)({containerSize:function(e){return e.container.size}})},function(e){return{close:function(){e(Object(s.c)(d.a.HIDDEN)),e(Object(u.c)())}}});t.a=g(function(e){var t=e.className,n=e.close,r=e.containerSize;return r===d.a.EMBED||r===d.a.MINIMIZED?m(v,{onClick:Object(f.b)(n),title:Object(p.a)("en","app.layout.header.close"),className:t},void 0,m(b.a,{})):null})},"./src/chat/components/EmptyState/index.tsx":function(e,t,n){"use strict";var r,a=n("./src/chat/strings/index.ts"),c=n("./src/config.ts"),o=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),i=n.n(o),s=n("./src/chat/components/CloseIcon/index.tsx"),u=n("./src/chat/controls/Button/index.tsx"),d=n("./src/chat/helpers/styles/components/index.tsx"),l=n("./src/chat/icons/svgs/ChatNew/index.tsx"),f=n("./src/chat/helpers/urls/index.ts"),h=n("./node_modules/react-router-dom/es/index.js"),b=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),p=i.a.div.withConfig({componentId:"s19o1wft-0"})(["display: inline-block;padding: 10px;"]),m=i.a.img.withConfig({componentId:"s19o1wft-1"})(["vertical-align: middle;display: inline-block;height: 180px;width: 180px;"]),v=i.a.div.withConfig({componentId:"s19o1wft-2"})(["vertical-align: middle;display: inline-block;max-width: 250px;padding: 20px 0 20px 30px;text-align: left;"]),g=i()(d.b).withConfig({componentId:"s19o1wft-3"})(["padding-bottom: 10px;font-weight: bold;"]),y=i()(u.a).withConfig({componentId:"s19o1wft-4"})(["font-size: 1em;height: 2.4em;margin-top: 1em;padding: 0.2em 2em;"]);t.a=function(){return b(d.a,{},void 0,b(s.a,{}),b(p,{},void 0,b(m,{src:c.a.assetPath+"/img/chat/empty-hero.png"}),b(v,{},void 0,b(g,{},void 0,Object(a.a)("en","app.chat.emptyState.title")),b(d.c,{},void 0,Object(a.a)("en","app.chat.emptyState.main"),b(h.a,{to:Object(f.c)("create")},void 0,b(y,{primary:!0},void 0,b(l.a,{width:"1em"})," ",Object(a.a)("en","app.chat.actions.new")))))))}},"./src/chat/components/OverlayCreateChannel/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/lodash/uniqBy.js"),c=n.n(a),o=n("./node_modules/lodash/noop.js"),i=n.n(o),s=n("./node_modules/react/index.js"),u=n.n(s),d=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/react-router-redux/es/index.js"),f=n("./node_modules/reselect/lib/index.js"),h=n("./bundled-modules/styled-components/styled-components.min.js"),b=n.n(h),p=n("./src/chat/actions/channel.ts"),m=n("./src/chat/actions/sendbird/index.ts"),v=n("./src/chat/actions/tracking.ts"),g=n("./src/chat/actions/user.ts"),y=n("./src/chat/components/Scroller/index.tsx"),O=n("./node_modules/lodash/last.js"),j=n.n(O),x=n("./node_modules/react-dom/index.js"),C=n("./src/chat/constants/keys.ts"),w=n("./src/chat/helpers/dom.ts"),E=n("./src/chat/helpers/styles/functions/index.tsx"),I=n("./src/chat/helpers/styles/mixins/index.tsx"),k=n("./src/chat/strings/index.ts"),_=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var A=b()(y.a).withConfig({componentId:"s26p3zk-0"})(["","width: 100%;height: auto;display: flex;flex: 0 0 auto;min-height: 2.7em;max-height: 5.3em;border-bottom: 1px solid ",";"],I.a.titleFontH5,function(e){return e.theme.layout.colsBorder}),N=b.a.span.withConfig({componentId:"s26p3zk-1"})(["padding: 0.725em 0.1875em 0 1em;"]),R=b.a.span.withConfig({componentId:"s26p3zk-2"})(["display: flex;flex-wrap: wrap;width: 100%;"]),T=b.a.input.withConfig({componentId:"s26p3zk-3"})(["flex: 1 1;min-width: 0;outline: none;padding: 0.125em;background: transparent;color: ",";"],function(e){return e.theme.activity.text.regular}),D=b.a.span.withConfig({componentId:"s26p3zk-4"})(["align-self: start;border-radius: 3px;cursor: pointer;margin: 0.2734375em;padding: 0.390625em;outline: 0;white-space: nowrap;",";color: ",";background-color: ",";&:active,&:focus {color: ",";background-color: ",";}"],Object(E.a)("all","0.1s"),function(e){return e.theme.activity.text.regular},function(e){return e.theme.activity.input.ownerBg},function(e){return e.theme.activity.input.focusColor},function(e){return e.theme.activity.input.focusBg}),M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.bubbleRefs={},n.searchBarInputRef={},n.timeoutToken=null,n.onBubbleKey=function(e){return function(t){switch(t.key){case C.f:case C.e:return Object(x.findDOMNode)(n.searchBarInputRef).focus(),n.props.onUnselect(e.id);case C.b:var r=t.target;if(r.previousElementSibling)r.previousElementSibling.focus();break;case C.c:var a=t.target;if(a.nextElementSibling)a.nextElementSibling.focus()}}},n.onBubbleKey=n.onBubbleKey.bind(n),n.onFilterChange=n.onFilterChange.bind(n),n.stopEnter=n.stopEnter.bind(n),n.searchKeyHandler=n.searchKeyHandler.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),S(t,[{key:"stopEnter",value:function(e){e.key===C.g&&e.preventDefault()}},{key:"onFilterChange",value:function(e){this.props.onFilterContacts(e.currentTarget.value)}},{key:"searchKeyHandler",value:function(e){var t=this.props,n=t.onFilterContacts,r=t.onIdentifyContact,a=t.onIdentifyContactTimeout,c=e.currentTarget,o=function(){return c.value};switch(this.timeoutToken&&clearTimeout(this.timeoutToken),this.timeoutToken=setTimeout(function(){o()&&r(o())},a),e.key){case C.g:return r(c.id);case C.b:case C.f:case C.e:if(0===o().length){var i=j()(this.props.selectedContacts);i&&i.name&&Object(x.findDOMNode)(this.bubbleRefs[i.name]).focus()}}return n(o())}},{key:"render",value:function(){var e=this,t=this.props,n=t.filter,r=t.innerRef,a=t.resetFilter,c=t.selectedContacts,o=t.onFilterReset,i=a?"":n;return _(A,{autoScrollBottom:!0},void 0,_(N,{},void 0,Object(k.a)("en","app.chat.contactList.to")),_(R,{},void 0,c&&c.length>0&&c.map(function(t,n){return u.a.createElement(D,{key:"selected-contact-"+n,tabIndex:0,onKeyDown:Object(w.a)(e.onBubbleKey(t)),ref:function(n){e.bubbleRefs[t.name]=n}},t.name)}),u.a.createElement(T,{key:"search-bar",type:"text",autoFocus:!0,value:i,onFocus:o,onChange:this.onFilterChange,onKeyDown:this.stopEnter,onKeyUp:this.searchKeyHandler,ref:function(t){e.searchBarInputRef=t},innerRef:function(e){return r(e)}})))}}]),t}(),P=M;M.defaultProps={onIdentifyContactTimeout:1e3};var L=n("./src/chat/controls/Checkbox/index.tsx"),U=n("./src/chat/icons/Userpic/index.tsx"),H=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var F=b()(L.a).withConfig({componentId:"s5r3kx-0"})(["padding: 0.625em 0;width: 100%;&:focus,&:hover {background-color: ",";}"],function(e){return e.theme.layout.colsBorder}),K=b()(U.a).withConfig({componentId:"s5r3kx-1"})(["display: inline-block;margin-right: 0.625em;height: 1.875em;width: 1.875em;"]),G=b.a.span.withConfig({componentId:"s5r3kx-2"})(["display: inline-block;vertical-align: middle;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;width: calc(100% - 3.2em);"]),V=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.CONTACT_FORM_NAME="contactForm",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),B(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=t.id,r=t.name,a=e.formName,c=e.isChecked,o=e.onChange;return H(F,{type:"checkbox",name:a,value:r,onChange:o,checked:c(n),id:n},void 0,H(K,{userId:n}),H(G,{},void 0,r))}}]),t}(),z=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),J=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Q=b.a.span.withConfig({componentId:"sgv4bv-0"})(["display: flex;align-items: center;justify-content: space-between;height: 2.8em;padding: 0 0.9375em;opacity: 0.6;"]),q=b.a.span.withConfig({componentId:"sgv4bv-1"})(["","align-items: center;display: flex;padding-right: 1em;min-width: 0;"],I.a.titleFontH5),W=b()(U.a).withConfig({componentId:"sgv4bv-2"})(["margin-right: 0.625em;height: 1.875em;min-width: 1.875em;"]),Z=b.a.span.withConfig({componentId:"sgv4bv-3"})(["overflow: hidden;white-space: nowrap;text-overflow: ellipsis;"]),Y=b.a.span.withConfig({componentId:"sgv4bv-4"})(["",""],I.a.titleFontH5),X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),J(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=t.id,r=t.name,a=e.context;return z(Q,{},void 0,z(q,{},void 0,z(W,{userId:n}),z(Z,{},void 0,r)),z(Y,{},void 0,a))}}]),t}(),$=n("./src/chat/controls/ChannelNameInput/index.tsx"),ee=n("./src/chat/controls/Counter/index.tsx"),te=n("./src/chat/controls/Overlay/index.tsx"),ne=n("./src/chat/controls/OverlayControlBar/index.tsx"),re=n("./src/chat/controls/OverlayHeader/index.tsx"),ae=n("./src/chat/constants/channels.ts"),ce=n("./src/chat/models/Channel/index.ts"),oe=n("./src/chat/selectors/channels.ts"),ie=n("./src/chat/selectors/contacts.ts"),se=n("./src/chat/selectors/platform.ts"),ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),de=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();var le=b.a.div.withConfig({componentId:"hhxf58-0"})(["align-content: center;align-items: center;display: flex;flex-grow: 1;flex: 1 1 auto;flex-direction: column;overflow: hidden;"]),fe=b()(L.a).withConfig({componentId:"hhxf58-1"})(["padding: 10px 0;width: 100%;&:focus,&:hover {background-color: ",";}"],function(e){return e.theme.layout.colsBorder}),he=b()(y.a).withConfig({componentId:"hhxf58-2"})(["width: 100%;height: 100%;max-height: calc(100vh - 7.313em);"]),be=b.a.div.withConfig({componentId:"hhxf58-3"})(["border-bottom: 1px solid ",";cursor: pointer;&:last-of-type {border-bottom: 0;}&:hover {background-color: ",";}"],function(e){return e.theme.layout.colsBorder},function(e){return e.theme.layout.colsBorder}),pe=b.a.div.withConfig({componentId:"hhxf58-4"})(["border-bottom: 1px solid ",";cursor: pointer;&:hover {background: initial;cursor: initial;}"],function(e){return e.theme.layout.colsBorder}),me=b.a.h4.withConfig({componentId:"hhxf58-5"})(["","font-weight: bold;padding: 10px 15px;"],I.a.titleFontH5),ve=b.a.span.withConfig({componentId:"hhxf58-6"})(["display: inline-block;vertical-align: middle;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;width: calc(100% - 3.2em);"]),ge=b.a.span.withConfig({componentId:"hhxf58-7"})(["","display: block;color: ",";"],I.a.bodyFontH5,function(e){return e.theme.activity.input.error}),ye=b()($.a).withConfig({componentId:"hhxf58-8"})(["padding-left: 0.390625em;border: 0;"]),Oe=b.a.div.withConfig({componentId:"hhxf58-9"})(["height: 100%;display: flex;flex-direction: column;"]),je=b()(function(e){return de("div",{className:e.className},void 0,e.children)}).withConfig({componentId:"hhxf58-10"})(["","display: flex;flex: 0 0 auto;align-items: center;width: 100%;overflow: hidden;border-bottom: 1px solid;height: ",";border-color: ",";transition: all 0.3s;"],I.a.bodyFontH5,function(e){return e.isShown?"2.7em":"0"},function(e){return e.isShown?e.theme.layout.colsBorder:"transparent"});je.displayName="ChannelNameWrapper";var xe=function(e){return e.toLocaleLowerCase()},Ce=Object(f.createStructuredSelector)({channelAction:function(e){return Object(se.c)(e)},channel:function(e){return Object(oe.k)(e)},contacts:ie.i,isCreatingChannel:oe.K,loadedContacts:ie.j,knownContacts:ie.h,memberCount:function(e){return Object(oe.C)(e,"memberCount")},existingGroupUsers:function(e){var t=Object(oe.C)(e,"members");return t&&t.map(function(e){return e.id})},selectedUsers:ie.k,selectedUsersCount:ie.l}),we=Object(d.connect)(Ce,function(e){return{onCreateNewChannel:function(t,n){return e(Object(p.C)(t,n,!0))},onInviteUsersToExistingChannel:function(t){return e(Object(p.I)(t))},onIdentifyContact:function(t){return e(Object(m.k)({username:t}))},onCancelAndGoBack:function(){e(Object(l.a)()),e(Object(v.d)())},onSelectUser:function(t){return e(Object(g.m)(t))},onUnselectUser:function(t){return e(Object(g.t)(t))},removeAllSelectedUsers:function(){return e(Object(g.s)())},requestSuggestedContacts:function(){return e(Object(m.n)())}}}),Ee=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isUserSelected=function(e){return n.props.selectedUsers.includes(e)},n.isCreateChannelURLAction=function(){return n.props.channelAction===ae.a.CREATE},n.isInviteMembersURLAction=function(){return n.props.channelAction===ae.a.INVITE_MEMBERS},n.isSubredditChannel=function(){return!(!n.props.channel||n.props.channel.type!==ce.a.Subreddit)},n.isExistingGroupUser=function(e){return!(!(n.isInviteMembersURLAction()&&n.props.existingGroupUsers&&n.props.existingGroupUsers.includes(e))||n.isUserSelected(e))},n.hasTooManyMembers=function(){var e=n.props,t=e.isCreatingChannel,r=e.memberCount,a=e.selectedUsersCount;return t?a>ae.e:(a||0)+(r||0)>ae.e},n.isSubmitDisabled=function(e){var t=n.props,r=t.isCreatingChannel,a=t.selectedUsersCount,c=n.isCreateChannelURLAction(),o=e<0||e===ae.d,i=a>1,s=n.hasTooManyMembers();return!n.isSubredditChannel()&&(!a||r||c&&i&&(o||s)||!c&&s)},n.getInviteMembersText=function(){return n.isSubredditChannel()?Object(k.a)("en","app.chat.channels.addToRoom"):Object(k.a)("en","app.chat.channels.addToGroup")},n.primaryButtonText=function(){return n.isInviteMembersURLAction()?n.getInviteMembersText():Object(k.a)("en","app.button.init")},n.getBlockedContactText=function(e){return e?Object(k.a)("en","app.chat.contactList.blockedContact"):n.isSubredditChannel()?Object(k.a)("en","app.chat.contactList.existingRoomContact"):Object(k.a)("en","app.chat.contactList.existingGroupContact")},n.getOverlayTitle=function(){return n.isCreateChannelURLAction()?Object(k.a)("en","app.chat.channels.createGroup"):n.getInviteMembersText()},n.getOverlayMessage=function(){var e=n.props,t=e.memberCount,r=e.selectedUsersCount,a=r+(n.isCreateChannelURLAction()?1:t),c=(ae.e-a).toString();return r===ae.e?n.isSubredditChannel()?Object(k.a)("en","app.chat.channels.addGroupMembers").replace("%0",c):Object(k.a)("en","app.chat.channels.maxGroupSize"):""},n.getSelectedContacts=n.getSelectedContacts.bind(n),n.onContactsSelect=n.onContactsSelect.bind(n),n.onFilterContacts=n.onFilterContacts.bind(n),n.onFilterReset=n.onFilterReset.bind(n),n.onSubmit=n.onSubmit.bind(n),n.onCancel=n.onCancel.bind(n),n.handleChannelNameInput=n.handleChannelNameInput.bind(n),n.state={filter:"",resetFilter:!1,groupName:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),ue(t,[{key:"componentWillMount",value:function(){this.props.requestSuggestedContacts()}},{key:"componentWillUnmount",value:function(){this.props.removeAllSelectedUsers()}},{key:"onContactsSelect",value:function(e){var t=e.target.id,n=this.props,r=n.onSelectUser,a=n.onUnselectUser,c=n.selectedUsers,o=n.selectedUsersCount;c.includes(t)?a(t):(o<ae.e||o<1)&&(this.setState(function(e){return Object.assign({},e,{resetFilter:!0})}),r(t)),this.searchBarElement.focus()}},{key:"onFilterContacts",value:function(e){this.setState({filter:e})}},{key:"onFilterReset",value:function(){this.setState({filter:"",resetFilter:!1})}},{key:"handleChannelNameInput",value:function(e){this.setState({groupName:e})}},{key:"onSubmit",value:function(){var e=this.props,t=e.onCreateNewChannel,n=e.onInviteUsersToExistingChannel,r=this.state.groupName,a=this.getSelectedContacts().map(function(e){return e.id});a&&a.length&&(this.isCreateChannelURLAction()?t(a,r.trim()):n(a))}},{key:"onCancel",value:function(){this.props.onCancelAndGoBack()}},{key:"getSelectedContacts",value:function(){var e=this.props,t=e.loadedContacts,n=[];return e.selectedUsers.map(function(e){for(var r in t)xe(t[r].id)===e&&n.push(t[r])}),n}},{key:"getFilteredContacts",value:function(){var e=this.props.contacts,t=this.state.filter;return t?e.filter(function(e){return xe(e.name).includes(xe(t))&&!e.isBlocked}):e}},{key:"getLoadedContact",value:function(){var e=this;return this.props.loadedContacts.find(function(t){return t&&xe(t.name)===xe(e.state.filter)})}},{key:"getIsValidUser",value:function(e){var t=this.props.knownContacts[xe(e)];return!t||!t.loaded||t.valid}},{key:"availableCharacters",value:function(e){return ae.d-e.length}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.onIdentifyContact,a=t.selectedUsersCount,o=this.state,s=o.filter,u=o.resetFilter,d=o.groupName,l=this.isUserSelected,f=this.isExistingGroupUser,h=this.onFilterReset,b=this.onFilterContacts,p=this.onContactsSelect,m=this.onSubmit,v=this.onCancel,g=this.getSelectedContacts(),y=this.getFilteredContacts(),O=this.getLoadedContact(),j=!!s&&!O,x=!!O,C=!this.getIsValidUser(s),E=this.handleChannelNameInput,I=this.availableCharacters(d),_=this.isSubmitDisabled(I),S=this.primaryButtonText(),A=this.isCreateChannelURLAction(),N=a>=ae.e&&!this.isSubredditChannel();return de(te.a,{className:n,onSubmit:Object(w.a)(m),innerContent:!0,form:!0},void 0,de(Oe,{},void 0,de(re.a,{message:this.getOverlayMessage(),title:this.getOverlayTitle(),warning:N}),de(le,{},void 0,A&&de(je,{isShown:a>1},void 0,de(ye,{handleChannelNameInput:E,placeholder:Object(k.a)("en","app.chat.channels.groupName")},void 0,de(ee.a,{count:I}))),de(P,{innerRef:function(t){return e.searchBarElement=t},filter:s,resetFilter:u,selectedContacts:g,onFilterReset:h,onFilterContacts:b,onIdentifyContact:r,onUnselect:this.props.onUnselectUser}),de(he,{loadMoreRows:i.a,threshold:0},void 0,c()(y,function(e){return e.name}).map(function(t){return de(be,{},t.name,f(t.id)||t.isBlocked?de(X,{contact:t,context:e.getBlockedContactText(!!t.isBlocked)}):de(V,{formName:"contactForm",contact:t,onChange:p,isChecked:l}))}),(j||x)&&de(pe,{},void 0,de(me,{},void 0,Object(k.a)("en","app.chat.contactList.potentialsHeader"))),j&&!x&&de(be,{},void 0,de(fe,{type:"checkbox",disabled:!0,name:"contactForm",value:s,onChange:p},void 0,de(ve,{},void 0,s,C&&de(ge,{},void 0,Object(k.a)("en","app.chat.contactList.invalidUser"))))),x&&O&&de(be,{},void 0,A||!f(O.id)&&!O.isBlocked?de(V,{formName:"contactForm",contact:O,onChange:p,isChecked:l}):de(X,{contact:O,context:this.getBlockedContactText(!!O.isBlocked)})))),de(ne.a,{primaryButtonText:S,primaryButtonDisabled:_,secondaryButtonAction:v})))}}]),t}();t.a=we(Ee)},"./src/chat/components/Root/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./node_modules/react-router/es/index.js"),i=n("./bundled-modules/styled-components/styled-components.min.js"),s=n.n(i),u=(n("./assets/fonts/IBMPlexSans/font.less"),n("./assets/fonts/NotoSans/font.less"),n("./node_modules/react-redux/es/index.js")),d=n("./node_modules/reselect/lib/index.js"),l=n("./src/chat/icons/Loader/index.tsx"),f=n("./src/chat/components/CloseIcon/index.tsx"),h=n("./src/chat/selectors/app.ts"),b=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),p=Object(d.createStructuredSelector)({isHidden:h.e,isReady:h.f,alert:h.b,experiments:h.a}),m=Object(u.connect)(p)(function(e){return e.isHidden?null:e.isReady&&e.experiments?e.children:b(c.a.Fragment,{},void 0,b(f.a,{}),b(l.a,{textType:e.alert||"",isFadeOut:e.isReady,zIndex:2}))}),v=n("./src/chat/components/ThemeProvider/index.tsx"),g=n("./src/chat/constants/page.ts");n.d(t,"a",function(){return j});var y=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),O=s.a.main.withConfig({componentId:"wt632n-0"})(["height: 100%;background: ",";"],function(e){return e.theme.layout.body});function j(e,t){return y(v.a,{},void 0,y(e,{},void 0,y(o.b,{component:function(e){return y(O,{role:"main",id:g.a},void 0,y(m,{},void 0,y(o.d,{location:e.location},void 0,t)))}})))}},"./src/chat/components/Scroller/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/lodash/debounce.js"),c=n.n(a),o=n("./node_modules/react/index.js"),i=n.n(o),s=n("./bundled-modules/styled-components/styled-components.min.js"),u=n.n(s),d=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=u.a.div.withConfig({componentId:"sblabj-0"})(["overflow-y: auto;overflow-x: hidden;height: 100%;::-webkit-scrollbar {width: .625em;}::-webkit-scrollbar-track {-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);-webkit-border-radius: 0;border-radius: 0;}::-webkit-scrollbar-thumb {-webkit-border-radius: 0;border-radius: 0;background: ",";-webkit-box-shadow: inset 0 0 0 rgba(0,0,0,0.5);}"],function(e){return e.theme.layout.scrollbar});f.displayName="ScrollList";var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.isBatchLoading=!1,e.isScrolling=!1,e.scrollToBottom=c()(function(){this.list&&(this.list.scrollTop=this.list.scrollHeight)},1,{leading:!1,trailing:!0}),e.scrollToTop=c()(function(){this.list&&(this.list.scrollTop=0)},1,{leading:!1,trailing:!0}),e.addScrollListener=e.addScrollListener.bind(e),e.removeScrollListener=e.removeScrollListener.bind(e),e.onScroll=e.onScroll.bind(e),e.scrollCapture=e.scrollCapture.bind(e),e.scrollRelease=e.scrollRelease.bind(e),e.resetScrollPosition=e.resetScrollPosition.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),l(t,[{key:"componentDidMount",value:function(){this.scrollCapture(),this.resetScrollPosition()}},{key:"componentWillUpdate",value:function(){if(this.list){var e=this.list,t=e.clientHeight,n=e.scrollTop,r=e.scrollHeight;this.props.isScrolling&&this.props.isScrolling(this.isScrolling),this.isScrolling=n+t!==r}}},{key:"componentDidUpdate",value:function(){if(this.list){var e=this.list,t=e.scrollHeight,n=e.scrollTop,r=this.props.autoScrollBottom;r&&this.isScrolling&&this.isBatchLoading&&(this.list.scrollTop=n+(t-this.previousScrollHeight),this.isBatchLoading=!1),r&&!this.isScrolling&&this.scrollToBottom()}}},{key:"componentWillUnmount",value:function(){this.scrollRelease()}},{key:"addScrollListener",value:function(e,t){e&&e.addEventListener("wheel",t,!1)}},{key:"removeScrollListener",value:function(e,t){e&&e.removeEventListener("wheel",t,!1)}},{key:"onScroll",value:function(e){if(this.list){var t=this.list,n=t.clientHeight,r=t.scrollHeight,a=t.scrollTop,c=this.props,o=c.autoScrollBottom,i=c.loadMoreRows,s=c.threshold,u=e.deltaY,d=u>0;if(void 0!==s&&i)(o&&a<=s||!o&&a>=r-n-s)&&(this.isBatchLoading=!0,this.previousScrollHeight=r,i());d&&u>r-n-a?(this.scrollToBottom(),e.preventDefault()):!d&&-u>a&&(this.scrollToTop(),e.preventDefault())}}},{key:"scrollCapture",value:function(){this.list&&this.addScrollListener(this.list,this.onScroll)}},{key:"scrollRelease",value:function(){this.list&&this.removeScrollListener(this.list,this.onScroll)}},{key:"resetScrollPosition",value:function(){return this.props.autoScrollBottom?this.scrollToBottom():this.isScrolling||this.scrollToTop(),!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className;return d(f,{innerRef:function(t){return e.list=t},className:r},void 0,n)}}]),t}();t.a=h},"./src/chat/components/ThemeProvider/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/lib/index.js"),c=n("./bundled-modules/styled-components/styled-components.min.js"),o=Object(a.createSelector)(function(e){return e.themes.current},function(e){return{theme:e}}),i=c.ThemeProvider;t.a=Object(r.connect)(o)(i)},"./src/chat/components/ToastNotification/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/lib/index.js"),s=n("./bundled-modules/styled-components/styled-components.min.js"),u=n.n(s),d=n("./src/chat/actions/sendbird/sdk.ts"),l=n("./src/chat/constants/toast.ts"),f=n("./src/chat/helpers/styles/mixins/index.tsx"),h=n("./src/chat/controls/Svg/index.tsx"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAB/FJREFUWAnFWFtolUcQ/nMxprUp9MFGUZJgSaqlahSRNm2KTUoetD4oKppWxBJsfbAiRQhY0SL4EA2WoJRCrVYMwVta8IJVo9LEaC410ZpYxcQ7ao0arTEn57b9vjn//Oc/yUmiEu3A/Du7Ozvz7ezO7p4TY708ioGrONsd5SA4YNf/94KAopECjtYnbb0N7HXAc3TEYgyjRfocnAVuB5eCm8DuflRfDtFpvM0ahPJVq1aZU6dOmd27dxv0EXQOmNRvJENqA/ON5uyjefPmGa/X6zPGeMGdx48fJ8hjtktOKCpxlgNJjBY3/kjwDPCElJSUtGvXrmUmJSVZgwYNigkEAvFxcXGxw4YNQ7f1Oj8ggn3hpJErgKc2cAP4GMD8lJGR8Q3khydPnkTwjCcYDHauWbOGoIrApIEOVMiq66tLlIS2J+B8V5+KX0EwJSUlZtmyZQTXvGTJEo2gjlfdAS81etz018GaGIMgK1sjRozIRf17cOHixYvfQEl64eDohCBIheBqkUJtCpRN0YBEa7OHh4p+FSK0Iyscy70Tt3r1atnk2PjpiJIC9KGP7apHmZHmGDLB6/kI8fmIRpTVAp24I6Ptr0GoAm8Bp4PTADwRpZsUmLutTzmaIw4gCJL7rmQbo6CzzoD8AZg3w4TMzMyMoUOHJg0ePNh68uSJ1dra2nHlypV/0Mds/tXmDpQkAqUt+neXbn/o6kkcoOCkF8dC921AQL/Pnj07UFpaas6ePWtu375tHj16ZDo6OoIAF3z8+LG5f/++AUBz4sQJU1xcbIYPH34d43jcJIjh6B/66i1o4U2cmJiYDcXN4Dow78tqROZHlL8tXbrUNDU1ma6uLp5pejP4IQfYYFMQJetsp46vvb3d7Nu3z6Smpv4NO19Onz49D+V34B3gkvHjx3+IUqkHSHeUNkHLbN261TQ2NhrcAmblypVcBokGDln4k+sqiFvBKLO9O7v7MIZgvQ8fPjTr168Xe7yTKysrzYYNG6QOH8WKEKUDkoJWSvPz883NmzfFGI1WVFT4586d67tx4wbvUEZDgNlAUX06UrDQlqiWl5f7161bpza7sCp+XIsE+q0NkvtUSIVlWVlZ5sGDB1w7CZP96pD9RBh+v1+iRPl5iUB1cvv37zdbtmxRU/6GhgYC9EydOjXVxhZa2cLCQp7qbTU1NVSWvXThwgUJ+71798QAwQ0UESCBkg4ePGjOnDmjpn32mfq1DVAvAOvTmTNncuM7KLZt22ZOnz4tA93gNAJuJ2q9r1KX2D1e9flG7OzsZNV39OhRBoZ5QIrX5R0+adIkKyEhgUpWTEyMhWPEQjZbrONFIiVHxMaG84l6qs++vsg9jnocp2MnTpxo+Xy8eCyLzzKQlx9QjAL8FxGRBjrFOWbxwFVSQ6xfvHjRqqqqkq7s7GwrPZ2XRv907tw5C49UC+ehlZeXJ0AUJN6JfCvSSMzVq1dZVvIDYjSF3p02bVoAhyzGmOChQ4cMD1uphI4VkcvKymRfzpkzx+Tm5orMJemuJw346D7bs2eP6HJ/paWlmfnz5zuJogkDXT8mbsaNG8ezV0lOFz1iqplF2IdenoHqVJ3U1dWJE5ZKBw4cMJi57h/HqY5liaUzGzduNIiMDKM9HmWHDx+WOvtJSEY/UNHHZzY6J0F0mXNmzJghaY8ZS4rRmM5w4cKFZvPmzWJM21jBmSkgpCPKRyfILk02XoNuwOgK3L1714wcOfJ+cnLymzbA8GZHg9y/o0aN+gKy2bFjB+3JgUyBhL0XESmCdAMNaUX/Uk+Buse42v28z+G7xgbHQlZWUfIVEd/a2vozyl8wGyr4mTBKTAbNarZrH5yoSp+l6rPENJwMtgfxgqB4kx/sVeIi4PADAbKiaaytrbUwYwFBY6QoRqWfx0dfINnnnhBtda/TPILDrr/4sQFSjCBZ5rFjx36CVg5w9mH0hQtnqfZzGbsz+5gIiJCqOSWXGIQiGMQPKEbiPRuRYIlAh4pEcOfOna9AvmJnsl/3jmM1ZFGqe/fuNUwePr9sZ241kW/dumWYfBUVFVJ369m2vZcvXya4P1yAdDWdZdU+ZrQ/Pj5+OTKuCBvXi6xKgCG5TVQJnmSZ+HKurq628KiwhgwZYuFNx19uIrOPh25zc7PcSpMnT9bhUto2CMysWLEidu3atR9DPg5m9Hp9WQtyDGb55/LlyzlrDz96RFCORoxUfX294SHPBwAP3ZaWlv6y12PfvfwpSoq6tKGu8FeUFi1alIKmu0VFRXRCkM4DVQFyuaJtAe3X0q1jy9x8Hvt5dTTsuseKuroiRTm8FyxY8BaaWwoKCpg0NOo8WOnIvZ8ULNvdzHbts/VpI3DkyBHZd1OmTNFffnrkRSLpoyYgN23axJ+T/H1itm/fbtra2giUL2E+zeAzFEUF1b1OHZsJzMebB3uO4Da6fD/V0rr0HdEZOHr0aP6aO4iflvJ7hfvL45HtyeNInPdSBvgD69KlS/K/DGzUg3McD5Fnsas5JDrp3KMn3MDQU08z633IvNBzZ82alZ6TkxM3ZswYC/8qSPbiTSlvO2bxnTt3rPPnz1tYzq5du3bVYswP4DIwiZPnNcRo9kpPA1AHRxhEtGJxI7yNznfAb4GTwa+C+SrxgB+D74GvgvnTVa4KlCQ5zkLiwH8JVPbnM5pmMDjuWYLybMrdANGRLj9lg4x0VPB6ViBcQi4l+ZnpP8ZJaQD2wM13AAAAAElFTkSuQmCC",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAACPtJREFUWAm9WHtQVscVX+DjIVAzRqStVAnUCc7UBx2jKEarFeNYJrHVxvQPtSPTaDL1UbWVf4IZJ6Rm1DQdH4Dji1oZJ1BHJiMyU3V8iw98piWjOID4accCWhEEvtf299vvnpvL55c0NDFn5tzdPXvuOb89u3t2741S3xxFwpQOMedCO8Li0L4Q1fDNqPDi/0tKABPAueDvgJvAATDlZIJl+1snGeS7hYWFurm5WR8/fpyADoAnDBw48Kcon7dQMZrfKnFaSemLFy/2eb1eDfKA/Xv37iVIz7Bhw5pRPgS/Ayb1CaQ4CL7a96e8nzJy5Mgol8tFcJR509LSaK3q1q1bQ1G+Al4J/i1YphvVZ08SjWi4ulpbW6v9fr9ub2/Xq1atIpA8B4SFqLsdbXnXIXo2VYni92D+L7Nnz67PzMysQ/0PlrsEq5yKsgecbLXlPav5bAunM0bT2RbPFajclQbKrxRBbv2vQ3QiTGDc0d2WwYyoqKiXMeU/QjsX/KJVspt6flaeBREQB/aFg0tISFiHfq7BO+A94DXg4WBSuOgGe/r4lMiwJAmwYAvP8vJyRuIF8I/BWeAM8K8TExP1uHHjlqAeSn0GJ86dhiijY59DSBkjIpSDyq/Ak5DnhmRkZPSLiYlRHo9H1dfXq5s3b/LEYOSqwWfBbjCJdmmHLL6lDdH/pl4jnD9/PnegMTRmzJh41N8AX1i3bp0+c+aMOTUePnyonzx5oru6ukz54MED3dTUFGDK2b59u54+ffp/8A43SDb4i4jLpZfvcIocndq2bRsX++/B58HNo0aNuobyOOtlZWWaAHhSgJmUfVY9gNLJaGoeKz4CJ9gFCxYwUh/NnDlzUF5eHs/q1NGjR6dAx7mWDQb0PUUGfVpa2nfRc3nLli26rq5Ot7S0mIS7cOFCfffuXTolIG8AxIRMRvUpdvZB3wyGx+ChQ4cIksfeHZw8T1C2g2+ANyKxJ6EkOQEbgawFNs6eOnWKQLoI5NixYz6ANaAsR+zrE3EAPh9NmAh7b9y4YdYcwfLEuXbtml67di1l/544ceJLBlEISEE8d+PGjTTUw8fly5fNGmKdREO7S0t1SXGxbmxsNDI6D0fhouoA6r99+7YfuzzgdrsZXaLvqqysJMhHOIlSLZD2dAvATQQB8j5+/FgfOXKEde3H6N/98E9m1HhRl1X8TePaYvr68pDBWNHUV69e1XPnzpXo0lQ31j/9/N0CaM+sAPywoaGBit5Hjx7p7u5u1vWf8VIBgLXMytRtLytd9MbPdSumhiROTcN6EEBra6tua2vTbbBD7sRGcZKAPHDggL548aJ0BZARfKmpqQQ5zQJpsHHXkt68dOkSlb1c5CT3/fv6nQFK658laT0jTutf/FDXAGz1yZOmX/TYELAE99prs7RK7K/fnjRBr/pJtn4le4KutmaEeqLLINTU1Dhtebdu3UqA7xtESkVz98qZ+MmJEyfaOjo6XPRHhY6ubpXCPRfTX3l8OGIjY+2Dlv1OioiIwEi0wg1a5b7+utrV0a6K4j9VfwycVWUdNaokJ0fVNzQq0aNubGysGjt2rNOMQgTZlhu4uVwSDEN5f+XKlQeLiooUDnkDMD1lsGpc9Ka6U9mgYp4fodpq61T5iylqzIgRNGKcmUrIw9fToyZRlvADFRkXp5KGj1K/Q/OzxkZbk0CFsKRUZGQwT/fgXVCL1RcRmr1PiiKmQUW7XOrtgjXqg1mvqo8q/qHyM3LUW5WH1aABAxT7nU5okFEhJSUPUvdZiU1Urujn0BFQhDZk8Pcp7UW0cf78eYU8SXnEuXPnWPKQIAUNoiIbJWfDhg3wY5KrScZsdOAo+6yxyZRsyxpi3UmyJpvdbp0J43Cl3SOU3oVyzXvv2aryvujv27ePOdHbgE0KLLeQfwVPhFQEaSfDDWJkNaPJSCX066eGv5BKuWlLlI3A8aAcKNSQlBT117o6tau8QrW3tqiX8ser/DmzjSb7QyMfHR0dQOJ2VVfzbqHyp06dyosKsdkXFpnq1Dlz5nRiHXC0fhkpS45W2uwMJfYLO/UwDbaqU06hFcHAzp07GSDyW2CS4Am28Px8xeK2cu/ePb5vpxs2BKQADQeGekLMdQJI3pG+kNKzevVqgiu00Mis2uCkIh0reOyAPGJYHIUYtpsEw3zG0wf3QVv+Ze9JHy4knEYdFxc3xQIiOEzTGUqTWiDdWVhY+K/Ozs5orCk/1wsZJ4PC4lWlpaWquLhY7dmzR+G4MmsOacno4K+CKigoUMuWLTP6fA9oLb+9C0seuHDhAs/c1hUrVnxqaUhe7v2C1RL0vykpKWEkvACqef3Kzc01lwekAXOOHjx4UCcnJ+vly5ebyyqVhfApoK1bkawz6TKlRA93xZ5p06ZxBFst//YFISw6CLkWZT1WVVRU6Hnz5nkJkBeIUOJNeujQoXr37t2my/r1YasJEFuACmVcOiAf34O/9iVLlgy2ADln1BI9XUgUs9DFaNnbUDYGSwGDJKsnT55s30ocAAjCJsrlkgChl+uV9sePHx/MP5/n4qcROSQSPYqqeKsGwW5wR9IJ2RKakjpZWVnaSk12PztF34oYRUxdPfv37zfg0tPT8yzfEhQHlPBVUfzl+vXradBH4+KIAhCaBiWRBjZt2qQxRabDGWEHKOrxAum5fv26XrRoEcHdw6Cm9xUc9WUNfCxXL2sqjROsOa/cE4nx6NGj3Pk+7F4CcDI/qNj28/p1+vRpjV1KYA/A72NQ/VGSJCDBVpinU4HTK6kmAxGgug+/1Fhyd7mqqqoU/vup7OxsP/Jd5I4dOyLwQRXFFITdblINloPiccmUc+XKFYVPz25cRPll+PHSpUv3bt68uYVpiPbA9lFGQThyrjn2EwiRfTBjxox8TJ2Kj483H+OHDx8+hbVThr5acCfYNWXKlCT8TU1FndcU/t3i5yQjxa81N5hfbP8EN4GFCIyBkGCIPGwZCpBtOiC9CuY64c+gT8CnwV+H+gRMHIUCpNwJUvR4IuBgMLef0JFTP9w7IqM+By0Dt21+lQqNhCPKJauzTidfegSFM/JNyP4LuTh8ZaAXiQ4AAAAASUVORK5CYII=",g=n("./src/chat/strings/index.ts"),y=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),O=u()(function(e){return y("span",{className:e.className},void 0,e.children)}).withConfig({componentId:"s1si2hm2-0"})(["","background-color: ",";color: ",";height: ",";transition: height 0.3s;position: absolute;width: calc(100% - 2em);display: flex;align-items: center;padding: 0 1em;top: 100%;left: 0;z-index: 1;overflow: hidden;"],f.a.titleFontH6,function(e){var t=function(e){switch(e){case l.a.ConnectionClosed:case l.a.ConnectionPending:return"pending";default:return"success"}}(e.toast);return e.theme.toast[t]},function(e){return e.theme.activity.text.highlight},function(e){return e.toast?"2.5em":"0"}),j=u.a.span.withConfig({componentId:"s1si2hm2-1"})(["padding-top: 2px;padding-left: .5em;"]),x=u.a.img.withConfig({componentId:"s1si2hm2-2"})(["height: 1.5em;width: 1.5em;"]);x.displayName="SnooImg";var C=u.a.button.withConfig({componentId:"s1si2hm2-3"})(["cursor: pointer;outline: none;position: absolute;right: 1em;background: transparent;"]);C.displayName="Button";var w=u()(function(e){return c.a.createElement(h.a,b({},e,{viewBox:"0 0 20 20"}),p("path",{d:"M18 9a1 1 0 0 1 1 1v2c0 2.757-2.243 5-5 5H5v1.5a.5.5 0 0 1-.82.384l-3-2.5a.497.497 0 0 1 0-.768l3-2.5A.5.5 0 0 1 5 13.5V15h9c1.654 0 3-1.346 3-3v-2a1 1 0 0 1 1-1zM2 11a1 1 0 0 1-1-1V8c0-2.757 2.243-5 5-5h9V1.5a.5.5 0 0 1 .82-.384l3 2.5a.497.497 0 0 1 0 .768l-3 2.5A.5.5 0 0 1 15 6.5V5H6C4.346 5 3 6.346 3 8v2a1 1 0 0 1-1 1z"}))}).withConfig({componentId:"s1si2hm2-4"})(["height: 1.75em;width: 1.75em;fill: ",";"],function(e){return e.theme.activity.text.highlight}),E=Object(i.createStructuredSelector)({toast:function(e){return e.toast}}),I=Object(o.connect)(E),k=y(x,{src:""+m}),_=y(x,{src:""+v}),S=function(e){var t=e.className,n=e.toast;return y(O,{toast:n,className:t},void 0,n&&function(e){switch(e){case l.a.ConnectionOpen:return k;case l.a.ConnectionPending:case l.a.ConnectionClosed:return _;default:return null}}(n),y(j,{},void 0,n&&Object(g.a)("en","app.chat.toast."+n)),n&&function(e){return e===l.a.ConnectionClosed?y(C,{onClick:d.g},void 0,y(w,{})):null}(n))};S.displayName="ToastNotification";t.a=I(S)},"./src/chat/constants/batchSizes.ts":function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Channels=10]="Channels",e[e.InitChannels=50]="InitChannels",e[e.Messages=40]="Messages"}(r||(r={}))},"./src/chat/constants/keys.ts":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return u});var r="Backspace",a="Enter",c="ArrowLeft",o="ArrowUp",i="ArrowRight",s="ArrowDown",u="Delete"},"./src/chat/constants/page.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="tooltip-container"},"./src/chat/constants/sidebar.ts":function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.SubredditChannels=0]="SubredditChannels",e[e.DirectChannels=1]="DirectChannels"}(r||(r={}))},"./src/chat/constants/toast.ts":function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.ConnectionClosed="connectionClosed",e.ConnectionPending="connectionPending",e.ConnectionOpen="connectionOpen"}(r||(r={}))},"./src/chat/controls/Button/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),s=n("./src/chat/helpers/styles/mixins/index.tsx"),u=n("./src/chat/icons/svgs/Flag/index.tsx"),d=n("./src/chat/controls/Svg/index.tsx"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),h=function(e){return c.a.createElement(d.a,l({},e,{viewBox:"0 0 16 16"}),f("path",{d:"M12.817 7.491a.798.798 0 0 1-.234.566L9.52 11.12a.798.798 0 0 1-1.132 0l-1.13-1.132-4.292 4.291a.797.797 0 0 1-1.132 0 .8.8 0 0 1 0-1.131l4.292-4.291-1.131-1.132a.8.8 0 0 1 0-1.13L8.057 3.53c.3-.3.831-.3 1.131 0l3.395 3.394c.15.15.234.354.234.566zM3.863 6.263a.8.8 0 0 1-.566-1.366L6.36 1.834a.8.8 0 0 1 1.131 1.131L4.43 6.028a.798.798 0 0 1-.566.235zm10.417 2.36a.8.8 0 0 1 0 1.13l-3.063 3.063a.798.798 0 0 1-1.13 0 .8.8 0 0 1 0-1.131l3.061-3.062a.8.8 0 0 1 1.132 0z"}))},b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),m=function(e){return c.a.createElement(d.a,b({},e,{viewBox:"0 0 16 16"}),p("path",{d:"M7.634 10.034L8.67 9H1.8a.8.8 0 1 1 0-1.6h6.869L7.634 6.366a.8.8 0 1 1 1.132-1.132l2.399 2.4a.8.8 0 0 1 0 1.132l-2.4 2.4a.798.798 0 0 1-1.13 0 .8.8 0 0 1 0-1.132zM12.2 1c1.323 0 2.4 1.077 2.4 2.4V13c0 1.323-1.077 2.4-2.4 2.4H6.6A2.403 2.403 0 0 1 4.2 13v-.8a.8.8 0 1 1 1.6 0v.8c0 .44.358.8.8.8h5.6a.8.8 0 0 0 .8-.8V3.4a.8.8 0 0 0-.8-.8H6.6a.8.8 0 0 0-.8.8v.8a.8.8 0 1 1-1.6 0v-.8C4.2 2.077 5.277 1 6.6 1h5.6z",fillRule:"evenodd"}))},v=n("./src/chat/icons/svgs/Trash/index.tsx");n.d(t,"a",function(){return I}),n.d(t,"d",function(){return k}),n.d(t,"b",function(){return S}),n.d(t,"f",function(){return A}),n.d(t,"c",function(){return N}),n.d(t,"e",function(){return R});var g=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),y=Object(o.css)(["",";vertical-align: middle;border: 1px solid transparent;box-sizing: border-box;border-radius: 4px;cursor: pointer;outline: none;text-align: center;text-transform: uppercase;text-decoration: none;white-space: nowrap;&:focus {outline: none;}"],s.a.smallButtonFont),O=Object(o.css)(["background-color: ",";border-color: ",";color: ",";svg { fill: ","};"],function(e){return e.theme.activity.button.active},function(e){return e.theme.activity.button.active},function(e){return e.theme.activity.text.highlight},function(e){return e.theme.activity.text.highlight}),j=Object(o.css)(["background-color: ",";border-color: ",";color: ",";svg { fill: ","};"],function(e){return e.theme.layout.body},function(e){return e.theme.activity.button.active},function(e){return e.theme.activity.button.active},function(e){return e.theme.activity.text.regular}),x=Object(o.css)(["background: none;border: none;padding: 0;"]),C=Object(o.css)(["","color: ",";"],x,function(e){return e.theme.activity.text.active}),w=Object(o.css)(["","color: ",";"],x,function(e){return e.theme.activity.text.fade}),E=Object(o.css)(["","color: ",";"],x,function(e){return e.theme.activity.text.warning}),I=i()(function(e){return e.href?g("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",title:e.title,className:e.className,tabIndex:0},void 0,e.children):g("button",{type:e.type||"button",tabIndex:0,id:e.id,className:e.className,onClick:e.onClick,disabled:e.disabled,title:e.title},void 0,e.children)}).withConfig({componentId:"qs5dnm-0"})(["&[disabled] { opacity: 0.6 };display: inline-block;padding: 0.1em 0.8em;transition: background 0.3s;background: ",";height: ",";width: ",";","",";",";",";",";",";"],function(e){return e.theme.layout.body},function(e){return e.height?e.height:"auto"},function(e){return e.width?e.width:"auto"},y,function(e){return e.primary?O:""},function(e){return e.primaryNoBorder?C:""},function(e){return e.secondary?j:""},function(e){return e.secondaryNoBorder?w:""},function(e){return e.warningNoBorder?E:""}),k=i()(I).withConfig({componentId:"qs5dnm-1"})(["line-height: normal;padding: 0.1em 0.8em 0.2em;height: 100%;svg {height: 100%;vertical-align: middle;}"]),_=i.a.button.withConfig({componentId:"qs5dnm-2"})(["cursor: pointer;height: 1.25em;outline: none;vertical-align: middle;width: 1.25em;line-height: 0;background: transparent;"]),S=function(e){return c.a.createElement(_,e,g(u.a,{}))},A=function(e){return c.a.createElement(_,e,g(v.a,{}))},N=function(e){return c.a.createElement(_,e,g(h,{}))},R=function(e){return c.a.createElement(_,e,g(m,{}))}},"./src/chat/controls/ChannelNameInput/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),s=n("./src/chat/helpers/styles/mixins/index.tsx"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});var f=i.a.input.withConfig({componentId:"nf2a3q-0"})(["","background: transparent;font-size: 1em;height: 2.1875em;padding-left: .78125em;outline: none;width: 100%;"],s.a.bodyFontH5),h=i()(function(e){return l("label",{className:e.className},void 0,l(f,{placeholder:e.placeholder,onChange:e.onChange,value:e.value}),e.children)}).withConfig({componentId:"nf2a3q-1"})(["display: flex;align-items: center;border-radius: 0.3125em;width: 100%;background: transparent;transition: all 0.3s;border: 1px solid ",";"],function(e){return e.theme.layout.colsBorder}),b=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onChange=function(t){var n=t.currentTarget.value;e.props.handleChannelNameInput(n)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),d(t,[{key:"render",value:function(){return c.a.createElement(h,u({withBackground:this.props.withBackground,onChange:this.onChange},this.props),this.props.children)}}]),t}();t.a=b},"./src/chat/controls/Checkbox/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),s=n("./src/chat/controls/Svg/index.tsx"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=i()(function(e){return d("circle",{className:e.className,cy:"10",cx:"10",r:"10"})}).withConfig({componentId:"s16nrt15-0"})(["fill: ",";"],function(e){return e.theme.activity.checkbox.checked}),f=i()(function(e){return d("path",{className:e.className,d:"M8.9310375,15.1995 C8.70135,15.41825 8.38963125,15.541375 8.0647875,15.541375 C8.052975,15.541375 8.04181875,15.54075 8.03000625,15.54075 C7.69335,15.531375 7.37506875,15.39075 7.15063125,15.151375 L4.0879125,11.88075 C3.637725,11.400125 3.68169375,10.662625 4.18700625,10.23325 C4.6916625,9.805125 5.4660375,9.846375 5.91688125,10.327625 L8.115975,12.676375 L14.8550063,6.25825 C15.3327563,5.802625 16.1091,5.802625 16.5875063,6.25825 C17.0659125,6.71325 17.0659125,7.452625 16.5875063,7.907625 L8.9310375,15.1995 Z"})}).withConfig({componentId:"s16nrt15-1"})(["fill: ",";"],function(e){return e.theme.activity.checkbox.checkmark}),h=function(e){return c.a.createElement(s.a,u({},e,{viewBox:"0 0 20 20"}),d("g",{},void 0,d(l,{}),d(f,{})))},b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),m=i()(function(e){return p("circle",{className:e.className,cy:"10",cx:"10",r:"9"})}).withConfig({componentId:"s1m6fab-0"})(["fill: ",";stroke: ",";"],function(e){return e.theme.activity.checkbox.unchecked},function(e){return e.theme.activity.checkbox.uncheckedBorder}),v=function(e){return c.a.createElement(s.a,b({},e,{viewBox:"0 0 20 20"}),p("g",{},void 0,p(m,{})))},g=n("./src/chat/helpers/styles/mixins/index.tsx"),y=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),O=i.a.input.withConfig({componentId:"s1bhhu67-0"})(["position: absolute;appearance: none;visibility: hidden;"]),j=i()(h).withConfig({componentId:"s1bhhu67-1"})(["display: none;height: 1.1em;width 1.1em;"]),x=i()(v).withConfig({componentId:"s1bhhu67-2"})(["display: inline-block;height: 1.1em;width 1.1em;"]),C=i.a.span.withConfig({componentId:"s1bhhu67-3"})(["vertical-align: middle;display: table;padding: 0 15px;"]),w=i.a.span.withConfig({componentId:"s1bhhu67-4"})(["","vertical-align: middle;display: table-cell;padding-right: 1em;max-width: 0;"],g.a.titleFontH5),E=i.a.span.withConfig({componentId:"s1bhhu67-5"})(["vertical-align: middle;display: table-cell;width: 1%;"]),I=i()(function(e){return y("label",{className:e.className},void 0,y(C,{},void 0,e.children?y(w,{},void 0,e.children):null,y(E,{},void 0,y(O,{tabIndex:0,type:e.type||"checkbox",checked:e.checked,disabled:e.disabled,name:e.name,value:e.value,onChange:e.onChange,id:e.id}),y(j,{}),y(x,{}))))}).withConfig({componentId:"s1bhhu67-6"})(["height: ",";width: ",";vertical-align: middle;display: inline-block;cursor: pointer;position: relative;","{&:checked ~ {"," { display: inline-block; }"," { display: none; }}}"],function(e){return e.height?e.height:"auto"},function(e){return e.width?e.width:"auto"},O,j,x);t.a=I},"./src/chat/controls/Counter/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});n("./node_modules/react/index.js");var r,a=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(a),o=n("./src/chat/helpers/styles/mixins/index.tsx"),i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=function(e){return i("span",{className:e.className},void 0,e.count)},u=c()(s).withConfig({componentId:"s1r6f7so-0"})(["","color: ",";font-size: 1em;padding-left: 15px;padding-right: 15px;text-align: right;"],o.a.titleFontH4,function(e){return e.count&&e.count<0?e.theme.activity.text.warning:function(e){return e.theme.activity.text.regular}});u.displayName="Counter";var d=c()(s).withConfig({componentId:"s1r6f7so-1"})(["",";background: ",";border-radius: 5em;transform: ",";color: ",";display: inline-block;font-size: 9px;font-weight: 600;height: 14px;inline-block;line-height: 14px;margin-left: 6px;min-width: 14px;padding: 0 3px;position: relative;text-align: center;box-sizing: border-box;"],o.a.bodyFontSmall,function(e){return e.theme.layout.header.counterBg},function(e){return e.count?"none":"scale(0.3)"},function(e){return e.theme.layout.header.counterText});d.displayName="UnreadCounter"},"./src/chat/controls/Overlay/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),s=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw c}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=i.a.div.withConfig({componentId:"s1dmzak7-0"})(["flex: 1 1 auto;overflow-y: auto;"]),l=i()(function(e){var t=e.form?"form":"div",n=c.a.Children.toArray(e.children),r=u(n,3),a=r[0],o=r[1],i=r[2];return s(t,{className:e.className,onSubmit:e.onSubmit},void 0,a,e.innerContent?o:s(d,{},void 0,o),i)}).withConfig({componentId:"s1dmzak7-1"})(["display: flex;flex-direction: column;height: 100%;width: 100%;"]);l.displayName="Overlay",t.a=l},"./src/chat/controls/OverlayControlBar/index.tsx":function(e,t,n){"use strict";n("./node_modules/react/index.js");var r,a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/react-router-redux/es/index.js"),o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),s=n("./src/chat/controls/Button/index.tsx"),u=n("./src/chat/helpers/dom.ts"),d=n("./src/chat/helpers/styles/mixins/index.tsx"),l=n("./src/chat/strings/index.ts"),f=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),h=i()(s.a).withConfig({componentId:"n1sg2r-0"})(["margin: 0 4px;min-width: 6.328em;",""],d.b),b=Object(a.connect)(void 0,function(e){return{onSubmit:function(){},onCancel:Object(u.b)(function(){return e(Object(c.a)())})}}),p=i()(b(function(e){return f("div",{className:e.className},void 0,!e.primaryButtonOnly&&f(h,{onClick:e.secondaryButtonAction||e.onCancel,primary:!!e.secondaryButtonOnly,secondary:!e.secondaryButtonOnly},void 0,e.secondaryButtonText),!e.secondaryButtonOnly&&f(h,{type:"submit",primary:!0,onClick:e.primaryButtonAction||e.onSubmit,disabled:e.primaryButtonDisabled},void 0,e.primaryButtonText))})).withConfig({componentId:"n1sg2r-1"})(["background: ",";border-top: 1px solid ",";display: flex;flex: 0 0 auto;justify-content: ",";padding: 0.375em 0.750em;"],function(e){return e.theme.layout.body},function(e){return e.theme.layout.colsBorder},function(e){return e.primaryButtonOnly?"center":"flex-end"});p.defaultProps={primaryButtonText:Object(l.a)("en","app.button.submit"),secondaryButtonText:Object(l.a)("en","app.button.cancel")},p.displayName="OverlayControlBar",t.a=p},"./src/chat/controls/OverlayHeader/index.tsx":function(e,t,n){"use strict";n("./node_modules/react/index.js");var r,a=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(a),o=n("./src/chat/components/ToastNotification/index.tsx"),i=n("./src/chat/helpers/styles/mixins/index.tsx"),s=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=c.a.header.withConfig({componentId:"ajgokq-0"})(["align-items: center;border-bottom: 1px solid ",";display: flex;min-height: 1.6875em;padding: 0 .625em;position: relative;"],function(e){return e.theme.layout.colsBorder}),d=c.a.h1.withConfig({componentId:"ajgokq-1"})(["",";font-weight: bold;"],i.a.titleFontH5),l="\n  font-size: 0.75em;\n  padding-left: 0.6875em;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n",f=c.a.span.withConfig({componentId:"ajgokq-2"})(["",""],l),h=c.a.span.withConfig({componentId:"ajgokq-3"})(["","color: ",";"],l,function(e){return e.theme.activity.text.warning});t.a=function(e){var t=e.message,n=e.title,r=e.warning?h:f;return s(u,{},void 0,s(d,{},void 0,n),s(r,{},void 0,t),s(o.a,{}))}},"./src/chat/controls/Svg/index.tsx":function(e,t,n){"use strict";n("./node_modules/react/index.js");var r,a=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(a),o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.a=c()(function(e){return o("svg",{className:e.className,viewBox:e.viewBox},void 0,e.children)}).withConfig({componentId:"unllzc-0"})(["height: ",";width: ",";vertical-align: middle;transition: all 0.2s;fill: ",";",";"],function(e){return e.height?e.height:"100%"},function(e){return e.width?e.width:"100%"},function(e){return e.disable?e.theme.activity.icon.disable:e.active?e.theme.activity.icon.active:e.hover?e.theme.activity.icon.hover:e.theme.activity.icon.default},function(e){return!1!==e.hover?"&:hover {\n        fill: "+function(e){return e.disable?e.theme.activity.icon.disable:e.theme.activity.icon.hover}+";\n    };":""})},"./src/chat/customMiddleware/containerSize.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/once.js"),a=n.n(r),c=n("./src/chat/actions/container.ts"),o=n("./src/chat/constants/container.ts"),i=n("./src/chat/customMiddleware/noop.ts"),s=n("./src/chat/selectors/app.ts"),u=n("./src/lib/cache/index.ts"),d=n("./src/lib/constants/index.ts"),l=n("./src/lib/messageIframeParent/index.ts"),f=o.a.HIDDEN,h=o.a.HIDDEN,b=function(e){return e&&o.b[e]&&e!==o.a.FULL&&e||f||h},p=void 0,m=function(e){return Object(l.a)({type:"resize.chat",data:{size:e,dimensions:o.b[e]}})},v=a()(function(e){var t=e.getState(),n=Object(s.d)(t),r=void 0;r=t.meta.isRedesign?h:n?f:o.a.FULL,e.dispatch(Object(c.c)(r)),m(r)});t.a=function(e){if("undefined"==typeof window)return i.a;var t=e.getState(),n=t.user.account,r=n&&n.id||"unknown";return p=Object(u.c)(d.o.CHAT,"container",r),Object(s.b)(t)||v(e),window.addEventListener("storage",function(e){e.key}),function(e){return function(t){var n=e(t);switch(t.type){case c.a:var r=b(t.payload);!function(e){Object(u.d)(p,e,u.a)}(r),m(r)}return n}}}},"./src/chat/customMiddleware/heartbeat.ts":function(e,t,n){"use strict";var r=n("./src/chat/constants/container.ts"),a=n("./src/chat/tracking/sendEvent.ts"),c=n("./src/telemetry/models/Event.ts"),o=n("./src/chat/tracking/fields/common.ts"),i=function(e){Object(a.a)(Object.assign({noun:"timing",source:c.b.Global,action:c.a.Heartbeat},Object(o.a)(e)))},s=n("./src/lib/constants/index.ts");t.a=function(e){var t=e.getState();i(t);return function e(){setTimeout(function(){var n=t.container.size;n!==r.a.EMBED&&n!==r.a.FULL||!document.hasFocus()||i(t),e()},30*s.ib)}(),function(n){return function(r){var a=n(r);return t=e.getState(),a}}}},"./src/chat/customMiddleware/iframeDispatcher.ts":function(e,t,n){"use strict";var r,a=n("./node_modules/lodash/once.js"),c=n.n(a),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./node_modules/url/url.js"),s=n("./src/lib/constants/index.ts"),u=n("./src/lib/messageIframeParent/index.ts"),d=n("./src/chat/actions/channel.ts"),l=n("./src/chat/actions/container.ts"),f=n("./src/chat/actions/message/unreadCount.ts"),h=n("./src/chat/actions/promo.ts"),b=n("./src/chat/constants/container.ts"),p=n("./src/chat/customMiddleware/noop.ts"),m=n("./src/chat/helpers/unreadCount.ts"),v=n("./src/chat/helpers/urls/index.ts"),g=n("./src/chat/selectors/promos.ts"),y=n("./src/chat/tracking/events/platform.ts");!function(e){e.Navigate="navigate.chat",e.Websocket="websocket.chat",e.Expand="expand.chat",e.UnreadCount="unreadCount.chat"}(r||(r={}));var O=c()(function(e){window.addEventListener("message",function(t){var n=function(e){try{return JSON.parse(e.data)}catch(e){return}}(t);if(n)switch(n.type){case r.Navigate:var a=Object(i.parse)(n.data.href).pathname||v.i;e.dispatch(Object(o.b)(a)),e.dispatch(Object(l.c)(b.a.EMBED));break;case r.Websocket:e.dispatch(Object(f.b)());break;case r.Expand:var c=e.getState();e.dispatch(Object(l.c)(b.a.EMBED));var u=c.platform.currentPage;u&&u.meta&&u.meta.name===s.db.CHAT_MINIMIZE&&e.dispatch(Object(d.P)());var h=n.data.telemetry,p=h.action,m=h.noun,g=h.source;Object(y.a)(c,m,g,p)}})});t.a=function(e){return"undefined"==typeof window?p.a:(O(e),function(t){return function(n){switch(n.type){case h.b:case f.a:var a=Object(g.b)(e.getState()),c=Object.assign({},n.payload),o=Object(m.a)(c,a),i=o.unread,s=o.count;Object(u.a)({type:r.UnreadCount,data:{unread:i,count:s}})}return t(n)}})}},"./src/chat/customMiddleware/loggedOutPreferencesSync.ts":function(e,t,n){"use strict";var r=n("./node_modules/js-cookie/src/js.cookie.js"),a=n.n(r),c=n("./node_modules/lodash/pick.js"),o=n.n(c),i=n("./src/config.ts"),s=n("./src/chat/actions/theme.ts"),u=new Set([s.a]);t.a=function(e){return function(t){return function(n){var r=t(n);if(u.has(n.type)){var c=e.getState().user,s={prefs:o()(c.prefs,["layout","globalTheme"]),language:c.language};a.a.set("USER",btoa(JSON.stringify(s)),{domain:i.a.cookieDomain})}return r}}}},"./src/chat/customMiddleware/noop.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t){return e(t)}}},"./src/chat/customMiddleware/sendbirdToken.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/defer.js"),a=n.n(r),c=n("./src/lib/constants/index.ts"),o=n("./src/chat/actions/channel.ts"),i=n("./src/chat/actions/container.ts"),s=n("./src/chat/actions/message/unreadCount.ts"),u=n("./src/chat/actions/platform.ts"),d=n("./src/chat/actions/sendbird/index.ts"),l=n("./src/chat/actions/sendbird/config.ts"),f=n("./src/chat/actions/sendbird/sdk.ts"),h=n("./src/chat/actions/session.ts"),b=n("./src/chat/constants/container.ts"),p=n("./src/chat/constants/sendbird.ts"),m=n("./src/chat/customMiddleware/noop.ts"),v=n("./src/chat/selectors/platform.ts"),g=n("./src/chat/selectors/sendbird.ts");function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var O=function(e,t){var n=t&&t.type===i.a?t.payload:e.container.size,r=n===b.a.MINIMIZED||n===b.a.HIDDEN,a=t&&t.type===u.a?t.payload&&t.payload.routeMatch&&t.payload.routeMatch.route.meta.name===c.db.CHAT_MINIMIZE:e.platform.currentPage&&e.platform.currentPage.meta&&e.platform.currentPage.meta.name===c.db.CHAT_MINIMIZE;return!r&&a};t.a=function(e){if("undefined"==typeof window)return m.a;var t=void 0,n=function(){var n=e.getState().sendbird.session;n.expires&&n.active?function(n){var r=new Date,a=new Date(n.expires||0),c=Math.floor(.9*(a.getTime()-r.getTime()));t=setTimeout(function(){e.dispatch(Object(d.m)())},c)}(n):a()(function(){return e.dispatch(Object(d.m)())})};Object(v.a)(e.getState())===c.db.CHAT_MINIMIZE?a()(y(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!O(e.getState())){t.next=4;break}n(),t.next=9;break;case 4:return t.next=6,e.dispatch(Object(d.m)(!1));case 6:if(!e.getState().sendbird.session.token){t.next=9;break}return t.next=9,e.dispatch(Object(s.b)());case 9:case"end":return t.stop()}},t,void 0)}))):n();var r=void 0;return function(s){return function(m){var v=e.getState(),j=Object(g.b)(v)===p.b.Closed,x=Object(g.e)(v);switch(m.type){case i.a:if(!m.payload)break;var C=m.payload!==b.a.MINIMIZED&&m.payload!==b.a.HIDDEN;C&&(clearTimeout(r),r=null),j&&C&&!x&&n(),!x||m.payload!==b.a.HIDDEN&&m.payload!==b.a.MINIMIZED||(r=setTimeout(function(){e.dispatch(Object(f.f)())},10*c.Da));break;case u.a:var w=O(v,m);j&&w?n():w&&e.dispatch(Object(o.P)());break;case d.h:if(!m.payload)break;if(!m.payload.active)break;a()(y(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch(Object(l.d)());case 2:if(!m.payload||!m.payload.token){t.next=6;break}return n=m.payload.token,t.next=6,e.dispatch(Object(f.e)(n));case 6:case"end":return t.stop()}},t,void 0)})));break;case h.b:e.dispatch(Object(f.f)()),clearTimeout(t),clearTimeout(r),t=null,r=null}return s(m)}}}},"./src/chat/customMiddleware/title.ts":function(e,t,n){"use strict";var r=n("./src/chat/actions/message/unreadCount.ts");t.a=function(e){var t="undefined"!=typeof window,n=t?window.document.title:"";return function(e){return function(a){switch(e(a),a.type){case r.a:var c=a.payload.count;t&&(window.document.title=c>0?"("+c+") "+n:n)}}}}},"./src/chat/customMiddleware/tokenRefresher.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/throttle.js"),a=n.n(r),c=n("./src/lib/constants/index.ts"),o=n("./src/chat/actions/channel.ts"),i=n("./src/chat/actions/session.ts"),s=n("./src/chat/helpers/errors.ts"),u=5*c.Da;t.a=function(e){var t=a()(function(){e.dispatch(Object(i.d)())},u),n=void 0,r=void 0,c=function(){var n=e.getState().user.session;if(n&&r){var a=new Date(n.expires),c=r+Math.floor(.8*(a.getTime()-r));Date.now()>c&&t&&t()}},d=function(e){r=Date.now();var a=new Date(e.expires).getTime()-r,c=.8+.1*Math.random(),o=Math.min(Math.floor(c*e.expiresIn*1e3),Math.floor(c*a));n=setTimeout(t,o)},l=e.getState();l.user.session&&d(l.user.session);try{window.parent.addEventListener("focus",c),window.parent.addEventListener("touchend",c),document.body.addEventListener("mouseenter",c)}catch(e){Object(s.b)("Token Refresher Error: "+e)}return function(e){return function(t){return t.type!==i.a&&t.type!==i.c||d(t.payload),t.type===o.w&&c(),t.type===i.b&&(clearTimeout(n),n=null),e(t)}}}},"./src/chat/customMiddleware/tracking.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/once.js"),a=n.n(r),c=n("./src/lib/logs/timing.js"),o=n("./src/chat/actions/channel.ts"),i=n("./src/chat/actions/message/index.ts"),s=n("./src/chat/actions/platform.ts"),u=n("./src/chat/actions/sendbird/index.ts"),d=n("./src/chat/actions/sidebar.ts"),l=n("./src/chat/constants/channels.ts"),f=n("./src/chat/constants/sidebar.ts"),h=n("./src/chat/selectors/channels.ts"),b=n("./src/chat/selectors/platform.ts"),p=n("./src/chat/tracking/sendEvent.ts"),m=n("./src/telemetry/models/Event.ts"),v=n("./src/telemetry/models/Timer.ts"),g=n("./src/chat/tracking/fields/chat.ts"),y=n("./src/chat/tracking/fields/common.ts"),O=function(e){return{type:e}},j=function(e){return{millis:e}},x=n("./src/chat/tracking/events/chatPreview.ts"),C=n("./src/chat/tracking/events/chatView.ts"),w=n("./src/chat/tracking/events/contactsList.ts"),E=n("./src/chat/tracking/events/invitationInbox.ts"),I=n("./src/chat/tracking/events/messagesInbox.ts"),k=a()(function(e,t){return function(e,t){Object(p.a)(Object.assign({noun:"inbox_new",source:m.b.ChatPerformance,action:m.a.Load,chat:Object.assign({},Object(g.n)(e),Object(g.p)(e)),timer:Object.assign({},O(v.TimerType.ChatLoadInboxNew),j(t))},Object(y.a)(e)))}(e,function(e){return Date.now()-e}(t))}),_=a()(function(e){return Object(b.d)(e)&&S(e)}),S=function(e){e.sidebarTabs.activeIndex===f.a.DirectChannels?Object(I.e)(e):Object(I.f)(e)},A=Object(c.d)(function(e,t,n){Object(h.L)(e)?function(e,t){Object(p.a)(Object.assign({noun:"channel_cached",source:m.b.ChatPerformance,action:m.a.Load,chat:Object.assign({},Object(g.g)(e)),timer:Object.assign({},O(v.TimerType.ChatLoadChannelCached),j(t))},Object(y.a)(e)))}(t,n):function(e,t){Object(p.a)(Object.assign({noun:"channel_new",source:m.b.ChatPerformance,action:m.a.Load,chat:Object.assign({},Object(g.g)(e)),timer:Object.assign({},O(v.TimerType.ChatLoadChannelNew),j(t))},Object(y.a)(e)))}(t,n)}),N=function(e){Object(b.c)(e)===l.a.CREATE&&Object(w.g)(e)};t.a=function(e){return function(t){return function(n){return function(r){var a=n(r),c=t.getState();switch(r.type){case s.a:k(c,e),N(c);break;case o.p:A(c,!0);break;case o.r:N(c),_(c);break;case o.q:k(c,e),function(e){Object(b.c)(e)===l.a.VIEW_INVITE&&Object(E.g)(e)}(c),function(e){Object(b.g)(e)&&Object(C.c)(e)}(c),A(c),function(e){Object(b.c)(e)===l.a.VIEW_JOIN&&Object(x.b)(e)}(c);break;case i.k:case u.c:k(c,e);break;case d.b:S(c)}return a}}}}},"./src/chat/customMiddleware/unreadMessageCount.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/debounce.js"),a=n.n(r),c=n("./src/chat/actions/message/unreadCount.ts"),o=n("./src/chat/customMiddleware/noop.ts"),i=n("./src/lib/cache/index.ts"),s=n("./src/lib/constants/index.ts"),u=void 0,d=void 0,l=a()(function(e){Object(i.d)(u,e,5*s.Da)},5*s.ib,{leading:!1,trailing:!0}),f=void 0,h=function(){f&&clearInterval(f),f=setInterval(function(){void 0===Object(i.b)(u)&&Object(c.b)()},5*s.Da)};t.a=function(e){if("undefined"==typeof window)return o.a;var t=e.getState(),n=t.user.account,r=n&&n.id||"unknown";u=Object(i.c)(s.o.CHAT,"unread_message_count",r),l(t.messages.unread.basicChannelCount),h();try{window.parent.addEventListener("focus",h)}catch(e){}return function(e){return function(t){var n=e(t);switch(t.type){case c.a:var r=t.payload.basicChannelCount;r!==d&&l(r)}return n}}}},"./src/chat/endpoints/accounts/index.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l});var r=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts");function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var o,i,s,u=(o=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.b)(t,{endpoint:t.apiUrl+"/api/v1/me",method:r.Ca.GET,data:{raw_json:1}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return o.apply(this,arguments)}),d=(i=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.b)(t,{data:{account_id:n,raw_json:1},endpoint:t.apiUrl+"/api/block_user",method:r.Ca.POST}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return i.apply(this,arguments)}),l=(s=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.b)(t,{endpoint:t.apiUrl+"/user/"+n+"/about",method:r.Ca.GET,data:{raw_json:1}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return s.apply(this,arguments)})},"./src/chat/helpers/linkParser/index.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i});var r=n("./src/lib/linkMatchers/index.ts"),a=function(e){return!!r.c.test(e)},c=function(e,t,n){var r=[],a=0;return t.forEach(function(t){var c=t.index,o=t.lastIndex,i=t.text,s=t.url,u=t.schema,d="mailto:"===u?"_self":"_blank";r.push(e.substring(a,c)),r.push(n(s,i,d,u)),a=o}),r.push(e.substring(a,e.length)),r},o=/^(((file|https?|ftps?):)?\/|mailto:)/i,i=function(e){return void 0===e?e:e.match(o)?e:"#"};t.a=function(e,t,n){var a=Object(r.a)(e,t);return a&&a.length?c(e,a,n):e}},"./src/chat/helpers/styles/components/index.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return f});n("./node_modules/react/index.js");var r,a=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(a),o=n("./src/chat/helpers/styles/mixins/index.tsx"),i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=c.a.h2.withConfig({componentId:"tfcdf4-0"})(["",";padding: 0;margin: 0;"],o.a.titleFontH4),u=c.a.p.withConfig({componentId:"tfcdf4-1"})(["",";padding: 0;margin: 0;"],o.a.titleFontH5),d=c.a.div.withConfig({componentId:"tfcdf4-2"})(["display: table;width: 100%;height: 100%;"]),l=c.a.div.withConfig({componentId:"tfcdf4-3"})(["display: table-cell;vertical-align: middle;text-align: center;"]),f=function(e){return i(d,{className:e.className},void 0,i(l,{},void 0,e.children))}},"./src/chat/helpers/styles/functions/index.tsx":function(e,t,n){"use strict";function r(){return"transition: "+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all")+" "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.2s")+";"}n.d(t,"a",function(){return r})},"./src/chat/helpers/styles/mixins/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return p}),n.d(t,"e",function(){return m});var r=n("./node_modules/lodash/omit.js"),a=n.n(r),c=n("./bundled-modules/styled-components/styled-components.min.js"),o=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),i=n("./src/chat/helpers/styles/functions/index.tsx"),s=Object(c.css)(["color: ",";",";-moz-osx-font-smoothing: grayscale;"],function(e){return e.theme.activity.text.regular},Object(i.a)("color")),u=a()(o,["BODY_FONT_FAMILY","CODE_FONT_FAMILY"]);var d=function(e){for(var t in e)e[t]=Object(c.css)(["","",""],s,e[t]);return e}(Object.assign({},u,{usernameFont:"\n    font-size: 13px;\n    line-height: 15px;\n  "})),l=Object(c.css)(["outline: none;&:focus {box-shadow: 0 0 3px 1px ",";}"],function(e){return e.theme.activity.input.focusBg}),f=Object(c.css)(["color: ",";"],function(e){return e.theme.activity.link.staticText}),h=Object(c.css)(["",";",";cursor: pointer;border-bottom: 1px solid ",";&:hover{color: ",";border-bottom: 1px solid ",";}"],f,Object(i.a)(),function(e){return e.theme.activity.link.staticUnderline},function(e){return e.theme.activity.link.hoverText},function(e){return e.theme.activity.link.hoverText}),b=Object(c.css)(["word-break: break-all;line-break: strict;overflow-wrap: break-word;word-break: break-word;word-break: break-all;word-wrap: break-word;hyphens: auto;"]),p=Object(c.css)(["display: inline-block;overflow-wrap: break-word;word-wrap: break-word;a {","}"],b),m=Object(c.css)(["width: 2em;height: 2em;padding: 0;box-sizing: content-box;border: 0;transition: background 0.3s;"])},"./src/chat/icons/Loader/index.tsx":function(e,t,n){"use strict";var r,a=n("./src/config.ts"),c=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),o=n("./node_modules/reselect/lib/index.js"),i=n("./bundled-modules/styled-components/styled-components.min.js"),s=n.n(i),u=n("./src/chat/constants/theme.ts").b.REDDIT,d=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=s.a.div.withConfig({componentId:"s19ftv2p-0"})(['position: absolute;display: inline-block;text-align: center;width: 10%;top: 50%;left: 50%;margin-left: -20px;margin-top: -20px;:after {content: "";display: block;padding-bottom: 100%;}']),f=s.a.img.withConfig({componentId:"s19ftv2p-1"})(["height: 40px;width: 40px;"]),h=s()(function(e){return d("div",{role:"progressbar",className:e.className},void 0,e.children)}).withConfig({componentId:"s19ftv2p-2"})(["position: absolute;top:0; right:0; left:0; bottom:0;z-index: ",";box-shadow: inset 0px 0px 150px 2000px ",";text-align: center;"],function(e){return e.zIndex?e.zIndex:1},function(e){return e.theme.layout.body}),b=Object(o.createStructuredSelector)({isNightmode:function(e){return function(e){return!(e.user.prefs.globalTheme!==u)}(e)}}),p=Object(c.connect)(b);t.a=p(function(e){return d(h,{zIndex:e.zIndex},void 0,d(l,{},void 0,d(f,{src:e.isNightmode?a.a.assetPath+"/img/loader_2orbit_loop.gif":a.a.assetPath+"/img/loader_2orbit_loop_nightmode.gif",alt:"Loading"})))})},"./src/chat/icons/Userpic/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/lib/index.js"),s=n("./bundled-modules/styled-components/styled-components.min.js"),u=n.n(s),d=n("./src/config.ts"),l=n("./src/lib/constants/index.ts"),f=["#FF4500","#0DD3BB","#24A0ED","#FFB000","#FF8717","#46D160","#25B79F","#0079D3","#4856A3","#C18D42","#A06A42","#46A508","#008985","#7193FF","#7E53C1","#FFD635","#DDBD37","#D4E815","#94E044","#FF66AC","#DB0064","#FF585B","#EA0027","#A5A4A4","#545452"],h=n("./src/chat/strings/index.ts"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});var v=Object(s.css)(["border-radius: 3px;text-align: center;display: inline-block;vertical-align: middle;"]),g=u.a.i.withConfig({componentId:"xs3x3c-0"})(["","border: 1px solid ",";background: ",";"],v,function(e){return e.theme.layout.colsBorder},function(e){return e.theme.layout.body}),y=u()(function(e){return m("i",{className:e.className})}).withConfig({componentId:"xs3x3c-1"})(["","height: ",";width: ",';background-size: 100% 100%;background-position: center bottom;background-image: url("',"/img/userpic-icons/",'.png");background-color: ',""],v,function(e){return e.height?e.height:"25px"},function(e){return e.width?e.width:"25px"},d.a.assetPath,function(e){return e.imageIndex},function(e){return f[e.colorIndex]}),O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={profileImgFailed:!1},n.onError=n.onError.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),p(t,[{key:"onError",value:function(){this.setState({profileImgFailed:!0})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.contact,r=e.currentUser,a=e.userId,c=this.state.profileImgFailed,o="",i="";return r.id===a?(o=r.subreddit&&r.subreddit.icon_img||"",i=r.name):n&&(o=n.profileImg||"",i=n.name),c||!o?m(g,{className:t,title:i+" "+Object(h.a)("en","app.chat.user.snoovatar")}):m("img",{onError:this.onError,className:t,src:o,alt:i+" "+Object(h.a)("en","app.chat.user.snoovatar")})}}]),t}(),j=u()(O).withConfig({componentId:"xs3x3c-2"})(["","height: ",";width: ",";color: transparent;"],v,function(e){return e.height?e.height:"25px"},function(e){return e.width?e.width:"25px"}),x=Object(i.createStructuredSelector)({contact:function(e,t){return e.contacts.models[t.userId]},currentUser:function(e){return e.user.account}}),C=Object(o.connect)(x);t.a=C(function(e){var t=e.className,n=e.contact,r=e.currentUser,a=e.height,o=e.width,i=e.userId,s=i.replace(l.Oa.ACCOUNT+"_",""),u=n&&n.profileImg,d=i===r.id,h=r.subreddit&&r.subreddit.icon_img,p=function(e){var t=parseInt(e,36),n=f.length;return{imageIndex:t%30+1,colorIndex:Math.floor(t/30)%n}}(s);return u||d&&h?m(j,{contact:n,currentUser:r,className:t,height:a,width:o,userId:i}):c.a.createElement(y,b({className:t,height:a,width:o,userId:s},p))})},"./src/chat/icons/svgs/ChatNew/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./src/chat/controls/Svg/index.tsx"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.a=function(e){return c.a.createElement(o.a,i({},e,{viewBox:"0 0 16 16"}),s("path",{d:"M10.625 8.656h-1.97v1.97c0 .36-.293.655-.655.655-.362 0-.656-.293-.656-.655v-1.97h-1.97c-.36 0-.655-.293-.655-.655 0-.362.293-.656.655-.656h1.97v-1.97c0-.36.293-.655.655-.655.362 0 .656.293.656.655v1.97h1.97c.36 0 .655.293.655.655 0 .362-.293.656-.655.656M8 1C4.14 1 1 4.14 1 8c0 1.222.317 2.372.87 3.373l-.824 2.476c-.105.313-.024.66.21.894.167.167.39.256.62.256.09 0 .185-.015.275-.045l2.478-.825c1 .553 2.15.87 3.372.87 3.86 0 7-3.14 7-7s-3.14-7-7-7"}))}},"./src/chat/icons/svgs/Flag/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./src/chat/controls/Svg/index.tsx"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.a=function(e){return c.a.createElement(o.a,i({},e,{viewBox:"0 0 16 16"}),s("path",{d:"M11.829 6.722l1.677-3.145A.802.802 0 0 0 12.8 2.4H3.2a.8.8 0 0 0-.8.8v10.243a.8.8 0 1 0 1.6 0v-2.4h8.8a.799.799 0 0 0 .706-1.176L11.83 6.722z"}))}},"./src/chat/icons/svgs/NavClose/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./src/chat/controls/Svg/index.tsx"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){return c.a.createElement(o.a,i({},e,{viewBox:"0 0 20 20"}),s("path",{d:"M11.105 9.75l4.114-4.114a.957.957 0 1 0-1.355-1.355L9.75 8.395 5.636 4.281a.957.957 0 1 0-1.355 1.355L8.395 9.75l-4.114 4.114a.957.957 0 1 0 1.355 1.355l4.114-4.114 4.114 4.114a.956.956 0 0 0 1.355 0 .957.957 0 0 0 0-1.355L11.105 9.75z",fillRule:"evenodd"}))};u.displayName="NavClose"},"./src/chat/icons/svgs/Trash/index.tsx":function(e,t,n){"use strict";var r,a=n("./node_modules/react/index.js"),c=n.n(a),o=n("./src/chat/controls/Svg/index.tsx"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.a=function(e){return c.a.createElement(o.a,i({},e,{viewBox:"0 0 16 16"}),s("path",{d:"M10.845 11.6c0 .22-.182.4-.407.4a.403.403 0 0 1-.406-.4V7.2c0-.22.182-.4.406-.4.225 0 .407.18.407.4v4.4zm-2.438 0c0 .22-.183.4-.407.4a.403.403 0 0 1-.406-.4V7.2c0-.22.182-.4.406-.4.224 0 .407.18.407.4v4.4zm-2.439 0c0 .22-.182.4-.406.4a.403.403 0 0 1-.406-.4V7.2c0-.22.182-.4.406-.4.224 0 .406.18.406.4v4.4zm6.426-6.8c.225 0 .406.18.406.4v8c0 .662-.547 1.2-1.219 1.2H4.42c-.672 0-1.219-.538-1.219-1.2v-8c0-.22.181-.4.407-.4h8.787zm0-2.4c.224 0 .406.18.406.4v.8c0 .22-.182.4-.407.4H3.606a.403.403 0 0 1-.406-.4v-.8c0-.22.182-.4.406-.4H6.01l.602-.666a.411.411 0 0 1 .304-.134h2.166c.116 0 .226.049.304.134l.602.666h2.404z",fillRule:"evenodd"}))}},"./src/chat/models/Channel/moderator.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t={};return e&&e.forEach(function(e){return t[e.userId]={}}),t}},"./src/chat/models/Channel/platform.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./src/chat/models/Channel/index.ts"),a=n("./src/chat/models/Channel/subreddit.ts"),c=n("./src/chat/models/Channel/utils.ts"),o=n("./src/chat/models/User/inviter.ts"),i=n("./src/chat/models/User/member.ts");function s(e,t){return{channelId:Object(c.d)(e.channel_url),channelSendbirdUrl:e.channel_url,channelState:Object(c.b)(t),fetchingFirstMessage:!1,fetchingMessages:!1,fetchingMessagesError:!1,hasMoreMessages:!1,isMessageListLoaded:!1,inviter:Object(o.b)(e.inviter),coverUrl:e.cover_url,createdAt:e.created_at,customType:e.custom_type,data:e.data,maxLengthMessage:-1,memberCount:e.member_count,name:e.name,type:e.custom_type.length?r.a.Subreddit:e.is_distinct?r.a.Direct:r.a.Group,lastMessage:void 0,unreadMessageCount:e.unread_message_count,unreadMentionCount:e.unread_mention_count,members:Object(i.a)(e.members),customData:Object(a.d)(e.data)}}},"./src/chat/models/Contact/index.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i});var r=n("./src/lib/constants/index.ts");function a(e){return e?e.map(o).filter(function(e){return!!e}):[]}var c=3;function o(e){if(e.contact_account_id||e.id)return{id:e.contact_account_id||r.Oa.ACCOUNT+"_"+e.id,name:e.name,lastInteraction:e.last_interaction,created:e.created_utc,linkKarma:e.link_karma,commentKarma:e.comment_karma,profileImg:e.profile_img,isNSFW:e.profile_over_18}}var i={id:"",name:"",profileImg:"",lastInteraction:0,created:0,linkKarma:0,commentKarma:0,isNSFW:!1}},"./src/chat/models/Theme/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,a=n("./node_modules/polished/dist/polished.es.js"),c=n("./src/reddit/constants/theme.ts"),o=n("./src/reddit/models/Theme/index.ts"),i=n("./src/chat/constants/theme.ts"),s=n("./src/reddit/constants/colors.ts");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=c.b.REDDIT,l=c.b.NIGHT,f=function(e){return o.d[e].newRedditTheme},h={activity:{icon:{default:Object(a.a)(.3,s.a.white),active:s.a.op,disable:Object(a.a)(.5,s.a.white),hover:Object(a.a)(.5,s.a.white),contrast:f(d).bodyText,nsfw:{bg:s.a.black,text:s.a.white}},text:{regular:f(d).bodyText,active:s.a.op,fade:Object(a.a)(.4,s.a.white),light:f(d).actionIcon,warning:s.a.warning,highlight:s.a.white},button:{active:s.a.alienblue},send:{disable:Object(a.a)(.5,s.a.white),hover:Object(a.a)(.08,s.a.op)},checkbox:{checked:s.a.alienblue,checkmark:s.a.white,unchecked:f(d).body,uncheckedBorder:Object(a.a)(.3,s.a.white)},input:{border:s.a.defaultFlair,focusColor:s.a.white,focusBg:s.a.approved,ownerBg:f(d).line,color:f(d).bodyText,error:s.a.warning,channelRename:Object(a.a)(.1,s.a.white)},link:{staticUnderline:s.a.alienblue,staticText:s.a.op,hoverText:s.a.snoo}},layout:{body:f(d).body,colsBorder:f(d).line,header:{counterBg:s.a.snoo,counterText:s.a.white},scrollbar:Object(a.a)(.4,s.a.white)},message:{list:{item:{ownerBg:f(d).inactive,button:f(d).actionIcon}}},subreddit:{iconBg:s.a.alienblue},sidebar:{background:Object(a.e)(Object(a.a)(.3,s.a.white),.1),subreddit:{background:{active:s.a.alienblue,hover:f(d).canvas}},basic:{background:{active:s.a.alienblue,hover:f(d).canvas}},text:{divider:Object(a.a)(.5,s.a.white)}},toast:{pending:s.a.black,success:s.a.approved}},b={activity:{icon:{default:Object(a.a)(.3,s.a.white),active:s.a.op,disable:Object(a.a)(.5,s.a.white),hover:Object(a.a)(.5,s.a.white),contrast:Object(a.a)(.4,f(l).bodyText),nsfw:{bg:s.a.black,text:s.a.white}},text:{regular:f(l).bodyText,active:s.a.op,fade:Object(a.a)(.4,s.a.white),light:f(l).actionIcon,warning:s.a.warning,highlight:s.a.white},button:{active:s.a.alienblue},send:{disable:Object(a.a)(.5,s.a.white),hover:Object(a.a)(.08,s.a.op)},checkbox:{checked:s.a.alienblue,checkmark:s.a.white,unchecked:f(l).body,uncheckedBorder:Object(a.a)(.3,s.a.white)},input:{border:s.a.defaultFlair,focusColor:s.a.white,focusBg:s.a.approved,ownerBg:f(l).line,color:f(l).bodyText,error:s.a.warning,channelRename:Object(a.a)(.1,s.a.white)},link:{staticUnderline:s.a.alienblue,staticText:s.a.op,hoverText:s.a.snoo}},layout:{body:f(l).body,colsBorder:f(l).line,header:{counterBg:s.a.snoo,counterText:s.a.white},scrollbar:Object(a.a)(.4,f(l).bodyText)},message:{list:{item:{ownerBg:f(l).inactive,button:f(l).actionIcon}}},subreddit:{iconBg:s.a.alienblue},sidebar:{background:Object(a.e)(Object(a.a)(.4,s.a.white),.1),subreddit:{background:{active:s.a.alienblue,hover:Object(a.f)(.2,f(l).canvas)}},basic:{background:{active:s.a.alienblue,hover:Object(a.f)(.2,f(l).canvas)}},text:{divider:Object(a.a)(.5,s.a.white)}},toast:{pending:s.a.black,success:s.a.approved}},p=(u(r={},i.b.REDDIT,h),u(r,i.b.NIGHT,b),r)},"./src/chat/models/User/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),a=function(e){var t={};for(var n in e)t[n.replace(/_\w/g,function(e){return e[1].toUpperCase()})]=e[n];return t};n.d(t,"a",function(){return c}),n.d(t,"b",function(){return o});var c=function(e){var t,n={};for(var r in e)n[r]={id:(t=Object.assign({id:r},e[r])).id,name:t.name,created:t.created_utc,linkKarma:t.link_karma,commentKarma:t.comment_karma,profileImg:t.profile_img,isNSFW:t.profile_over_18};return n};var o=function(e){var t=function(e){var t=r.Oa.ACCOUNT+"_";return e.id.includes(t)?e.id=e.id:e.id=t+e.id,e}(e);return a(t)}},"./src/chat/pageLoaders/async.ts":function(e,t,n){"use strict";var r,a=n("./src/lib/constants/index.ts"),c=n("./node_modules/react/index.js"),o=n.n(c),i=n("./src/chat/components/OverlayCreateChannel/index.tsx"),s=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var c=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&c)for(var i in c)void 0===t[i]&&(t[i]=c[i]);else t||(t=c||{});if(1===o)t.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),u(t,[{key:"render",value:function(){return s(i.a,{})}}]),t}(),l=n("./src/chat/components/EmptyState/index.tsx"),f=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,a){var c=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&c)for(var i in c)void 0===n[i]&&(n[i]=c[i]);else n||(n=c||{});if(1===o)n.children=a;else if(o>1){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),h(t,[{key:"render",value:function(){return f(l.a,{})}}]),t}();t.a=function(e){return function(){switch(e){case a.p.CHAT:return Promise.all([n.e("ChatMembers~ChatPage~ChatTest"),n.e("ChatPage~ChatTest"),n.e("ChatPage")]).then(n.bind(null,"./src/chat/pages/Chat.tsx")).then(function(e){return e.default});case a.p.CHAT_EMPTY:return Promise.resolve(b);case a.p.CHAT_CREATE:return Promise.resolve(d);case a.p.CHAT_MINIMIZE:return n.e("Minimize").then(n.bind(null,"./src/chat/pages/Minimize.tsx")).then(function(e){return e.default});case a.p.CHAT_MEMBERS:return Promise.all([n.e("ChatMembers~ChatPage~ChatTest"),n.e("ChatMembers")]).then(n.bind(null,"./src/chat/pages/Members.tsx")).then(function(e){return e.default});case a.p.CHAT_INVITE:return Promise.all([n.e("ChatMembers~ChatPage~ChatTest"),n.e("ChatMembers")]).then(n.bind(null,"./src/chat/pages/Invite.tsx")).then(function(e){return e.default});case a.p.CHAT_TEST:return Promise.all([n.e("ChatMembers~ChatPage~ChatTest"),n.e("ChatPage~ChatTest"),n.e("ChatTest")]).then(n.bind(null,"./src/chat/pages/ChatTest.tsx")).then(function(e){return e.default});default:throw new Error("Route is not defined for '"+e+"'.")}}}},"./src/chat/reducers/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/redux/es/index.js"),a=n("./src/app/reducers/tooltipId/index.ts"),c=n("./src/chat/actions/channel.ts"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case c.r:return!0;default:return e}},i=n("./node_modules/lodash/uniq.js"),s=n.n(i),u=n("./src/chat/models/Channel/index.ts"),d=n("./src/chat/models/Channel/utils.ts");function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f={fetchingChannels:!1,hasMoreChannels:!1,sortedKeys:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case c.h:return Object.assign({},e,{fetchingChannels:!0});case c.i:return Object.assign({},e,{fetchingChannels:!1});case c.a:var n=t.payload,r=n.channels,a=n.hasMoreChannels,o=Object(d.c)(r,[u.a.Direct,u.a.Group]);if(!o)return e;var i=Object.keys(o),h=a&&!!i.length;return Object.assign({},e,{fetchingChannels:!1,hasMoreChannels:h,sortedKeys:[].concat(l(e.sortedKeys),l(i))});case c.t:var b=t.payload.channelId;return Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==b})});case c.v:case c.m:var p=t.payload.channelId;return Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==p})});case c.y:var m=t.payload.channel.channelId;return e.sortedKeys.indexOf(m)>-1?Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==m})}):e;case c.x:var v=t.payload.channel;return e.sortedKeys.includes(v.channelId)?e:Object.assign({},e,{sortedKeys:s()([v.channelId].concat(l(e.sortedKeys)))});default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case c.c:return!1;case c.g:return!0;default:return e}},p=n("./src/chat/actions/message/index.ts");function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var v={fetchingChannels:!1,hasMoreChannels:!0,sortedKeys:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1];switch(t.type){case c.j:return Object.assign({},e,{fetchingChannels:!0});case c.k:return Object.assign({},e,{fetchingChannels:!1});case c.b:var n=t.payload,r=n.channels,a=n.hasMoreChannels,o=Object(d.c)(r,[u.a.Direct,u.a.Group]);if(!o)return e;var i=Object.keys(o),l=a&&!!i.length;return Object.assign({},e,{fetchingChannels:!1,hasMoreChannels:l,sortedKeys:[].concat(m(e.sortedKeys),m(i))});case c.v:case c.m:var f=t.payload.channelId;return Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==f})});case c.t:var h=t.payload.channelId;return Object.assign({},e,{sortedKeys:[h].concat(m(e.sortedKeys))});case c.f:var b=Object.keys(t.payload);return Object.assign({},e,{sortedKeys:s()([].concat(m(b),m(e.sortedKeys)))});case c.u:var g=t.payload.channelId;return e.sortedKeys.includes(g)?Object.assign({},e,{sortedKeys:s()([g].concat(m(e.sortedKeys)))}):e;case p.a:var y=t.payload.channelId;return e.sortedKeys.includes(y)?Object.assign({},e,{sortedKeys:s()([y].concat(m(e.sortedKeys)))}):e;default:return e}},y=n("./node_modules/lodash/reduce.js"),O=n.n(y),j=n("./node_modules/lodash/omit.js"),x=n.n(j),C=n("./node_modules/lodash/first.js"),w=n.n(C),E=n("./src/chat/actions/channel/dropdown.ts"),I=n("./src/chat/actions/channel/moderator.ts"),k=n("./src/chat/actions/channel/subreddit.ts"),_=n("./src/chat/actions/message/inboxScroller.ts"),S=n("./src/chat/constants/channels.ts");function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments[1];switch(t.type){case c.f:return Object.assign({},e,t.payload);case c.b:case c.a:case k.e:case k.f:var n=t.payload.channels,r=O()(e,function(e,t,r){return n[r]&&t.channelState===S.b.PARTIAL&&(e[r]=n[r])&&e||e},{});return Object.assign({},n,e,r);case k.g:return Object.assign({},t.payload.channels,e);case c.o:var a=t.payload,o=e[a];return 0===o.unreadMessageCount?e:Object.assign({},e,A({},a,Object.assign({},o,{unreadMessageCount:0,unreadMentionCount:0})));case c.t:case k.b:var i=t.payload.channelId,s=Object.assign({},e[i],{channelState:S.b.JOINED});return Object.assign({},e,A({},s.channelId,s));case c.y:var u=t.payload.channel,d=e[u.channelId],l=Object.assign({},d,x()(u,"hasMoreMessages","isMessageListLoaded")),f=A({},u.channelId,l);return Object.assign({},e,f);case k.m:case c.x:var h=t.payload.channel,b=e[h.channelId],m=Object.assign({},b,h,{channelState:S.b.INVITED}),v=A({},h.channelId,m);return Object.assign({},e,v);case c.w:var g=t.payload.channel;return Object.assign({},e,A({},g.channelId,g));case c.m:var y=t.payload.channelId;return x()(e,y);case c.v:var j=t.payload.channelId,C=Object.assign({},e[j],{channelState:S.b.UNSORTED});return Object.assign({},e,A({},C.channelId,C));case E.a:var R=t.payload,T=R.channelId,D=R.name,M=Object.assign({},e[T],{name:D});return Object.assign({},e,A({},T,Object.assign({},M)));case p.a:var P=t.payload.channelId,L=Number(w()(Object.keys(t.payload.message))),U=Object.assign({},e[P],{lastMessage:t.payload.message[L]});return Object.assign({},e,A({},P,U));case p.g:var H=t.payload;return Object.assign({},e,A({},H,Object.assign({},e[H],{fetchingMessages:!0,fetchingMessagesError:!1})));case p.b:case p.e:var B=t.payload,F=B.hasMore,K=B.channelId;return Object.assign({},e,A({},K,Object.assign({},e[K],{isMessageListLoaded:!0,hasMoreMessages:F,fetchingMessages:!1,fetchingMessagesError:!1})));case p.f:var G=t.payload;return Object.assign({},e,A({},G,Object.assign({},e[G],{fetchingMessages:!1,fetchingMessagesError:!0})));case c.l:var V=t.payload.channelId;return Object.assign({},e,A({},V,Object.assign({},e[V],{fetchingFirstMessage:!0})));case c.s:var z=t.payload,J=z.channelId,Q=z.firstMessageId;return Object.assign({},e,A({},J,Object.assign({},e[J],{fetchingFirstMessage:!1,firstMessageId:Q})));case I.a:var q=t.payload,W=q.channelId,Z=q.moderators;return Object.assign({},e,A({},W,Object.assign({},e[W],{moderators:Object.assign({},e[W].moderators,Z)})));case _.b:var Y=t.payload.channelId;return Object.assign({},e,A({},Y,Object.assign({},e[Y],{hasMoreMessages:!0})));default:return e}},T={channelId:void 0,isLoaded:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments[1];switch(t.type){case c.p:var n=Object.assign({},e,{isLoaded:!1});if(t.payload){var r=t.payload.channelId;r&&(n.channelId=r)}return n;case c.q:return Object.assign({},e,{isLoaded:!0});case c.v:case c.m:return t.payload.channelId!==e.channelId?e:Object.assign({},e,{channelId:""});default:return e}},M={sortedKeys:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments[1];switch(t.type){case k.a:return{sortedKeys:[t.payload.channelId]};default:return e}};function L(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var U={fetchingChannels:!1,hasMoreChannels:!1,sortedKeys:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments[1];switch(t.type){case k.h:return Object.assign({},e,{fetchingChannels:!0});case k.i:return Object.assign({},e,{fetchingChannels:!1});case k.e:var n=t.payload,r=n.channels,a=n.hasMoreChannels,o=Object(d.e)(r,"name"),i=Object.keys(o);return i.length?{fetchingChannels:!1,hasMoreChannels:a&&!!i,sortedKeys:[].concat(L(i))}:e;case c.v:case c.m:case k.b:var u=t.payload.channelId;return e.sortedKeys.includes(u)?Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==u})}):e;case k.m:var l=t.payload.channel;return Object.assign({},e,{sortedKeys:s()([l.channelId].concat(L(e.sortedKeys)))});default:return e}};var B={fetchingChannels:!1,sortedKeys:{}},F=function(e,t,n){return Object.assign({},e,(r={},a=t.toLowerCase(),c=e[t.toLowerCase()].filter(function(e){return e!==n}),a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,r));var r,a,c},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments[1];switch(t.type){case k.j:return Object.assign({},e,{fetchingChannels:!0});case k.k:return Object.assign({},e,{fetchingChannels:!1});case k.b:case k.f:var n=t.payload.sortedKeys;return{fetchingChannels:!1,sortedKeys:Object.assign({},n)};case c.v:case c.m:var r=t.payload,a=r.channelId,o=r.subredditName,i=o&&o.toLowerCase();if(!e.sortedKeys[i]||!e.sortedKeys[i].includes(a))return e;var s=e.sortedKeys[i].length<=1?x()(e.sortedKeys,i):F(e.sortedKeys,i,a);return Object.assign({},e,{sortedKeys:s});case c.w:var u=e.sortedKeys,d=t.payload.channel.channelId;for(var l in u)e.sortedKeys[l.toLowerCase()].includes(d)&&F(u,l.toLowerCase(),d);return Object.assign({},e,{sortedKeys:u});default:return e}},G={sortedKeys:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments[1];switch(t.type){case k.c:return{sortedKeys:[t.payload.channelId]};default:return e}};var z={fetchingChannels:!1,firstLoaded:!1,sortedKeys:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments[1];switch(t.type){case k.l:return Object.assign({},e,{firstLoaded:!0,fetchingChannels:!0});case k.g:var n=t.payload.channels,r=Object.keys(n);return r.length?{fetchingChannels:!1,firstLoaded:e.firstLoaded,sortedKeys:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))}:e;default:return e}},Q=Object(r.c)({banned:P,invited:H,joined:K,kicked:V,recommended:J}),q=Object(r.c)({isCreatingChannel:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case c.e:return!0;case c.f:case c.d:return!1;default:return e}},firstLoaded:o,inviteListExpanded:b,invited:h,joined:g,models:R,selected:D,subreddit:Q}),W=n("./src/chat/actions/user.ts"),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case W.b:return!0;default:return e}},Y=n("./node_modules/lodash/values.js"),X=n.n(Y),$=n("./src/chat/actions/sendbird/index.ts"),ee="search",te="contacts";function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re={},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments[1];switch(t.type){case $.g:return Object.assign({},e,t.payload.reduce(function(e,t){return e[t.name.toLowerCase()]={loaded:!0,userId:t.id,valid:!0,method:te},e},{}));case $.b:return Object.assign({},t.payload.reduce(function(e,t){return e[t.name.toLowerCase()]={loaded:!0,userId:t.id,valid:!0,method:te},e},{}),e);case $.d:var n=t.payload.username;return Object.assign({},e,ne({},n,{loaded:!1,userId:null,valid:!1,method:ee}));case $.e:var r=t.payload,a=r.contact,c=r.username,o=!!(r.valid&&a&&a.id);return Object.assign({},e,ne({},c.toLowerCase(),{loaded:!0,userId:a?a.id:null,valid:o,method:ee}));case W.i:var i=t.payload;return Object.assign({},e,X()(i).reduce(function(e,t){return e[t.name.toLowerCase()]={loaded:!0,userId:t.id,valid:!0,method:ee},e},{}));case W.c:var s=t.payload.username;return s?x()(e,s):e;default:return e}};function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe={},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments[1];switch(t.type){case $.g:return Object.assign({},e,t.payload.reduce(function(t,n){return t[n.id]=Object.assign({},e[n.id],n),t},{}));case $.e:var n=t.payload.contact;return n?Object.assign({},e,ce({},n.id,n)):e;case W.i:return Object.assign({},e,t.payload||{});case W.c:var r=t.payload.userId;return r?Object.assign({},e,ce({},r,Object.assign({},e[r],{isBlocked:!0}))):e;case W.b:var a=t.payload.blockedContacts;return Object.assign({},e,a);default:return e}};var se=[],ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments[1];switch(t.type){case W.h:return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[t.payload]);case W.k:return e.filter(function(e){return e!==t.payload});case W.j:return se;default:return e}};function de(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var le=[],fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments[1];switch(t.type){case $.g:return[].concat(de(e),de(t.payload.map(function(e){return e.id})));case W.c:return e.filter(function(e){return e!==t.payload.userId});default:return e}},he=Object(r.c)({fetchedBlockedUsers:Z,knownContacts:ae,models:ie,selectedUserIds:ue,suggestedKeys:fe}),be=n("./src/chat/actions/container.ts"),pe=n("./src/chat/constants/container.ts"),me={size:pe.a.EMBED},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments[1];switch(t.type){case be.a:if(pe.b[t.payload])return Object.assign({},e,{size:t.payload});default:return e}},ge=n("./src/lib/makeActionCreator/index.ts"),ye=n("./src/lib/constants/index.ts");n("./src/lib/makeApiRequest/index.ts");Object(ge.a)("EMOJIS__FETCH_EMOJIS_FAILED"),Object(ge.a)("EMOJI__ADD_EMOJIS");var Oe={snoomojis:{}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments[1];switch(t.type){case"EMOJI__ADD_EMOJIS":var n=t.payload.snoomojis;return{snoomojis:Object.assign({},n)};default:return e}},xe=n("./node_modules/lodash/uniqBy.js"),Ce=n.n(xe),we=n("./node_modules/lodash/toArray.js"),Ee=n.n(we),Ie=n("./src/chat/actions/members.ts");function ke(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se={},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments[1];switch(t.type){case Ie.b:var n=t.payload.channelId;return Object.assign({},e,_e({},n,Object.assign({},e[n],{fetchingMembers:!0})));case Ie.c:var r=t.payload,a=r.channelId,c=r.hasMoreMembers;return Object.assign({},e,_e({},a,Object.assign({},e[a],{hasMoreMembers:c,fetchingMembers:!1})));case Ie.a:var o=t.payload,i=o.channelId,s=o.members,u=Ee()(s),d=e[i]&&e[i].model||[],l=Ce()([].concat(ke(d),ke(u)),"id");return Object.assign({},e,_e({},i,Object.assign({},e[i],{model:l})));case Ie.d:return{};default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case p.b:case p.k:return!0;default:return e}};var Re={},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments[1];switch(t.type){case p.b:var n=t.payload.messages;return Object.assign({},e,n);case p.a:return Object.assign({},e,t.payload.message);case p.h:return Object.assign({},e,t.payload);case p.d:case p.i:return x()(e,t.payload);case p.e:var r=t.payload.messages;return Object.assign({},e,r);case c.n:var a=t.payload;return Object.assign({},x.a.apply(void 0,[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a))));case _.a:var o=t.payload.messageIdList;return x()(e,o);default:return e}};function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me={},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments[1];switch(t.type){case p.c:var n=t.payload;return Object.assign({},e,De({},n.clientMessageId,n));case p.l:var r=t.payload,a=r.clientMessageId,c=r.toggle;if(a){var o=e[a];return Object.assign({},e,De({},a,Object.assign({},o,{error:c})))}return Object.assign({},e);case p.a:case p.j:var i=t.payload.clientMessageId;return Object.assign({},i?x()(e,i):e);default:return e}},Le=n("./node_modules/lodash/isEqual.js"),Ue=n.n(Le),He=n("./src/chat/actions/message/unreadCount.ts"),Be={basicChannelCount:0,subredditChannelCount:0},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments[1];switch(t.type){case He.a:return Ue()(e,t.payload)?e:Object.assign({},e,t.payload)}return e},Ke=Object(r.c)({firstLoaded:Ne,models:Te,pending:Pe,unread:Fe}),Ge=n("./src/chat/reducers/meta/index.ts"),Ve=n("./src/chat/reducers/platform/index.ts"),ze=n("./src/chat/reducers/promos/index.ts"),Je=n("./src/chat/actions/sendbird/config.ts"),Qe={maxMessageLength:void 0},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments[1];switch(t.type){case Je.b:return Object.assign({},e,t.payload);default:return e}},We={host:void 0},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments[1];switch(t.type){case Je.c:return Object.assign({},e,t.payload);default:return e}},Ye=n("./src/chat/actions/sendbird/sdk.ts"),Xe=n("./src/chat/constants/sendbird.ts"),$e={connectionStatus:Xe.b.Closed,initialized:!1},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments[1];switch(t.type){case Ye.a:return Object.assign({},e,{initialized:!0,connectionStatus:Xe.b.Open});case Ye.c:var n=Object.assign({},t.payload);return Object.assign({},e,{error:n,connectionStatus:Xe.b.Closed});case Ye.b:return Object.assign({},e,{connectionStatus:Xe.b.Closed});case Ye.d:var r=t.payload.connectionStatus;return Object.assign({},e,{connectionStatus:r});default:return e}},tt={expires:void 0,token:void 0,active:!1},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments[1];switch(t.type){case $.h:return Object.assign({},e,t.payload);case $.a:return Object.assign({},e,{active:!0});case $.c:return Object.assign({},e,{active:!1});default:return e}},rt=Object(r.c)({globalSettings:qe,proxy:Ze,session:nt,sdk:et}),at=n("./src/chat/actions/sidebar.ts"),ct=n("./src/chat/constants/sidebar.ts").a.SubredditChannels,ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments[1];switch(t.type){case at.b:return t.payload.activeIndex;default:return e}};var it={},st=function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,a=arguments[1];switch(a.type){case at.a:var c=a.payload,o=c.channelId,i=c.tabIndex;return Object.assign({},r,(n=o,(t=i)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));default:return r}},ut=Object(r.c)({activeIndex:ot,lastChannelIdPerTab:st}),dt=n("./node_modules/lodash/keyBy.js"),lt=n.n(dt),ft=n("./node_modules/lodash/isEmpty.js"),ht=n.n(ft),bt=n("./src/chat/models/Channel/subreddit.ts"),pt={},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments[1];switch(t.type){case k.d:return Object.assign({},e,t.payload);case c.b:case c.a:var n=t.payload.channels,r=Object(d.c)(n,[u.a.Subreddit]);if(ht()(r))return e;var a=Ee()(r).map(function(e){var t=e&&Object(bt.d)(e.data);if(t&&t.subreddit)return t.subreddit});return Object.assign({},e,lt()(a,"id"));default:return e}},vt=Object(r.c)({models:mt}),gt=n("./src/chat/reducers/subscribe.ts"),yt=n("./src/chat/actions/theme.ts"),Ot=n("./src/chat/constants/theme.ts"),jt=n("./src/chat/models/Theme/index.ts"),xt={current:jt.a[Ot.a],cached:{}},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments[1];switch(t.type){case yt.a:return e.current=jt.a[t.payload.themeKey],Object.assign({},e);default:return e}},wt=n("./src/chat/actions/toast.ts"),Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case wt.a:return null;case wt.b:return t.payload.toast;default:return e}},It=n("./src/chat/actions/typingIndicator.ts"),kt={usernames:[]};var _t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments[1];switch(t.type){case It.a:var n=t.payload.usernames;return r=n,a=e.usernames,r!==a&&(0!==r.length||0!==a.length)&&(0===r.length&&a.length>0||r.length>0&&0===a.length||(1===r.length&&1===a.length?r[0]!==a[0]:2===r.length&&2===a.length?r[0]!==a[0]||r[1]!==a[1]:3===r.length&&3===a.length?r[0]!==a[0]||r[1]!==a[1]||r[2]!==a[2]:!Ue()(r,a)))?{usernames:n}:e;case c.p:return{usernames:[]};default:return e}var r,a},St=n("./src/chat/actions/promo.ts"),At=n("./src/lib/reducers/addAuthentication/index.ts"),Nt=Object(At.a)(function(e,t){switch(void 0===e&&(e=null),t.type){case W.a:return t.payload;case St.d:return Object.assign({},e,{seenSubredditChatFtux:!0});default:return e}},null),Rt={userSubredditChatEnabled:!1},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments[1];switch(t.type){case $.f:case Je.a:var n=(t.payload||Rt).userSubredditChatEnabled;return Object.assign({},e,t.payload,{userSubredditChatEnabled:e.userSubredditChatEnabled||n})}return e},Dt={},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments[1];switch(t.type){case W.d:return t.payload;default:return e}},Pt=ye.x,Lt=Object(At.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return arguments[1].type,e},Pt),Ut={blob:"",loid:"",loidCreated:"",version:-1},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments[1];switch(t.type){case W.e:return t.payload;default:return e}},Bt={globalTheme:Ot.a},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments[1];switch(t.type){case yt.a:var n=t.payload.themeKey;return Object.assign({},e,{globalTheme:n});default:return e}},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case W.f:return t.payload;default:return e}},Gt=n("./src/chat/actions/session.ts"),Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Gt.a:case Gt.c:return t.payload;case Gt.b:return null;default:return e}},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case W.g:return t.payload;default:return e}},Jt=Object(r.c)({account:Nt,chatExperiments:Tt,experiments:Mt,language:Lt,loid:Ht,prefs:Ft,reddaid:Kt,session:Vt,sessionTracker:zt});t.a=Object(r.c)({channels:q,contacts:he,container:ve,members:Ae,messages:Ke,meta:Ge.b,platform:Ve.b,promos:ze.b,themes:Ct,sendbird:rt,sidebarTabs:ut,emojis:je,subreddits:vt,toast:Et,tooltipId:a.a,typingIndicator:_t,user:Jt,actionListener:gt.a})},"./src/chat/reducers/meta/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts");Object(r.a)("META__META_RECEIVED");n.d(t,"a",function(){return a});var a={country:"",domain:"",isBot:!1,isRedesign:!1,isSessionSeo:!1,method:"",protocol:"",sessionReferrerDomain:"",userAgent:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case"META__META_RECEIVED":return t.payload;default:return e}}},"./src/chat/reducers/platform/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/history/index.js"),a=n("./node_modules/lodash/omit.js"),c=n.n(a),o=n("./src/chat/actions/platform.ts");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={currentPage:null,referrers:{},metas:{}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.a:if(!t.payload)return e;var n=e.currentPage,a=t.payload,u=a.routeMatch,d=a.location,l=d.key,f=Object(r.createPath)(d),h=u?{key:l,locationState:d.state,meta:u.route.meta,queryParams:u.match.queryParams,routeMatch:c()(u,["route.action"]),status:200,url:f,urlParams:u.match.params}:function(e,t){return{key:e,locationState:{},queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}}(l,f),b=e.referrers;if("PUSH"===a.action){var p=n&&n.url||"";b=Object.assign({},b,i({},l,p))}return Object.assign({},e,{referrers:b,currentPage:h});case o.c:if(!t.payload)return e;var m=t.payload,v=m.key,g=m.title,y=m.description,O=m.icon,j=m.type;return Object.assign({},e,{metas:Object.assign({},e.metas,i({},v,{description:y,icon:O,title:g,type:j}))});case o.b:return t.payload,e;default:return e}}},"./src/chat/reducers/promos/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./src/chat/actions/promo.ts");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={displayNSFWWarning:!1,displaySubredditChatFtux:!1};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case r.a:var n=t.payload;return Object.assign({},e,a({},n,!0));case r.c:var o=t.payload;return Object.assign({},e,a({},o,!1));default:return e}}},"./src/chat/routes/chat.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("./src/lib/constants/index.ts"),c=n("./src/chat/actions/page.ts");function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(e){e.Message="message",e.User="user"}(r||(r={}));var i={action:c.b,chunk:a.p.CHAT,exact:!0,meta:{name:a.db.CHAT},path:"/chat/"},s={action:c.b,chunk:a.p.CHAT_EMPTY,exact:!0,meta:{name:a.db.CHAT_EMPTY},path:"/chat/empty/"},u={action:c.a,chunk:a.p.CHAT_CREATE,exact:!0,meta:{name:a.db.CHAT_CREATE},path:"/chat/channel/:action(create)/"},d=["/chat/channel/:channelId/:action(invite)/","/chat/r/:subredditName/channel/:channelId/:action(invite)/"].map(function(e){return{action:c.a,chunk:a.p.CHAT_INVITE,exact:!0,meta:{name:a.db.CHAT_INVITE},path:e}}),l=["/chat/channel/:channelId/:action(members)/","/chat/r/:subredditName/channel/:channelId/:action(members)/"].map(function(e){return{action:c.a,chunk:a.p.CHAT_MEMBERS,exact:!0,meta:{name:a.db.CHAT_MEMBERS},path:e}}),f={action:c.c,chunk:a.p.CHAT_MINIMIZE,exact:!0,meta:{name:a.db.CHAT_MINIMIZE},path:"/chat/minimize/"},h=["/chat/channel/:channelId/:action(block|decline|delete|invited|kick|leave|nsfw|report)?/:attr(message|user)?/:attrId?","/chat/r/:subredditName/channel/:channelId/:action(ban|block|decline|delete|deny|invited|join|kick|leave|lock_confirmation|private|report)?/:attr(message|user)?/:attrId?"].map(function(e){return{action:c.a,chunk:a.p.CHAT,exact:!0,meta:{name:a.db.CHAT},path:e}}),b=["/chat/user_id/:userIds/"].map(function(e){return{action:c.d,chunk:a.p.CHAT,exact:!0,meta:{name:a.db.CHAT},path:e}});t.b=[i,s,f,u].concat(o(d),o(l),o(h),o(b))},"./src/chat/routes/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),a={action:n("./src/chat/actions/page.ts").b,chunk:r.p.CHAT,exact:!0,meta:{name:r.db.CHAT},path:"/chat/*"},c=n("./src/chat/routes/chat.ts");function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,c){try{var o=t[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var i=function(e){var t=this;return function(n){return r=o(regeneratorRuntime.mark(function r(a,c,o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n)(a,c,o);case 2:case"end":return t.stop()}},r,t)})),function(e,t,n){return r.apply(this,arguments)};var r}}(function(e){return t=o(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}),s=["/chat/test"].map(function(e){return{action:i,chunk:r.p.CHAT_TEST,exact:!0,meta:{name:r.db.CHAT_TEST},path:e}});function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=[].concat(u(c.b),u(s),[a]);t.a=d},"./src/chat/selectors/channels/next.tsx":function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return b}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return g});var r=n("./src/chat/constants/channels.ts"),a=n("./src/chat/constants/sidebar.ts"),c=n("./src/chat/selectors/channels.ts"),o=n("./src/chat/selectors/experiments.ts"),i=n("./src/chat/selectors/subreddit.ts");function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(e){var t=e.channels.subreddit.invited.sortedKeys[0],n=Object(i.b)(e,t);return{channelId:t,subredditName:n&&n.name,channelAction:r.a.VIEW_INVITE}},d=function(e){var t=e.channels.subreddit.joined.sortedKeys,n=Object.keys(t),r=!n.length?void 0:n[0];return{channelId:r&&t[r][0],subredditName:r}},l=function(e){var t=e.channels.subreddit.recommended.sortedKeys[0],n=Object(i.b)(e,t);return{channelId:t,subredditName:n&&n.name,channelAction:r.a.VIEW_JOIN}},f=function(e){return[u(e),d(e),l(e)]},h=function(e){return{channelId:e.channels.invited.sortedKeys[0],channelAction:r.a.VIEW_INVITE}},b=function(e){return{channelId:e.channels.joined.sortedKeys[0]}},p=function(e){return[h(e),b(e)]},m=function(e){return e.find(function(e){return!!e.channelId})},v=function(e,t){var n=t===a.a.SubredditChannels?f(e):p(e),r=m(n);return r&&r.channelId},g=function(e,t){var n=Object(o.b)(e),r=[].concat(s(t?[function(e){var t=Object(c.k)(e);return{channelId:t&&t.channelId}}(e)]:[]),s(n?f(e):[]),s(p(e)));return m(r)}},"./src/chat/selectors/platform.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return d});var r=n("./src/chat/constants/sidebar.ts"),a=function(e){return e.platform&&e.platform.currentPage&&e.platform.currentPage.urlParams.channelId},c=function(e){return e.platform&&e.platform.currentPage&&e.platform.currentPage.urlParams.action},o=function(e){return e.platform&&e.platform.currentPage&&e.platform.currentPage.urlParams.subredditName||void 0},i=function(e){return e.platform&&e.platform.currentPage&&e.platform.currentPage.meta&&e.platform.currentPage.meta.name},s=function(e){return!!o(e)?r.a.SubredditChannels:r.a.DirectChannels},u=function(e){return e.platform.currentPage&&e.platform.currentPage.queryParams},d=function(e){return!(!a(e)||c(e))}},"./src/chat/selectors/sendbird.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return i});var r=function(e){return e.sendbird.sdk.connectionStatus},a=function(e){return e.sendbird.sdk.initialized},c=function(e){return e.sendbird.proxy.host},o=function(e){return e.sendbird.session},i=function(e){return e.sendbird.session.active}},"./src/chat/selectors/sidebar.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var r=n("./src/chat/constants/sidebar.ts"),a=function(e){return e.sidebarTabs.activeIndex===r.a.SubredditChannels},c=function(e){return e.sidebarTabs.activeIndex}},"./src/chat/selectors/subreddit.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return b});var r=n("./node_modules/lodash/map.js"),a=n.n(r),c=n("./node_modules/lodash/isEmpty.js"),o=n.n(c),i=n("./node_modules/lodash/first.js"),s=n.n(i),u=n("./src/chat/models/Channel/index.ts"),d=n("./src/chat/selectors/channels.ts"),l=function(e){return e.subreddits&&e.subreddits.models},f=function(e,t){var n=l(e);return n&&n[t]},h=function(e,t){var n=t?Object(d.h)(e,t):Object(d.y)(e);if(n&&n.type===u.a.Subreddit){var r=n.customData;return f(e,r.subredditId)}},b=function(e){var t=e.subreddits.models,n=e.channels.models,r=e.channels.subreddit.joined.sortedKeys;if(!o()(r))return a()(r,function(e){var r,c=s()(e),o=n[c].customData.subredditId;return{name:t[o].name,keyColor:t[o].keyColor,iconImg:t[o].iconImg,sortedChannels:(r=e,a()(r,function(e){return n[e]}))}})}},"./src/chat/singleton/SendbirdSDK.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),a=n("./node_modules/sendbird/SendBird.min.js"),c=n.n(a),o=n("./src/lib/constants/index.ts"),i=n("./src/chat/actions/channel.ts"),s=n("./node_modules/react-router-redux/es/index.js"),u=n("./src/chat/constants/channels.ts"),d=n("./src/chat/helpers/urls/index.ts"),l=n("./src/chat/selectors/channels.ts"),f=n("./src/chat/selectors/subreddit.ts");var h=function(e){return t=regeneratorRuntime.mark(function t(n,r){var a,c,o,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=Object(l.y)(a),o=Object(f.b)(a,e),h=o&&o.name.toLowerCase()){t.next=6;break}return t.abrupt("return");case 6:n(Object(i.M)({channelId:e,subredditName:h})),c&&c.channelId===e&&n(Object(s.b)(Object(d.b)(e,u.a.DENY,h)));case 8:case"end":return t.stop()}},t,void 0)}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,c){try{var o=e[a](c),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e,t){return n.apply(this,arguments)};var t,n},b=n("./src/chat/actions/channel/subreddit.ts"),p=n("./src/chat/actions/message/index.ts"),m=n("./src/chat/actions/sendbird/index.ts"),v=n("./src/chat/actions/sendbird/sdk.ts"),g=n("./src/chat/actions/toast.ts"),y=n("./src/chat/actions/typingIndicator.ts"),O=n("./src/chat/constants/batchSizes.ts"),j=n("./src/chat/constants/messages.ts"),x=n("./src/chat/constants/sendbird.ts"),C=n("./src/chat/constants/toast.ts"),w=n("./src/chat/models/Channel/index.ts"),E=n("./src/chat/models/Channel/platform.ts"),I=n("./src/chat/models/Channel/subreddit.ts"),k=n("./src/chat/models/Channel/utils.ts"),_=n("./src/chat/models/Message/index.ts"),S=n("./src/chat/models/User/member.ts"),A=n("./node_modules/timers-browserify/main.js");n.d(t,"a",function(){return T}),n.d(t,"c",function(){return M});var N=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw c}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var T,D=r.a.sendbirdAppId;!function(e){e.VIEW_PRIVATE="view_private",e.KICKED="kicked",e.BANNED="banned"}(T||(T={}));var M=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.channels={},this.channelUniqueHandlerID=[],this.connectionUniqueHandlerID=[],this.switchChannel=function(e,n){if(t.channel=e,n)return new Promise(function(e){return e([])});t.operatorListQuery=t.channel.createOperatorListQuery(),t.subredditChannelMembersQuery=t.channel.createMemberListQuery(),t.memberListQuery=t.channel.createMemberListQuery(),t.createPreviousMessageListQuery();var r=t.getPreviousMessages(j.c.USER),a=t.getOperators();return Promise.all([r,a])},(this.self=new c.a({appId:D})).Options.typingIndicatorThrottle=1e4}return R(e,[{key:"connect",value:function(e,t,n,r,a){var c=this;return new Promise(function(r){c.dispatch=a,c.self.connect(n,t,"https://"+e,"wss://"+e,function(e,t){c.toggleUpdateListeners(!0),r({data:e,error:t})})})}},{key:"isConnected",value:function(){return!!this.self.currentUser}},{key:"disconnect",value:function(){var e=this;return new Promise(function(t){e.isConnected()&&(e.toggleUpdateListeners(!1),e.self.disconnect(function(){return t()}))})}},{key:"toggleUpdateListeners",value:function(e){var t=this;e?(this.onChannelChanged(),this.onChannelDeleted(),this.onChannelLocked(),this.onChannelUnlocked(),this.onReceiveInvite(),this.onReceiveMessage(),this.onDeleteMessage(),this.onUserActions(),this.onUserKicked(),this.onTypingStatusUpdated(),this.onReconnectStarted(),this.onReconnectSucceeded(),this.onReconnectFailed()):(this.channelUniqueHandlerID.length&&this.channelUniqueHandlerID.forEach(function(e){t.self.removeChannelHandler(e)}),this.connectionUniqueHandlerID.length&&this.channelUniqueHandlerID.forEach(function(e){t.self.removeConnectionHandler(e)}))}},{key:"reconnect",value:function(){this.dispatch(Object(g.e)({toast:C.a.ConnectionPending})),this.dispatch(Object(m.m)())}},{key:"onReconnectStarted",value:function(){var e=this,t=new this.self.ConnectionHandler,n={connectionStatus:x.b.Pending},r={toast:C.a.ConnectionPending};t.onReconnectStarted=function(){e.dispatch(Object(v.h)(n)),e.dispatch(Object(g.e)(r))},this.self.addConnectionHandler("CONNECTION_CHANGE",t),this.connectionUniqueHandlerID.push("CONNECTION_CHANGE")}},{key:"onReconnectSucceeded",value:function(){var e=this,t=new this.self.ConnectionHandler,n={connectionStatus:x.b.Open};t.onReconnectSucceeded=function(){e.dispatch(Object(v.h)(n)),e.dispatch(Object(g.e)({toast:C.a.ConnectionOpen})),Object(A.setTimeout)(function(){return e.dispatch(Object(g.d)())},3*o.ib),e.dispatch(Object(p.q)(!0)),e.dispatch(Object(i.F)())},this.self.addConnectionHandler("RECONNECT_SUCCEEDED",t),this.connectionUniqueHandlerID.push("RECONNECT_SUCCEEDED")}},{key:"onReconnectFailed",value:function(){var e=this,t=new this.self.ConnectionHandler,n={connectionStatus:x.b.Closed};t.onReconnectFailed=function(){e.dispatch(Object(v.h)(n)),e.dispatch(Object(g.e)({toast:C.a.ConnectionClosed}))},this.self.addConnectionHandler("RECONNECT_FAILED",t),this.connectionUniqueHandlerID.push("RECONNECT_FAILED")}},{key:"onReceiveInvite",value:function(){var e=this,t=new this.self.ChannelHandler;t.onUserReceivedInvitation=function(t){var n=Object(w.d)(t,t.memberState);e.dispatch(Object(i.S)(n))},this.self.addChannelHandler("RECEIVE_CHANNEL_INVITE",t),this.channelUniqueHandlerID.push("RECEIVE_CHANNEL_INVITE")}},{key:"onReceiveMessage",value:function(){var e=this,t=new this.self.ChannelHandler;t.onMessageReceived=function(t,n){var r=t.myMemberState,a=Object(w.d)(t,r);e.dispatch(Object(i.R)(a));var c=Object(_.b)(n);c&&e.dispatch(Object(p.r)(c))},this.self.addChannelHandler("RECEIVE_CHANNEL_MESSAGE",t),this.channelUniqueHandlerID.push("RECEIVE_CHANNEL_MESSAGE")}},{key:"onDeleteMessage",value:function(){var e=this,t=new this.self.ChannelHandler;t.onMessageDeleted=function(t,n){e.dispatch(Object(p.t)(n))},this.self.addChannelHandler("DELETE_CHANNEL_MESSAGE",t),this.channelUniqueHandlerID.push("DELETE_CHANNEL_MESSAGE")}},{key:"onTypingStatusUpdated",value:function(){var e=this,t=new this.self.ChannelHandler;t.onTypingStatusUpdated=function(t){var n=Object(k.d)(t.url),r=t.getTypingMembers().map(function(e){return e.nickname});e.dispatch(Object(y.b)({channelId:n,usernames:r}))},this.self.addChannelHandler("TYPING_STATUS_UPDATED",t),this.channelUniqueHandlerID.push("TYPING_STATUS_UPDATED")}},{key:"onUserActions",value:function(){var e=this,t=void 0;!function(e){e.onUserLeft="USER_LEFT_CHANNEL",e.onUserBanned="USER_BANNED_CHANNEL"}(t||(t={})),Object.keys(t).map(function(n){var r=new e.self.ChannelHandler,a=t[n];r[n]=function(t,n){var r=Object(w.d)(t,t.memberState);e.dispatch(Object(i.S)(r,!0))},e.self.addChannelHandler(a,r),e.channelUniqueHandlerID.push(a)})}},{key:"onChannelChanged",value:function(){var e=this,t=new this.self.ChannelHandler;t.onChannelChanged=function(t){var n=t.myMemberState,r=Object(w.d)(t,n);e.dispatch(Object(i.S)(r))},this.self.addChannelHandler("ON_CHANNEL_CHANGED",t),this.channelUniqueHandlerID.push("ON_CHANNEL_CHANGED")}},{key:"onChannelDeleted",value:function(){var e=this,t=new this.self.ChannelHandler;t.onChannelDeleted=function(t){var n=Object(k.d)(t);e.dispatch(h(n))},this.self.addChannelHandler("ON_CHANNEL_DELETED",t),this.channelUniqueHandlerID.push("ON_CHANNEL_DELETED")}},{key:"onChannelLocked",value:function(){var e=this,t=new this.self.ChannelHandler;t.onChannelFrozen=function(t){var n=Object(w.d)(t,t.myMemberState);e.dispatch(Object(i.S)(n))},this.self.addChannelHandler("ON_CHANNEL_LOCKED",t),this.channelUniqueHandlerID.push("ON_CHANNEL_LOCKED")}},{key:"onChannelUnlocked",value:function(){var e=this,t=new this.self.ChannelHandler;t.onChannelUnfrozen=function(t){var n=Object(w.d)(t,t.myMemberState);e.dispatch(Object(i.S)(n))},this.self.addChannelHandler("ON_CHANNEL_UNLOCKED",t),this.channelUniqueHandlerID.push("ON_CHANNEL_UNLOCKED")}},{key:"mapCodeToError",value:function(e){switch(e){case 400750:return T.KICKED;case 400751:return T.BANNED;default:return T.VIEW_PRIVATE}}},{key:"autoJoinSubredditChannel",value:function(e,t){var n=this;return new Promise(function(e,r){var a=t.channelSendbirdUrl,c=t.customData;c&&c.subredditId?n.dispatch(Object(b.u)(a,c.subredditId)).then(function(t){t.error?r({error:n.mapCodeToError(t.error.code)}):e(t.body)}).catch(function(e){r({error:n.mapCodeToError(e.code)})}):e()})}},{key:"convertPartialToSubredditChannel",value:function(e,t){var n=u.b.PARTIAL,r=u.b.INVITED;t===n&&(e.channelState=r,this.dispatch(Object(i.T)({channel:e})))}},{key:"getChannelByChannelId",value:function(e){var t=this;return new Promise(function(n,r){var a=Object(k.a)(e);t.self.GroupChannel.getChannel(a,function(e,t){t?r(t):n(e)})})}},{key:"addChannelModelByChannelId",value:function(e){var t=this;return new Promise(function(n,r){t.getChannelByChannelId(e).then(function(e){if(!e)return n();var r,a,c,o=Object(w.d)(e);if(!o)return n();if(o.type===w.a.Subreddit){var s=o.customData.subreddit;s&&t.dispatch(Object(b.o)((r={},a=s.id,c=s,a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,r)))}t.dispatch(Object(i.T)({channel:o})),n(o)}).catch(function(e){n()})})}},{key:"enterChannel",value:function(e,t,n){var r=this;return new Promise(function(a){var c=function(){return{data:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}};if(!r.isConnected())return a(c());var o=e.channelId,s=r.channels[o];if(s&&!t)return r.switchChannel(s,n).then(function(e){var t=N(e,2),n=t[0],r=t[1];return a(c({messageListData:n,moderators:r}))}).catch(function(){return a(c())});r.getChannelByChannelId(o).then(function(s){if(!s)return a(c());r.channels[o]=s;var d=Object(w.d)(s);if(r.convertPartialToSubredditChannel(d,e.channelState),t&&d.type===w.a.Subreddit)return r.autoJoinSubredditChannel(s,d).then(function(e){var t=Object(E.a)(e,u.b.JOINED);r.dispatch(Object(i.T)({channel:t})),r.switchChannel(s).then(function(e){var t=N(e,2),n=t[0],r=t[1];return a(c({messageListData:n,moderators:r}))}).catch(function(){return a(c())})}).catch(function(e){return a(c(e.error))});r.switchChannel(s,n).then(function(e){var t=N(e,2),n=t[0],r=t[1];return a(c({messageListData:n,moderators:r}))}).catch(function(){return a(c())})}).catch(function(){return a(c())})})}},{key:"updateChannel",value:function(e){var t=this,n=e.name,r=e.coverUrl,a=e.data;return new Promise(function(e,c){t.channel?t.channel.updateChannel(n,r,a,function(t,n){return t?e():c(n)}):c("No channel selected")})}},{key:"hideChannel",value:function(){var e=this;return new Promise(function(t){if(e.channel)return e.channel.hide(),t();t()})}},{key:"leaveChannel",value:function(){var e=this;return new Promise(function(t,n){if(e.channel)return e.channel.leave(function(e,t){t&&n(t)}),t();n("No channel selected")})}},{key:"acceptChannelInvite",value:function(){var e=this;return new Promise(function(t){if(e.channel)return e.channel.acceptInvitation(),t();t()})}},{key:"declineChannelInvite",value:function(){var e=this;return new Promise(function(t){if(e.channel)return e.channel.declineInvitation(),t();t()})}},{key:"lockChannel",value:function(){var e=this;return new Promise(function(t,n){return e.channel&&e.channel.freeze(function(e,t){t&&n(t)}),t()})}},{key:"unlockChannel",value:function(){var e=this;return new Promise(function(t,n){return e.channel&&e.channel.unfreeze(function(e,t){t&&n(t)}),t()})}},{key:"getOperators",value:function(){var e=this;return new Promise(function(t,n){e.operatorListQuery?(e.operatorListQuery.limit=100,e.operatorListQuery.hasNext&&e.operatorListQuery.next(function(e,r){r&&n(r),t(e)})):n("No channel selected")})}},{key:"onUserKicked",value:function(){var e=this,t=new this.self.ChannelHandler;t.onUserBanned=function(t,n){var r=Object(I.b)(t,t.memberState);r&&e.dispatch(Object(b.s)(r,n.userId))},this.self.addChannelHandler("CHANNEL_USER_KICKED",t),this.channelUniqueHandlerID.push("CHANNEL_USER_KICKED")}},{key:"kickUserFromChannel",value:function(e,t,n){var r=this;return new Promise(function(a,c){return r.channel?(r.channel.banUserWithUserId(e,t,n,function(e,t){return e?a():c(t)}),a()):a()})}},{key:"getExistingChannels",value:function(e,t){var n=this;return new Promise(function(r,a){var c=void 0;e===u.b.INVITED&&t===u.f.NonSuper?n.channelListQueryInvited?c=n.channelListQueryInvited:(n.channelListQueryInvited=n.self.GroupChannel.createMyGroupChannelListQuery(),c=n.channelListQueryInvited):e===u.b.JOINED&&t===u.f.NonSuper?n.channelListQueryJoined?c=n.channelListQueryJoined:(n.channelListQueryJoined=n.self.GroupChannel.createMyGroupChannelListQuery(),c=n.channelListQueryJoined):e===u.b.JOINED&&t===u.f.Super?n.channelListQueryJoinedSubreddit?c=n.channelListQueryJoinedSubreddit:(n.channelListQueryJoinedSubreddit=n.self.GroupChannel.createMyGroupChannelListQuery(),c=n.channelListQueryJoinedSubreddit):e===u.b.INVITED&&t===u.f.Super&&(n.channelListQueryInvitedSubreddit?c=n.channelListQueryInvitedSubreddit:(n.channelListQueryInvitedSubreddit=n.self.GroupChannel.createMyGroupChannelListQuery(),c=n.channelListQueryInvitedSubreddit)),c.includeEmpty=!0,c.limit=O.a.Channels,c.memberStateFilter=n.self.GroupChannel.memberState[e],c.superChannelFilter=t,c.hasNext?c.next(function(e,t){if(t)a(t);else{var n=c.hasNext;r({channels:e,hasMoreChannels:n})}}):r()})}},{key:"getSubredditChannelMembers",value:function(){var e=this;return new Promise(function(t,n){e.subredditChannelMembersQuery.hasNext&&e.subredditChannelMembersQuery.next(function(r,a){if(a)n(a);else{var c=e.subredditChannelMembersQuery.hasNext;t({members:r,hasMoreMembers:c})}})})}},{key:"getChannelMembersStartsWith",value:function(e){var t=this;return new Promise(function(n,r){t.memberListQuery=t.channel.createMemberListQuery(),t.memberListQuery.nicknameStartsWithFilter=e,t.memberListQuery.next(function(e,a){if(a)r(a);else{var c=t.memberListQuery.hasNext;n({members:e,hasMoreMembers:c})}})})}},{key:"searchMemberByName",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r,a){t.memberListQuery=t.channel.createMemberListQuery(),t.memberListQuery.nicknameStartsWithFilter=e,t.memberListQuery.next(function(a,c){var o=Object(S.a)(a),i=o.filter(function(t){return n&&t&&t.name===e||!n&&t});o.length&&t.dispatch(Object(m.i)(o)),r(i)})})}},{key:"startTypingIndicator",value:function(){this.channel&&this.channel.startTyping()}},{key:"endTypingIndicator",value:function(){this.channel&&this.channel.endTyping()}},{key:"getPreviousMessages",value:function(e,t){var n=this;return new Promise(function(r,a){if(n.channel){var c={};t&&n.createPreviousMessageListQuery(),n.messageListQuery.load(O.a.Messages,!0,e,function(e,t){if(t)a();else{e.forEach(function(e){c[e.messageId]=Object(_.b)(e)});var o=n.messageListQuery.hasMore;r({messages:c,hasMore:o})}})}else a()})}},{key:"addMessage",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(a,c){if(n.channel){var o=new n.self.UserMessageParams;o.data=t,o.message=e,r&&r.length&&(o.mentionType=n.self.BaseMessageParams.MentionType.USERS,o.mentionedUserIds=r),n.channel.sendUserMessage(o,function(e,t){t?c():a(Object(_.b)(e))})}})}},{key:"createPreviousMessageListQuery",value:function(){this.messageListQuery=this.channel.createPreviousMessageListQuery()}},{key:"deleteMessage",value:function(e){var t=this;return new Promise(function(n){t.channel&&t.channel.deleteMessage(e,function(e,t){t||n(e)})})}},{key:"getFirstMessage",value:function(){var e=this;return new Promise(function(t,n){e.channel?e.channel.getNextMessagesByTimestamp(0,!0,1,!0,"","",function(e,n){n||t(e)}):n()})}},{key:"markChannelAsRead",value:function(){var e=this;return new Promise(function(t){e.channel&&e.channel.markAsRead(),t()})}},{key:"setMyCountPreference",value:function(e){var t=this;return new Promise(function(n){t.channel&&t.channel.setMyCountPreference(e),n()})}},{key:"resetChannelMessageListQuery",value:function(){var e=this;return new Promise(function(t){e.messageListQuery=e.channel.createPreviousMessageListQuery(),t()})}}]),e}());t.b=M},"./src/chat/tracking/events/chatPreview.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u});var r=n("./src/telemetry/models/Event.ts"),a=n("./src/chat/tracking/fields/chat.ts"),c=n("./src/chat/tracking/fields/common.ts"),o=n("./src/chat/tracking/fields/subreddit.ts"),i=n("./src/chat/tracking/sendEvent.ts"),s=function(e){Object(i.a)(Object.assign({noun:"preview",source:r.b.ChatPreview,action:r.a.View,chat:Object.assign({},Object(a.g)(e),Object(a.y)(e),Object(a.o)(e),Object(a.r)(e)),subreddit:Object.assign({},Object(o.a)(e),Object(o.b)(e))},Object(c.a)(e)))},u=function(e){Object(i.a)(Object.assign({noun:"join",source:r.b.ChatPreview,action:r.a.Click,chat:Object.assign({},Object(a.g)(e),Object(a.y)(e),Object(a.o)(e),Object(a.r)(e)),subreddit:Object.assign({},Object(o.a)(e),Object(o.b)(e))},Object(c.a)(e)))}},"./src/chat/tracking/events/chatView.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return f});var r=n("./src/telemetry/models/Event.ts"),a=n("./src/chat/tracking/fields/chat.ts"),c=n("./src/chat/tracking/fields/common.ts"),o=n("./src/chat/tracking/fields/subreddit.ts"),i=n("./src/chat/tracking/sendEvent.ts"),s=function(e){return Object(i.a)(Object.assign({noun:"chat",source:r.b.ChatView,action:r.a.View,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.r)(e),Object(a.l)(e),Object(a.w)(e)),subreddit:Object.assign({},Object(o.a)(e),Object(o.b)(e))},Object(c.a)(e)))},u=function(e,t){Object(i.a)(Object.assign({noun:"chat_message",source:r.b.ChatView,action:r.a.Submit,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.r)(e,0),Object(a.m)(e,t),Object(a.v)(e,t),Object(a.w)(e)),subreddit:Object.assign({},Object(o.a)(e),Object(o.b)(e))},Object(c.a)(e)))},d=function(e,t){Object(i.a)(Object.assign({noun:"chat_message_failed",source:r.b.ChatView,action:r.a.View,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.r)(e,0),Object(a.s)(e,t),Object(a.v)(e),Object(a.w)(e)),subreddit:Object.assign({},Object(o.a)(e),Object(o.b)(e))},Object(c.a)(e)))},l=function(e,t){Object(i.a)(Object.assign({noun:"report_message",source:r.b.ChatView,action:r.a.Submit,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.r)(e,0),Object(a.m)(e,t),Object(a.v)(e,t),Object(a.w)(e)),subreddit:Object.assign({},Object(o.a)(e),Object(o.b)(e))},Object(c.a)(e)))},f=function(e){Object(i.a)(Object.assign({noun:"history",source:r.b.ChatView,action:r.a.View,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.w)(e)),subreddit:Object.assign({},Object(o.a)(e),Object(o.b)(e))},Object(c.a)(e)))}},"./src/chat/tracking/events/contactsList.ts":function(e,t,n){"use strict";n.d(t,"g",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return b});var r=n("./src/chat/tracking/sendEvent.ts"),a=n("./src/telemetry/models/Event.ts"),c=n("./src/chat/tracking/fields/chat.ts"),o=n("./src/chat/tracking/fields/common.ts"),i=n("./src/chat/tracking/fields/subreddit.ts"),s=function(e){Object(r.a)(Object.assign({noun:"contacts",source:a.b.ContactsList,action:a.a.View,chat:Object.assign({},Object(c.c)(e),Object(c.d)(e))},Object(o.a)(e)))},u=function(e,t){Object(r.a)(Object.assign({noun:"contact_add",source:a.b.ContactsList,action:a.a.Click,chat:Object.assign({},Object(c.e)(e),Object(c.a)(e,t),Object(c.c)(e),Object(c.g)(e),Object(c.f)(e),Object(c.z)(e,t))},Object(o.a)(e)))},d=function(e){Object(r.a)(Object.assign({noun:"alert_invalid_user",source:a.b.ContactsList,action:a.a.View,chat:Object.assign({},Object(c.y)(e),Object(c.c)(e),Object(c.d)(e),Object(c.g)(e),Object(c.z)(e,"search"),Object(c.f)(e))},Object(o.a)(e)))},l=function(e,t){Object(r.a)(Object.assign({noun:"alert_invalid_channel",source:a.b.ContactsList,action:a.a.View,chat:Object.assign({},Object(c.y)(e),Object(c.c)(e),Object(c.d)(e),Object(c.g)(e),Object(c.z)(e,t),Object(c.f)(e))},Object(o.a)(e)))},f=function(e,t){Object(r.a)(Object.assign({noun:"create_chat",source:a.b.ContactsList,action:a.a.Click,chat:Object.assign({},Object(c.y)(e,t),Object(c.c)(e),Object(c.d)(e),Object(c.g)(e,t),Object(c.f)(e))},Object(o.a)(e)))},h=function(e){Object(r.a)(Object.assign({noun:"close_contacts",source:a.b.ContactsList,action:a.a.Click,chat:Object.assign({},Object(c.e)(e),Object(c.c)(e),Object(c.d)(e),Object(c.g)(e),Object(c.f)(e))},Object(o.a)(e)))},b=function(e){Object(r.a)(Object.assign({noun:"add_to_chat",source:a.b.ContactsList,action:a.a.Click,chat:Object.assign({},Object(c.y)(e),Object(c.o)(e),Object(c.g)(e),Object(c.d)(e),Object(c.f)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(o.a)(e)))}},"./src/chat/tracking/events/invitationInbox.ts":function(e,t,n){"use strict";n.d(t,"f",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return b});var r=n("./src/chat/tracking/sendEvent.ts"),a=n("./src/telemetry/models/Event.ts"),c=n("./src/chat/tracking/fields/chat.ts"),o=n("./src/chat/tracking/fields/common.ts"),i=n("./src/chat/tracking/fields/subreddit.ts"),s=function(e){return Object(r.a)(Object.assign({noun:"inbox",source:a.b.InvitationInbox,action:a.a.View,chat:Object.assign({},Object(c.j)(e,"room"),Object(c.p)(e))},Object(o.a)(e)))},u=function(e){return Object(r.a)(Object.assign({noun:"invitation",source:a.b.InvitationInbox,action:a.a.View,chat:Object.assign({},Object(c.j)(e),Object(c.k)(e),Object(c.h)(e),Object(c.i)(e),Object(c.o)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(o.a)(e)))},d=function(e){return Object(r.a)(Object.assign({noun:"invitation_accept",source:a.b.InvitationInbox,action:a.a.Click,chat:Object.assign({},Object(c.j)(e),Object(c.k)(e),Object(c.h)(e),Object(c.i)(e),Object(c.o)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(o.a)(e)))},l=function(e){return Object(r.a)(Object.assign({noun:"invitation_decline",source:a.b.InvitationInbox,action:a.a.Click,chat:Object.assign({},Object(c.j)(e),Object(c.k)(e),Object(c.h)(e),Object(c.i)(e),Object(c.o)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(o.a)(e)))},f=function(e){return Object(r.a)(Object.assign({noun:"invitation_view_member",source:a.b.InvitationInbox,action:a.a.Click,chat:Object.assign({},Object(c.j)(e),Object(c.k)(e),Object(c.h)(e),Object(c.i)(e),Object(c.o)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(o.a)(e)))},h=function(e){Object(r.a)(Object.assign({noun:"expand",source:a.b.InvitationInbox,action:a.a.Click},Object(o.a)(e)))},b=function(e){Object(r.a)(Object.assign({noun:"collapse",source:a.b.InvitationInbox,action:a.a.Click},Object(o.a)(e)))}},"./src/chat/tracking/events/messagesInbox.ts":function(e,t,n){"use strict";var r=n("./src/chat/selectors/telemetry.ts"),a=n("./src/chat/selectors/promos.ts"),c=function(e){return{settingValue:Object(a.c)(e)?"ftue_none":"ftue_open"}},o=n("./src/chat/tracking/fields/chat.ts"),i=n("./src/chat/tracking/fields/common.ts"),s=n("./src/chat/tracking/sendEvent.ts"),u=n("./src/telemetry/models/Event.ts");n.d(t,"e",function(){return d}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"g",function(){return b}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return m});var d=function(e){Object(s.a)(Object.assign({noun:"inbox",source:u.b.MessageInbox,action:u.a.View,chat:Object.assign({},Object(o.n)(e),Object(o.x)(e),Object(o.p)(e,!1))},Object(i.a)(e)))},l=function(e){Object(s.a)(Object.assign({noun:"rooms_inbox",source:u.b.MessageInbox,action:u.a.View,chat:Object.assign({},Object(o.q)(e),Object(o.p)(e,!0))},Object(i.a)(e)))},f=function(e){Object(s.a)(Object.assign({noun:"create_chat",source:u.b.MessageInbox,action:u.a.Click,chat:Object.assign({},Object(o.n)(e),Object(o.x)(e),Object(o.p)(e))},Object(i.a)(e)))},h=function(e){Object(s.a)(Object.assign({noun:"close_chat",source:u.b.MessageInbox,action:u.a.Click,chat:Object.assign({},Object(o.n)(e),Object(o.p)(e))},Object(i.a)(e),{actionInfo:Object.assign({},c(e),Object(r.a)(e))}))},b=function(e){Object(s.a)(Object.assign({noun:"rooms_tooltip_523",source:u.b.MessageInbox,action:u.a.View,chat:Object.assign({},Object(o.n)(e),Object(o.p)(e))},Object(i.a)(e)))},p=function(e){Object(s.a)(Object.assign({noun:"dismiss_rooms_tooltip_523",source:u.b.MessageInbox,action:u.a.Click,chat:Object.assign({},Object(o.n)(e),Object(o.p)(e))},Object(i.a)(e)))},m=function(e){Object(s.a)(Object.assign({noun:"minimize_chat",source:u.b.MessageInbox,action:u.a.Click,chat:Object.assign({},Object(o.n)(e),Object(o.p)(e))},Object(i.a)(e),{actionInfo:Object.assign({},c(e),Object(r.a)(e))}))}},"./src/chat/tracking/fields/subreddit.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n("./src/chat/selectors/subreddit.ts"),a=function(e){var t=Object(r.b)(e);return t&&{id:t.id}},c=function(e){var t=Object(r.b)(e);return t&&{name:t.name}}},"./src/lib/linkMatchers/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/linkify-it/index.js"),a=n.n(r),c=n("./node_modules/tlds/index.js"),o=n.n(c),i=n("./src/lib/linkMatchers/customLinks.ts"),s=n("./node_modules/lodash/values.js"),u=n.n(s),d=function(e){return u()(i.b).includes(e.substring(1))};function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.d(t,"c",function(){return f}),n.d(t,"d",function(){return b}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"e",function(){return O}),n.d(t,"f",function(){return j});var f=a()().tlds(o.a).set({fuzzyIP:!0}),h=a()().set({fuzzyIP:!0}).add(i.f.mention.prefix,i.f.mention.config),b=a()().set({fuzzyLink:!1,fuzzyEmail:!1}).add(i.f.subreddit.prefix,i.f.subreddit.config).add(i.f.subredditFull.prefix,i.f.subreddit.config),p=a()().set({fuzzyLink:!1,fuzzyEmail:!1}).add(i.f.profile.prefix,i.f.profile.config).add(i.f.profileFull.prefix,i.f.profile.config),m=a()().tlds(o.a).set({fuzzyIP:!0}).add(i.f.subreddit.prefix,i.f.subreddit.config).add(i.f.subredditFull.prefix,i.f.subreddit.config).add(i.f.profile.prefix,i.f.profile.config).add(i.f.profileFull.prefix,i.f.profile.config).add(i.f.mention.prefix,i.f.mention.config),v=f.normalize;f.normalize=function(e){v.call(f,e),!e.schema&&e.url.startsWith("http:")&&(e.url="https:"+e.url.slice(5))};var g=function(e,t){return(m.match(e)||[]).filter(function(e){var n=d(e.text);return!n||n&&t})},y=function(e){var t=p.match(e)||[],n=h.match(e)||[];return[].concat(l(t),l(n)).map(function(e){return!d(e.text)&&e.text.replace(i.a,"")}).filter(function(e){return e})},O=function(e,t){var n=e.match(t);if(n&&1===n.length&&0===n[0].index&&n[0].lastIndex===t.length)return n[0]},j=function(e){var t=f.match(e);if(t&&1===t.length&&0===t[0].index){var n=t[0];return n.lastIndex===e.length?n:function(e,t){var n=e.substring(t.lastIndex);if(/.*\/\/.*\/.*/.test(t.url)&&/^(\?|\!)+$/.test(n))return t.lastIndex+=n.length,t.url+=n,t}(e,n)}}},"./src/lib/messageIframeParent/index.ts":function(e,t,n){"use strict";t.a=function(e,t){var n=e.type,r=e.data,a=void 0===r?{}:r;if(window.parent!==window){var c={type:t?n+"."+t:n,data:a};window.parent.postMessage(JSON.stringify(c),"*")}}}}]);
//# sourceMappingURL=Chat~RedesignChat.39691cbb24e7022227c1.js.map